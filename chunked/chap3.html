<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<meta name="author" content="Barry Wittman, Tim Korb, Aditya Mathur">
<title>Start Concurrent: A Gentle Introduction to Concurrent Programming</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="style0.css" type="text/css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="style1.css" type="text/css">
<link rel="stylesheet" href="asciidoctor-chunker.css" type="text/css"></head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Start Concurrent: A Gentle Introduction to Concurrent Programming</h1>
<div class="details">
<span id="author" class="author">Barry Wittman</span><br>
<span id="email" class="email"><a href="mailto:wittman1@otterbein.edu">wittman1@otterbein.edu</a></span><br>
<span id="author2" class="author">Tim Korb</span><br>
<span id="email2" class="email"><a href="mailto:jtk@purdue.edu">jtk@purdue.edu</a></span><br>
<span id="author3" class="author">Aditya Mathur</span><br>
<span id="email3" class="email"><a href="mailto:apm@purdue.edu">apm@purdue.edu</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="index.html">Attacking Problems with Java</a></li><li><a href="index.html">1. Computer Basics</a>
<ul class="sectlevel2">
<li><a href="index.html#_problem_buying_a_computer">1.1. Problem: Buying a computer</a></li>
<li><a href="index.html#_concepts_hardware_and_software">1.2. Concepts: Hardware and software</a></li>
<li><a href="index.html#_syntax_data_representation">1.3. Syntax: Data representation</a></li>
<li><a href="index.html#_solution_buying_a_computer">1.4. Solution: Buying a computer</a></li>
<li><a href="index.html#_summary">1.5. Summary</a></li>
<li><a href="index.html#_exercises">1.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap2.html">2. Problem Solving and Programming</a>
<ul class="sectlevel2">
<li><a href="chap2.html#_problem_how_to_solve_problems">2.1. Problem: How to solve problems</a></li>
<li><a href="chap2.html#_concepts_developing_software">2.2. Concepts: Developing software</a></li>
<li><a href="chap2.html#_syntax_java_basics">2.3. Syntax: Java basics</a></li>
<li><a href="chap2.html#_solution_how_to_solve_problems">2.4. Solution: How to solve problems</a></li>
<li><a href="chap2.html#_concurrency_solving_problems_in_parallel">2.5. Concurrency: Solving problems in parallel</a></li>
<li><a href="chap2.html#_summary_2">2.6. Summary</a></li>
<li><a href="chap2.html#_exercises_2">2.7. Exercises</a></li>
</ul>
</li>
<li class="current"><a href="chap3.html">3. Primitive Types and Strings</a>
<ul class="sectlevel2">
<li class="current"><a href="chap3.html#_problem_college_cost_calculator">3.1. Problem: College cost calculator</a></li>
<li class="current"><a href="chap3.html#_concepts_types">3.2. Concepts: Types</a></li>
<li class="current"><a href="chap3.html#_syntax_types_in_java">3.3. Syntax: Types in Java</a></li>
<li class="current"><a href="chap3.html#_syntax_useful_libraries">3.4. Syntax: Useful libraries</a></li>
<li class="current"><a href="chap3.html#_solution_college_cost_calculator">3.5. Solution: College cost calculator</a></li>
<li class="current"><a href="chap3.html#_concurrency_expressions">3.6. Concurrency: Expressions</a></li>
<li class="current"><a href="chap3.html#_summary_3">3.7. Summary</a></li>
<li class="current"><a href="chap3.html#_exercises_3">3.8. Exercises</a></li>
</ul>
</li>
<li><a href="chap4.html">4. Selection</a>
<ul class="sectlevel2">
<li><a href="chap4.html#_problem_monty_hall_simulation">4.1. Problem: Monty Hall simulation</a></li>
<li><a href="chap4.html#_concepts_choosing_between_options">4.2. Concepts: Choosing between options</a></li>
<li><a href="chap4.html#_syntax_selection_in_java">4.3. Syntax: Selection in Java</a></li>
<li><a href="chap4.html#_solution_monty_hall">4.4. Solution: Monty Hall</a></li>
<li><a href="chap4.html#_concurrency_selection">4.5. Concurrency: Selection</a></li>
<li><a href="chap4.html#_exercises_4">4.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap5.html">5. Repetition</a>
<ul class="sectlevel2">
<li><a href="chap5.html#_problem_dna_searching">5.1. Problem: DNA searching</a></li>
<li><a href="chap5.html#_concepts_repetition">5.2. Concepts: Repetition</a></li>
<li><a href="chap5.html#_syntax_loops_in_java">5.3. Syntax: Loops in Java</a></li>
<li><a href="chap5.html#_solution_dna_searching">5.4. Solution: DNA searching</a></li>
<li><a href="chap5.html#_concurrency_loops">5.5. Concurrency: Loops</a></li>
<li><a href="chap5.html#_exercises_5">5.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap6.html">6. Arrays</a>
<ul class="sectlevel2">
<li><a href="chap6.html#_introduction">6.1. Introduction</a></li>
<li><a href="chap6.html#_problem_game_of_life">6.2. Problem: Game of Life</a></li>
<li><a href="chap6.html#_concepts_lists_of_data">6.3. Concepts: Lists of data</a></li>
<li><a href="chap6.html#_syntax_arrays_in_java">6.4. Syntax: Arrays in Java</a></li>
<li><a href="chap6.html#_examples_array_usage">6.5. Examples: Array usage</a></li>
<li><a href="chap6.html#_concepts_multidimensional_lists">6.6. Concepts: Multidimensional lists</a></li>
<li><a href="chap6.html#_syntax_advanced_arrays_in_java">6.7. Syntax: Advanced arrays in Java</a></li>
<li><a href="chap6.html#_examples_two_dimensional_arrays">6.8. Examples: Two-dimensional arrays</a></li>
<li><a href="chap6.html#_advanced_special_array_tools_in_java">6.9. Advanced: Special array tools in Java</a></li>
<li><a href="chap6.html#_solution_game_of_life">6.10. Solution: Game of Life</a></li>
<li><a href="chap6.html#_concurrency_arrays">6.11. Concurrency: Arrays</a></li>
<li><a href="chap6.html#_exercises_6">6.12. Exercises</a></li>
</ul>
</li>
<li><a href="chap7.html">7. Simple Graphical User Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap7.html#_problem_codon_extractor">7.1. Problem: Codon extractor</a></li>
<li><a href="chap7.html#GUIBasicsIntroductionSection">7.2. Concepts: User interaction</a></li>
<li><a href="chap7.html#_syntax_dialogs_and_the_joptionpane_class">7.3. Syntax: Dialogs and the <code>JOptionPane</code> class</a></li>
<li><a href="chap7.html#_solution_codon_extractor">7.4. Solution: Codon extractor</a></li>
<li><a href="chap7.html#_concurrency_simple_guis">7.5. Concurrency: Simple GUIs</a></li>
<li><a href="chap7.html#_summary_4">7.6. Summary</a></li>
<li><a href="chap7.html#_exercises_7">7.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap8.html">8. Methods</a>
<ul class="sectlevel2">
<li><a href="chap8.html#_problem_three_card_poker">8.1. Problem: Three card poker</a></li>
<li><a href="chap8.html#_concepts_dividing_work_into_segments">8.2. Concepts: Dividing work into segments</a></li>
<li><a href="chap8.html#_syntax_methods">8.3. Syntax: Methods</a></li>
<li><a href="chap8.html#_examples_defining_methods">8.4. Examples: Defining methods</a></li>
<li><a href="chap8.html#_solution_three_card_poker">8.5. Solution: Three card poker</a></li>
<li><a href="chap8.html#_concurrency_methods">8.6. Concurrency: Methods</a></li>
<li><a href="chap8.html#_exercises_8">8.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap9.html">9. Classes</a>
<ul class="sectlevel2">
<li><a href="chap9.html#_problem_nested_expressions">9.1. Problem: Nested expressions</a></li>
<li><a href="chap9.html#_concepts_object_oriented_programming">9.2. Concepts: Object-oriented programming</a></li>
<li><a href="chap9.html#_syntax_classes_in_java">9.3. Syntax: Classes in Java</a></li>
<li><a href="chap9.html#_advanced_nested_classes">9.4. Advanced: Nested classes</a></li>
<li><a href="chap9.html#_solution_nested_expressions">9.5. Solution: Nested expressions</a></li>
<li><a href="chap9.html#_concurrency_objects">9.6. Concurrency: Objects</a></li>
<li><a href="chap9.html#_exercises_9">9.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap10.html">10. Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap10.html#_problem_sort_it_out">10.1. Problem: Sort it out</a></li>
<li><a href="chap10.html#_concepts_making_a_promise">10.2. Concepts: Making a promise</a></li>
<li><a href="chap10.html#_syntax_interfaces">10.3. Syntax: Interfaces</a></li>
<li><a href="chap10.html#_advanced_local_and_anonymous_classes">10.4. Advanced: Local and anonymous classes</a></li>
<li><a href="chap10.html#_solution_sort_it_out">10.5. Solution: Sort it out</a></li>
<li><a href="chap10.html#_concurrency_interfaces">10.6. Concurrency: Interfaces</a></li>
<li><a href="chap10.html#_exercises_10">10.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap11.html">11. Inheritance</a>
<ul class="sectlevel2">
<li><a href="chap11.html#_problem_boolean_circuits">11.1. Problem: Boolean circuits</a></li>
<li><a href="chap11.html#_concepts_refining_classes">11.2. Concepts: Refining classes</a></li>
<li><a href="chap11.html#_syntax_inheritance_in_java">11.3. Syntax: Inheritance in Java</a></li>
<li><a href="chap11.html#_examples_problem_solving_with_inheritance">11.4. Examples: Problem solving with inheritance</a></li>
<li><a href="chap11.html#_solution_boolean_circuits">11.5. Solution: Boolean circuits</a></li>
<li><a href="chap11.html#_concurrency_inheritance">11.6. Concurrency: Inheritance</a></li>
<li><a href="chap11.html#_exercises_11">11.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap12.html">12. Exceptions</a>
<ul class="sectlevel2">
<li><a href="chap12.html#_problem_bank_burglary">12.1. Problem: Bank burglary</a></li>
<li><a href="chap12.html#_concepts_error_handling">12.2. Concepts: Error handling</a></li>
<li><a href="chap12.html#_syntax_exceptions_in_java">12.3. Syntax: Exceptions in Java</a></li>
<li><a href="chap12.html#_solution_bank_burglary">12.4. Solution: Bank burglary</a></li>
<li><a href="chap12.html#_concurrency_exceptions">12.5. Concurrency: Exceptions</a></li>
<li><a href="chap12.html#_exercises_12">12.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap13.html">13. Concurrent Programming</a>
<ul class="sectlevel2">
<li><a href="chap13.html#_introduction_2">13.1. Introduction</a></li>
<li><a href="chap13.html#_problem_deadly_virus">13.2. Problem: Deadly virus</a></li>
<li><a href="chap13.html#_concepts_splitting_up_work">13.3. Concepts: Splitting up work</a></li>
<li><a href="chap13.html#_syntax_threads_in_java">13.4. Syntax: Threads in Java</a></li>
<li><a href="chap13.html#_examples_concurrency_and_speedup">13.5. Examples: Concurrency and speedup</a></li>
<li><a href="chap13.html#_concepts_thread_scheduling">13.6. Concepts: Thread scheduling</a></li>
<li><a href="chap13.html#_syntax_thread_states">13.7. Syntax: Thread states</a></li>
<li><a href="chap13.html#_solution_deadly_virus">13.8. Solution: Deadly virus</a></li>
<li><a href="chap13.html#_summary_5">13.9. Summary</a></li>
<li><a href="chap13.html#_exercises_13">13.10. Exercises</a></li>
</ul>
</li>
<li><a href="chap14.html">14. Synchronization</a>
<ul class="sectlevel2">
<li><a href="chap14.html#_introduction_3">14.1. Introduction</a></li>
<li><a href="chap14.html#_problem_dining_philosophers">14.2. Problem: Dining philosophers</a></li>
<li><a href="chap14.html#_concepts_thread_interaction">14.3. Concepts: Thread interaction</a></li>
<li><a href="chap14.html#_syntax_thread_synchronization">14.4. Syntax: Thread synchronization</a></li>
<li><a href="chap14.html#_pitfalls_synchronization_challenges">14.5. Pitfalls: Synchronization challenges</a></li>
<li><a href="chap14.html#_solution_dining_philosophers">14.6. Solution: Dining philosophers</a></li>
<li><a href="chap14.html#_exercises_14">14.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap15.html">15. Constructing Graphical User Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap15.html#_problem_math_tutor">15.1. Problem: Math tutor</a></li>
<li><a href="chap15.html#_concepts_graphical_user_interfaces">15.2. Concepts: Graphical user interfaces</a></li>
<li><a href="chap15.html#_syntax_guis_in_java">15.3. Syntax: GUIs in Java</a></li>
<li><a href="chap15.html#_solution_math_tutor">15.4. Solution: Math tutor</a></li>
<li><a href="chap15.html#_concurrency_guis">15.5. Concurrency: GUIs</a></li>
<li><a href="chap15.html#_summary_6">15.6. Summary</a></li>
<li><a href="chap15.html#_exercises_15">15.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap16.html">16. Testing and Debugging</a>
<ul class="sectlevel2">
<li><a href="chap16.html#_fixing_bugs">16.1. Fixing bugs</a></li>
<li><a href="chap16.html#_concepts_approaches_to_debugging">16.2. Concepts: Approaches to debugging</a></li>
<li><a href="chap16.html#_syntax_java_debugging_tools">16.3. Syntax: Java debugging tools</a></li>
<li><a href="chap16.html#_concurrency_parallel_bugs">16.4. Concurrency: Parallel bugs</a></li>
<li><a href="chap16.html#_finding_and_avoiding_bugs">16.5. Finding and avoiding bugs</a></li>
<li><a href="chap16.html#_concepts_design_implementation_and_testing">16.6. Concepts: Design, implementation, and testing</a></li>
<li><a href="chap16.html#_syntax_java_testing_tools">16.7. Syntax: Java testing tools</a></li>
<li><a href="chap16.html#_concurrency_testing_tools">16.8. Concurrency: Testing tools</a></li>
<li><a href="chap16.html#_examples_testing_a_class">16.9. Examples: Testing a class</a></li>
<li><a href="chap16.html#_exercises_16">16.10. Exercises</a></li>
</ul>
</li>
<li><a href="chap17.html">17. Polymorphism</a>
<ul class="sectlevel2">
<li><a href="chap17.html#_problem_banking_account_with_a_vengeance">17.1. Problem: Banking account with a vengeance</a></li>
<li><a href="chap17.html#_concepts_polymorphism">17.2. Concepts: Polymorphism</a></li>
<li><a href="chap17.html#_syntax_inheritance_tools_in_java">17.3. Syntax: Inheritance tools in Java</a></li>
<li><a href="chap17.html#_solution_banking_account_with_a_vengeance">17.4. Solution: Banking account with a vengeance</a></li>
<li><a href="chap17.html#_concurrency_atomic_libraries">17.5. Concurrency: Atomic libraries</a></li>
<li><a href="chap17.html#_exercises_17">17.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap18.html">18. Dynamic Data Structures</a>
<ul class="sectlevel2">
<li><a href="chap18.html#_problem_infix_conversion">18.1. Problem: Infix conversion</a></li>
<li><a href="chap18.html#_concepts_dynamic_data_structures">18.2. Concepts: Dynamic data structures</a></li>
<li><a href="chap18.html#_syntax_dynamic_arrays_and_linked_lists">18.3. Syntax: Dynamic arrays and linked lists</a></li>
<li><a href="chap18.html#_syntax_abstract_data_types_adt">18.4. Syntax: Abstract data types (ADT)</a></li>
<li><a href="chap18.html#_advanced_generic_data_structures">18.5. Advanced: Generic data structures</a></li>
<li><a href="chap18.html#_solution_infix_conversion">18.6. Solution: Infix conversion</a></li>
<li><a href="chap18.html#_concurrency_linked_lists_and_thread_safety">18.7. Concurrency: Linked lists and thread safety</a></li>
<li><a href="chap18.html#_concurrency_thread_safe_libraries">18.8. Concurrency: Thread-safe libraries</a></li>
<li><a href="chap18.html#_exercises_18">18.9. Exercises</a></li>
</ul>
</li>
<li><a href="chap19.html">19. Recursion</a>
<ul class="sectlevel2">
<li><a href="chap19.html#_problem_maze_of_doom">19.1. Problem: Maze of doom</a></li>
<li><a href="chap19.html#_concepts_recursive_problem_solving">19.2. Concepts: Recursive problem solving</a></li>
<li><a href="chap19.html#_syntax_recursive_methods">19.3. Syntax: Recursive methods</a></li>
<li><a href="chap19.html#_syntax_recursive_data_structures">19.4. Syntax: Recursive data structures</a></li>
<li><a href="chap19.html#_solution_maze_of_doom">19.5. Solution: Maze of doom</a></li>
<li><a href="chap19.html#_concurrency_futures">19.6. Concurrency: Futures</a></li>
<li><a href="chap19.html#_exercises_19">19.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap20.html">20. File I/O</a>
<ul class="sectlevel2">
<li><a href="chap20.html#_problem_a_picture_is_worth_1000_bytes">20.1. Problem: A picture is worth 1,000 bytes</a></li>
<li><a href="chap20.html#_concepts_file_io">20.2. Concepts: File I/O</a></li>
<li><a href="chap20.html#_syntax_file_operations_in_java">20.3. Syntax: File operations in Java</a></li>
<li><a href="chap20.html#_examples_file_examples">20.4. Examples: File examples</a></li>
<li><a href="chap20.html#fileChapterSolution">20.5. Solution: A picture is worth 1,000 bytes</a></li>
<li><a href="chap20.html#_concurrency_file_io">20.6. Concurrency: File I/O</a></li>
<li><a href="chap20.html#_exercises_20">20.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap21.html">21. Network Communication</a>
<ul class="sectlevel2">
<li><a href="chap21.html#_problem_web_server">21.1. Problem: Web server</a></li>
<li><a href="chap21.html#_concepts_tcpip_communication">21.2. Concepts: TCP/IP communication</a></li>
<li><a href="chap21.html#_syntax_networking_in_java">21.3. Syntax: Networking in Java</a></li>
<li><a href="chap21.html#_solution_web_server">21.4. Solution: Web server</a></li>
<li><a href="chap21.html#_concurrency_networking">21.5. Concurrency: Networking</a></li>
<li><a href="chap21.html#_exercises_21">21.6. Exercises</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">





















<div class="sect1">
<h2 id="ch03-strings-primitive-types">3. Primitive Types and Strings</h2>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Originality exists in every individual because each of us differs from the others. We are all
primary numbers divisible only by ourselves.</p>
</div>
</blockquote>
<div class="attribution">
— Jean Guitton
</div>
</div>
<div class="sect2">
<h3 id="_problem_college_cost_calculator">3.1. Problem: College cost calculator</h3>
<div class="paragraph">
<p>Perhaps you’re a student. Perhaps you aren’t. In either case, you must
be aware of the rapidly rising cost of a college education. The
motivating problem for this chapter is to create a Java program that can
estimate this cost, including room and board. It
starts by reading a first name, a last name, the per-semester cost of
tuition, the monthly cost of rent, and the monthly cost of food as input
from a user. Many students take out loans for college. In fact, student
debt has surpassed credit card debt in the United States. We can
implement a feature to read in an interest rate and the number of years
expected to pay off the loan.</p>
</div>
<div class="paragraph">
<p>After taking all this data as input, we want to calculate the yearly
cost of such an education, the four year cost, the monthly loan payment,
and the total cost of the loan over time. Furthermore, we want to output
this information on the command line in an attractive way, customized
with the user’s name. Below is a sample execution of this program.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Welcome to the College Cost Calculator!
Enter your first name:       <strong>Holden</strong>
Enter your last name:        <strong>Caulfield</strong>
Enter tuition per semester:  $<strong>17415</strong>
Enter rent per month:        $<strong>350</strong>
Enter food cost per month:   $<strong>400</strong>
Annual interest rate:        <strong>.0937</strong>
Years to pay back your loan: <strong>10</strong>

College costs for Holden Caulfield
***************************************
Yearly cost:                 $43830.00
Four year cost:              $175320.00
Monthly loan payment:        $2256.14
Total loan cost:             $270736.5</pre>
</div>
</div>
<div class="paragraph">
<p>Samples from a command line interface can be confusing because it’s
difficult to see what’s output and what’s input. In this case, we have
marked the input in <strong>bold</strong> so that it’s clear what the user enters.
In this program, the names, the tuition, the
rent, the food, the interest rate, and the years to pay back the loan
are taken as input. Note that the dollar signs are <strong>not</strong> part of the
input and are printed as a cue to the user and to give visual polish.</p>
</div>
<div class="paragraph">
<p>We hope you already have a good understanding of this problem, but there are a few
mathematical details worth addressing. First, the yearly cost is twice
the semester tuition plus 12 times the rent and food costs. The four
year cost is simply four times the yearly cost. The monthly loan payment
amount, however, requires a formula from financial mathematics. Let
<em>P</em> be the amount of the loan (the principal). Let
<em>J</em> be the monthly interest rate (the annual interest rate
divided by 12). Let <em>N</em> be the number of months to pay back
the loan (years of the loan times 12). Let <em>M</em> be the
monthly payment we want to calculate, given by the following formula.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="chapters/03-strings-primitive-types/images/payment.svg" alt="payment" width="20%">
</div>
</div>
<div class="paragraph">
<p>If you use the concepts and syntax from the previous chapter carefully,
you might be able to solve this problem without reading further.
However, there’s a depth to the ideas of types and operations that we
haven’t explored fully. Getting a program to work is not enough.
Programmers must understand every detail and quirk of their tools to
avoid potential bugs.</p>
</div>
</div>
<div class="sect2">
<h3 id="_concepts_types">3.2. Concepts: Types</h3>
<div class="paragraph">
<p>Every operation inside of a Java program manipulates data. Often, this
data is stored in <em>variables</em>, which look similar to variables from
mathematics.</p>
</div>
<div class="paragraph">
<p>Consider the mathematical equation <em>x</em> + 3 = 7. In it, <em>x</em> has the value 4, and it
always will. You can set up another equation in which <em>x</em>
has a different value, but it won’t change in this one. Java variables
are different. They’re locations where you can store something. If you
decide later that you want to change what you stored there, you can put
something else into the same location, overwriting the old value.</p>
</div>
<div class="paragraph">
<p>In contrast to a variable is a <em>literal</em>. A literal is a concrete value
that does not change, though it can be stored in a variable. Numbers
like <code>4</code> or <code>2.71828183</code> are literals. We need to represent text and
single characters in Java as well, and there are literals like
<code>"grapefruit segment"</code> and <code>'X'</code> that fill these roles.</p>
</div>
<div class="paragraph">
<p>In Java, both variables and literals have <em>types</em>. If you think of a
variable as a box where you can hold something, its type is the shape of
that box. The kinds of literals that can be stored in that box must have
a matching shape. In the last chapter, we introduced the type <code>int</code> to
store integer values and the type <code>double</code> to store floating-point
values. Java is a <em>strongly typed</em> language, meaning that, if we declare
a variable of type <code>int</code>, we can only put <code>int</code> values into it (with a
few exceptions).</p>
</div>
<div class="paragraph">
<p>This idea of a type takes some getting used to. From a mathematical
perspective 3 and 3.0 are identical.
However, if you have an <code>int</code> variable in Java, you can store <code>3</code> into
it, but you can’t store <code>3.0</code>. The type of a value will never change,
but you can convert a value from one type to an equivalent value in another type.</p>
</div>
<div class="sect3">
<h4 id="_types_as_sets_and_operations">3.2.1. Types as sets and operations</h4>
<div class="paragraph">
<p>Before we go any further, let’s look deeper at what a type really is. We
can think of a type as a set of elements. For example, <code>int</code> represents
a set of integer values (specifically, the integers between
-2,147,483,648 and 2,147,483,647, inclusive). Consider
the following declarations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">x</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">y</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>These declarations indicate that the variables named <code>x</code> and <code>y</code> can
only contain integer values in the <code>int</code> range. Furthermore, a type only
allows specific operations. In Java, the <code>int</code> type allows addition,
subtraction, multiplication, division, and several other operations we’ll
talk about in <a href="chap3.html#_syntax_types_in_java">Section 3.3</a>, but there’s no built-in operation
to raise an <code>int</code> value to a power in Java. Let’s assume that <code>x</code>
has type <code>int</code>. As we discussed in the previous chapter, the
expression <code>x + 2</code> performs addition between the variable represented by
<code>x</code> and the literal <code>2</code>. Some languages use the operator <code>^</code> to mean
raising a number to a power. Following this notation, some beginning
Java programmers are tempted to write <code>x ^ 2</code> to compute <code>x</code> squared.
The <code>^</code> operator <strong>does</strong> have a meaning in Java, but it <strong>doesn’t</strong> raise
values to a power. Other combinations of operators are simply illegal,
such as <code>x # 2</code>.</p>
</div>
<div class="paragraph">
<p>The idea of using types this way gives structure to a program. All
operations are well-defined. For example, you know that adding two <code>int</code>
values together will give you another <code>int</code> value. Java is a
<em>statically typed</em> language. This means that it can analyze all the types you’re
using in your program at compile-time and warn you if you’re doing
something illegal. Consequently, you’ll get a lot of compiler warnings
and errors, but you can be more confident that your program is correct
if all the types make sense.</p>
</div>
</div>
<div class="sect3">
<h4 id="_primitive_and_reference_types_in_java">3.2.2. Primitive and reference types in Java</h4>
<div class="paragraph">
<p>As shown in <a href="chap3.html#typesInJavaFigure">Figure 3.1</a>(a), there are two kinds of
types in Java: <em>primitive types</em> and <em>reference types</em>. Primitive types
are like boxes that hold single, concrete values. The primitive types in
Java are <code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code>, <code>float</code>, <code>double</code>, <code>boolean</code>,
and <code>char</code>. These are types provided by the designers of Java, and it’s
not possible to create new ones. Each primitive type has a set of
<em>operators</em> that are legal for it. For example, all the numerical types
can be used with <code>+</code> and <code>-</code>. We’ll talk about these types and their
operators in great detail in <a href="chap3.html#_syntax_types_in_java">Section 3.3</a>.</p>
</div>
<div id="typesInJavaFigure" class="imageblock">
<div class="content">
<img src="chapters/03-strings-primitive-types/images/typesInJavaFigure.svg" alt="typesInJavaFigure" width="100%">
</div>
<div class="title">Figure 3.1 (a)&nbsp;The two categories of types in Java. The <code>int</code> primitive type (b), the <code>boolean</code> primitive type (c), the <code>String</code> reference type (d), and a possible <code>Aircraft</code> reference type (e) are represented as sets of items with operations.</div>
</div>
<div class="paragraph">
<p>Reference types work differently from primitive types. For one thing, a
reference variable <strong>points at</strong> an object. This means that when you
assign one reference variable to another, you aren’t getting a whole
new copy of the object. Instead, you’re getting another arrow that
points at the same object. The result is that performing an operation on
one reference can effectively change another reference, if they’re both
pointing at the same object.</p>
</div>
<div class="paragraph">
<p>Another difference is that reference variables (or simply <em>references</em>)
do not have a large set of operators that work on them. Every variable
can be used with the assignment (<code>=</code>) and the comparison (<code>==</code>)
operators. Every variable can also be concatenated with a <code>String</code> by
using the <code>` operator, but even if two objects represent numerical
values, they can't be added together with the `</code> operator.</p>
</div>
<div class="paragraph">
<p>References should still be thought of as types defining a set of objects
and operations that can be done with them. Instead of using operators,
however, references use <em>methods</em>. You’ve seen methods such as
<code>System.out.print()</code> and <code>JOptionPane.showInputDialog()</code> in the previous
chapter. A method generally has a dot (<code>.</code>) before it and always has
parentheses afterward. These parentheses contain the input <em>parameters</em>
or <em>arguments</em> that you give to a method. Using operators on primitive
types is convenient, but on the other hand, there is no limit to the
number, kind, or complexity of methods that can be used on references.</p>
</div>
<div class="paragraph">
<p>Another important feature of reference types is that anyone can define
them. So far, you’ve seen the reference types <code>String</code> and
<code>JOptionPane</code>. As we’ll discuss later, <code>String</code> is an unusual
reference type in that it is built deeply into the language. There are a
few other types like this (such as <code>Object</code>), but most reference types
could have been written by anyone, even you.</p>
</div>
<div class="paragraph">
<p>To create a new type, you write a class and define data and methods
inside of it. If you wanted to define a type to hold airplanes, you
might create the <code>Airplane</code> class and give it methods such as
<code>takeOff()</code>, <code>fly()</code>, and <code>land()</code> because those are operations that any
airplane should be able to do.</p>
</div>
<div class="paragraph">
<p>Once a class has been defined, it’s possible to <em>instantiate</em> an
<em>object</em>. An object is a specific instance of the type. For example, the
type might be <code>Airplane</code>, but the object might be referenced by a
variable called <code>sr71Blackbird</code>. Presumably, this object has a weight, a
maximum speed, and other characteristics that mark it as a Lockheed
SR-71 “Blackbird,” the famous spy plane. To summarize: An object is a
concrete instance of data. A reference is a variable that gives
a name to (points to) an object. A type is a class that both the
variable and the object have that defines what kinds of data the
object contains and what operations it can perform.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap3.html#typeAndValueExercise">Exercise 3.12</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>The following table lists some of the differences between primitive
types and reference types.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Primitive Types</strong></th>
<th class="tableblock halign-left valign-top"><strong>Reference Types</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Created by the designers of Java</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Created by any Java programmer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use operators to perform operations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use methods to perform operations</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">There are only eight different primitive types</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The number of reference
types is unlimited and grows every time someone creates a new class</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hold a specific numbers of bytes of data depending on the type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The
referenced object can hold arbitrary amounts of data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assignment copies a value from one place to another</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assignment copies
an arrow that points at an object</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Declaration creates a box to hold values</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Declaration creates an arrow
that can point at an object, but only instantiation creates a new object</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_type_safety">3.2.3. Type safety</h4>
<div class="paragraph">
<p>Why do we have types? There are weakly typed languages where you can
store any value into almost any variable. Why bother with all these
complicated rules? Most assembly languages have no notion of types and
allow the programmer to manipulate memory directly.</p>
</div>
<div class="paragraph">
<p>Because Java is strongly typed, the type of every variable, whether
primitive or reference, must be declared prior to its use. This
constraint allows the Java compiler to perform many safety and sanity
checks during compilation, and the JVM performs a few more during
execution. These checks avoid errors during program execution that might
otherwise be hard to find, errors that could lead to catastrophic
failures of the program.</p>
</div>
<div class="paragraph">
<p>The Ariane&nbsp;5 rocket is an example of a catastrophic failure due to a
type error. On its first flight, the rocket left its flight path and
eventually exploded. The failure was caused because of errors from
converting a 64-bit floating-point to 16-bit signed
integer value. The converted value was larger than the integer could
hold, resulting in a meaningless value.</p>
</div>
<div class="paragraph">
<p>Converting from one type to another is called <em>casting</em>. The Ariane&nbsp;5
failure was due to a problem with casting that was not caught. Even in
Java, it’s possible for a human being to circumvent type safety with
irresponsible casting.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_syntax_types_in_java">3.3. Syntax: Types in Java</h3>
<div class="paragraph">
<p>In this section we dig deeper into the type system in Java,
starting with variables and moving on to the properties of the eight
primitive types and the properties of <code>String</code> and other reference
types.</p>
</div>
<div class="sect3">
<h4 id="_variables_and_literals">3.3.1. Variables and literals</h4>
<div class="paragraph">
<p>To use a variable in Java, you must first <em>declare</em> it, which sets aside
memory to hold the variable and attaches a name to that space.
Declarations always follows the same pattern. The type is written first
followed by the identifier, or name, for the variable. Below we declare
a variable named <code>value</code> of type <code>int</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">value</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note how we use the same pattern to declare a reference variable named
<code>creature</code> of type <code>Wombat</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">Wombat</span> <span class="n">creature</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>You’re free to declare a variable and then end the line with a
semicolon (<code>;</code>), but it’s common to <em>initialize</em> a variable at the same
time. The following line simultaneously declares <code>value</code> and initializes
it to <code>5</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Pitfall: Multiple declarations</div>
<div class="paragraph">
<p>Don’t forget that you’re both declaring <strong>and</strong> initializing in a line like the
above. Beginning Java programmers sometimes try to declare a variable
more than once, as in the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Java won’t allow two variables with the same name to exist in the
same block of code. The programmer probably intended the following,
which reuses variable <code>value</code> and replaces its contents with <code>10</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>
<span class="n">value</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This error is more common when several other lines of code lie between
the two assignments.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>In some of the examples above, we’ve stored the value <code>5</code> into our
variable <code>value</code>. The symbol <code>5</code> is an example of a <em>literal</em>. A literal
is a value represented directly in code. It cannot be changed, but it
can be stored into variables that have a matching type. The values stored
into variables come from literals, input, or more complicated
expressions. Just like variables, literals have types. The type of <code>5</code>
is <code>int</code> while the type of <code>5.0</code> is <code>double</code>. Other types have literals
written in ways we’ll discuss below.</p>
</div>
</div>
<div class="sect3">
<h4 id="_primitive_types">3.3.2. Primitive types</h4>
<div class="paragraph">
<p>The building blocks of all Java programs are primitive types. All
objects must fundamentally contain primitive types deep down inside.
There are eight primitive types. Half of them are used to represent
integer values, and we’ll start by looking at those.</p>
</div>
<div class="sect4">
<h5 id="_integers_byte_short_int_and_long">Integers: <code>byte</code>, <code>short</code>, <code>int</code>, and <code>long</code></h5>
<div class="paragraph">
<p>A variable intended to hold integer values can be declared with any of
the four types <code>byte</code>, <code>short</code>, <code>int</code>, or <code>long</code>. All of them are signed
(holding positive and negative numbers) and represent numbers in two’s
complement. They only differ by the range of values that each type can
hold. These ranges and the number of bytes used to represent variables
from each type are given below.</p>
</div>
<table class="tableblock frame-all grid-all fit-content center">
<caption class="title">Table 3.1 Ranges for primitive integer types in Java.</caption>
<colgroup>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Type</strong></th>
<th class="tableblock halign-center valign-top"><strong>Bytes</strong></th>
<th class="tableblock halign-right valign-top"></th>
<th class="tableblock halign-center valign-top"><strong>Range</strong></th>
<th class="tableblock halign-left valign-top"></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="literal"><pre>byte</pre></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">-128</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">127</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="literal"><pre>short</pre></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">-32,768</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">32,767</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="literal"><pre>int</pre></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">-2,147,483,648</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2,147,483,647</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="literal"><pre>long</pre></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">-9,223,372,036,854,775,808</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9,223,372,036,854,775,807</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Note that the entire range of <code>byte</code> is included in that of <code>short</code>, of <code>short</code>
in that of <code>int</code>, and so on. We say that <code>short</code> is <em>broader</em> than
<code>byte</code>, <code>int</code> is broader than <code>short</code>, and <code>long</code> is broader than <code>int</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap3.html#integersIntLongExercise">Exercise 3.1</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>A variable declared with type <code>byte</code> can only represent 256 different
values, the integers in the range -128 to 127. Why use <code>byte</code> at all,
then? Since a <code>byte</code> value only takes up a single byte, it can save
memory, especially if you have a list of variables called an <em>array</em>,
which we will discuss in <a href="chap6.html">Chapter 6</a>. However, too narrow
of a range will result in underflow and overflow. Java programmers are
advised to stick with <code>int</code> for general use. If you need to represents
values larger than 2 billion or smaller than -2 billion, use <code>long</code>.
Once you’re an experienced programmer, you may occasionally use <code>byte</code>
and <code>short</code> to save space, but they should be used sparingly and for a
clear purpose.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3.1 Integer variables</div>
<div class="content">
<div class="paragraph">
<p>Consider the following declarations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">byte</span> <span class="n">age</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">numberOfRooms</span><span class="o">;</span>
<span class="kt">long</span> <span class="n">foreverCounter</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The first of these statements declares <code>age</code> to be a variable of type
<code>byte</code>. This declaration means that <code>age</code> can assume any value from the
range for <code>byte</code>. For a human being, this limitation is reasonable (but
dangerously close to the limit) since there is no documented case of a
person living more than 122 years. Similarly, the next declaration
declares <code>numberOfRooms</code> to be of type <code>int</code>. The last declaration
declares <code>foreverCounter</code> to be of type <code>long</code> and initializes it to
<code>0</code>.</p>
</div>
<div class="paragraph">
<p>Since <code>age</code> is a variable, its value can change during program
execution. Note that the above declaration of <code>age</code> does not assign a
value to it. When they are declared, all integer variables are set to
<code>0</code> by Java. However, to make sure that the programmer is explicit about
what he or she wants, the compiler will give an error in most cases if a
variable is used without first having its value set.</p>
</div>
<div class="paragraph">
<p>Like any other integer variable, we can assign <code>age</code> a value as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="n">age</span> <span class="o">=</span> <span class="mi">32</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Doing so assigns the value <code>32</code> to variable <code>age</code>. Note that the Java
compiler would not complain if you were to assign <code>-10</code> to the variable
<code>age</code>, even though it’s impossible for a human to have a negative age
(at least, without a time machine). Java attaches no meaning to the name
you give to a variable.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Earlier, we said that variables had to match the type of literals you
want to store into them. In the example above, we declared <code>age</code> with
type <code>byte</code> and then stored <code>32</code> into it. What is the type of <code>32</code>? Is
it <code>byte</code>, <code>short</code>, <code>int</code>, or <code>long</code>? By default, all integer literals
have type <code>int</code>, but they can be used with <code>byte</code> or <code>short</code> variables
provided that they fit within the range. Thus, the following line causes
an error.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">byte</span> <span class="n">fingers</span> <span class="o">=</span> <span class="mi">128</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If you want to specify a literal to have type <code>long</code>, you can append <code>l</code>
or <code>L</code> to it. Thus, <code>42</code> is an <code>int</code> literal, but <code>42L</code> is a <code>long</code>
literal. You should always use the capital <code>L</code> since <code>l</code> can be difficult to
distinguish from <code>1</code>.</p>
</div>
<div class="paragraph">
<p>At the time of this writing, Java 11 is the newest version of Java, but
Java 8 is most commonly used. In Java 7 and higher, you’re allowed
to put any number of underscores (<code>_</code>) inside of numerical literals to
break them up for the sake of readability. Thus, <code>123_45_6789</code> might
represent a social security number, or you could use underscores instead
of commas to write three million as <code>3_000_000</code>. Since most compilers support
Java 7 or higher now, it’s reasonable to use this underscore notation in your
literals. Note that you should <strong>never</strong> use a comma in a numerical Java literal,
no matter which version of Java you’re using.</p>
</div>
</div>
<div class="sect4">
<h5 id="_floating_point_numbers_float_and_double">Floating-point numbers: <code>float</code> and <code>double</code></h5>
<div class="paragraph">
<p>To represent numbers with fractional parts, Java provides two floating-point
types, <code>double</code> and <code>float</code>. Because of limits on floating-point
precision discussed in <a href="index.html">Chapter 1</a>, Java cannot
represent all real or rational numbers, but these types provide good
approximations. If you have a variable that takes on floating-point
values such as 3.14, 1.707 × 10<sup>25</sup>,
9.8, or similar, it ought to be declared as a <code>double</code> or a
<code>float</code>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3.2 Floating-point declarations</div>
<div class="content">
<div class="paragraph">
<p>Consider the following declarations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">float</span> <span class="n">roomArea</span><span class="o">;</span>
<span class="kt">double</span> <span class="n">avogadro</span> <span class="o">=</span> <span class="mf">6.02214179E23</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The first of the above two statements declares <code>roomArea</code> to be of type
<code>float</code>. Note that the declaration does not initialize <code>roomArea</code> to any
value. Similar to integer primitive types, an uninitialized floating-point
variable contains <code>0.0</code>, but Java usually forces the programmer to
assign a value to a variable before using it. The second of the above
two statements declares <code>avogadro</code> to be a variable of type <code>double</code> and
initializes it to the well-known Avogadro constant
6.02214179 × 10<sup>23</sup>. Note the use of <code>E</code> to mean
“ten to the power of.” In Java, you could write
0.33 × 10<sup>-12</sup> as <code>0.33E-12</code>, or the number
-4.325 × 10<sup>18</sup> as <code>-4.325E18</code> (or even <code>-4.325E+18</code>
if you’d like to write the sign of the exponent explicitly).</p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_accuracy_in_number_representation">Accuracy in number representation</h5>
<div class="paragraph">
<p>As discussed in <a href="index.html">Chapter 1</a>, integer types
within their specified ranges have exact representations. For
example, if you assign <code>19</code> to a variable of type <code>int</code> and then print
this value, you always get exactly <code>19</code>. Floating-point numbers do not
have this guarantee of exact representation.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3.3 Floating-point accuracy</div>
<div class="content">
<div class="paragraph">
<p>Try executing the following statements within a Java program.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">double</span> <span class="n">test</span> <span class="o">=</span> <span class="mf">0.0</span><span class="o">;</span>
<span class="n">test</span> <span class="o">+=</span> <span class="mf">0.1</span><span class="o">;</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">test</span><span class="o">);</span>
<span class="n">test</span> <span class="o">+=</span> <span class="mf">0.1</span><span class="o">;</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">test</span><span class="o">);</span>
<span class="n">test</span> <span class="o">+=</span> <span class="mf">0.1</span><span class="o">;</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">test</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Since we’re adding 0.1 each time, one would expect to see outputs of
<code>0.1</code>, <code>0.2</code>, and <code>0.3</code>. The first two numbers print as expected, but
the third number prints out as <code>0.30000000000000004</code>. It may seem
counterintuitive, but 0.1 is a repeating decimal in binary, meaning that
it cannot be represented exactly using the 64-bit IEEE floating-point
standard. The <code>System.out.println()</code> method hides this ugliness by
rounding the output past a certain level of precision, but by the third
addition, the number has drifted far enough away from 0.3 that an
unexpected number peeks out.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Variables of type <code>float</code> give you an accuracy of about 6 decimal digits
while those of type <code>double</code> give about 15 decimal digits. Does the
accuracy of floating-point number representation matter? The answer to
this question depends on your application. In some applications, 6-digit
accuracy may be adequate. However, when doing large-scale simulations,
such as computing the trajectory of a spacecraft on a mission to Mars,
15-digit accuracy might be a matter of life or death. In fact, even
double precision may not be enough. There is a special <code>BigDecimal</code>
class which can perform arbitrarily high precision calculations, but due
to its low speed and high complexity, it should only be used in those
rare situations when a programmer requires a much higher level of
precision than what <code>double</code> provides.</p>
</div>
<div class="paragraph">
<p>Java programmers are recommended to use <code>double</code> for general purpose
computing. The <code>float</code> type should only be used in special cases where
storage or speed are critical and accuracy is not. Because of its
greater accuracy, <code>double</code> is considered a broader type than <code>float</code>.
You can store <code>float</code> values in a <code>double</code> without losing precision, but
the reverse is not true.</p>
</div>
<div class="paragraph">
<p>All floating-point literals in Java have type <code>double</code> unless they have
an <code>f</code> or <code>F</code> appended on the end. Thus, <code>3.14</code> is a <code>double</code> literal,
but <code>3.14f</code> is a <code>float</code> literal.</p>
</div>
</div>
<div class="sect4">
<h5 id="_floating_point_output">Floating-point output</h5>
<div class="paragraph">
<p>Formatting output for floating-point numbers has an extra complication
compared with integer output: How many digits after the decimal point should be
displayed? If you’re representing money, it’s common to show exactly
two digits after the decimal point. By default, all of the non-zero
digits are shown.</p>
</div>
<div class="paragraph">
<p>Instead of using <code>System.out.print()</code>, you can use <code>System.out.format()</code>
to control formatting. When using <code>System.out.format()</code>, the first
argument to the method is a <em>format string</em>, a piece of text that gives
all the text you want to output as well as special format specifiers
that indicate where other data is to appear and how it should be
formatted. This method takes an additional argument for each format
specifier you use. The specifier <code>%d</code> is for integer values, the
specifier <code>%f</code> is for floating-point values (including both <code>float</code> and
<code>double</code> types), and the specifier <code>%s</code> is for text. Consider the
following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"%s! I broke %d records in %f seconds.\n"</span><span class="o">,</span> <span class="s">"Bob"</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mf">2.4985</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The output of this code is</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Bob! I broke 3 records in 2.4985 seconds.</pre>
</div>
</div>
<div class="paragraph">
<p>This kind of output is based on the <code>printf()</code> function used for output
in the C programming language. It allows the programmer to have a
holistic picture of what the final output might look like, but it also
gives control of formatting through the format specifiers. For example,
you can choose the number of digits for a floating-point value to
display after the decimal point by putting a <code>.</code> and the number between
the <code>%</code> and the <code>f</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"$%.2f\n"</span><span class="o">,</span> <span class="mf">123.456789</span> <span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The output of this code is:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>$123.46</pre>
</div>
</div>
<div class="paragraph">
<p>Note that the last visible digit is rounded instead of truncated. Note that <code>%n</code> is a special
format specifier that indicates a newline. To learn about other ways to use
format strings to manipulate output, read the Oracle
<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#syntax" target="_blank" rel="noopener">Formatter documentation</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_basic_arithmetic">Basic arithmetic</h5>
<div class="paragraph">
<p>The following table lists the arithmetic operators available in Java.
All of these operators can be used on both the integer primitive types
and the floating-point primitive types.</p>
</div>
<table class="tableblock frame-all grid-all fit-content center">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>Operator</strong></th>
<th class="tableblock halign-left valign-top"><strong>Meaning</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><div class="literal"><pre>+</pre></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><div class="literal"><pre>-</pre></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subtract</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><div class="literal"><pre>*</pre></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiply</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><div class="literal"><pre>/</pre></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Divide</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><div class="literal"><pre>%</pre></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modulus (remainder)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The first four of these should be familiar. Addition,
subtraction, and multiplication work as you would expect, provided that
the result is within the range defined for the types you’re using, but
division is a little confusing. If you divide two integer values in
Java, you’ll get an integer as a result. If there would have been a
fractional part, it will be truncated, not rounded. Consider the
following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">1999</span><span class="o">/</span><span class="mi">1000</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In normal mathematics, 1,999 ÷ 1,000 = 1.999. In Java,
<code>1999/1000</code> yields <code>1</code>, and that’s what is stored in <code>x</code>. For
floating-point numbers, Java works much more like normal mathematics.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">double</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">1999.0</span><span class="o">/</span><span class="mf">1000.0</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, <code>y</code> contains <code>1.999</code>. The literals <code>1999.0</code> and <code>1000.0</code>
have type <code>double</code>. The type of <code>y</code> does not affect the division, but it
had to be <code>double</code> to be a legal place to store the result.</p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Pitfall: Unexpected integer division</div>
<div class="paragraph">
<p>It’s easy to focus on the variable and forget about the types involved
in the operation. Consider the following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">double</span> <span class="n">z</span> <span class="o">=</span> <span class="mi">1999</span><span class="o">/</span><span class="mi">1000</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Because <code>z</code> has type <code>double</code>, it seems that the result of the division
should be <code>1.999</code>. However, the dividend and the divisor have type
<code>int</code>, and the result is <code>1</code>. This value is converted into <code>double</code> and
stored in <code>z</code> as <code>1.0</code>. This mistake is more commonly seen in the
following scenario.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">double</span> <span class="n">half</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The code looks fine at first, but <code>1/2</code> yields <code>0</code>. If the result is to
be stored in a <code>double</code> variable, it’s better to multiply by <code>0.5</code>
instead of dividing by <code>2</code>.<br></p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>You may not have thought about this idea since elementary school, but
the division operator (<code>/</code>) finds the <em>quotient</em> of two numbers. The
modulus operator (<code>%</code>) finds the <em>remainder</em>. For example, <code>15 / 6</code> is
<code>2</code> while <code>15 % 6</code> is <code>3</code> because <code>6</code> goes into <code>15</code> twice with <code>3</code> left
over. The modulus operator is usually used with integer values, but it’s
also defined to work with floating-point values in Java. It’s easy to
dismiss the modulus operator because we don’t often use it in daily
life, but it’s incredibly useful in programming. On its face, it allows
us to see the remainder after division. This idea can be applied to see
if a number is even or odd. It can also be used to compress a large
range of random integers to a smaller range or perform a kind of circular
arithmetic useful for cryptography. Keep an eye out for it.
We’ll use it many times in this book.</p>
</div>
</div>
<div class="sect4">
<h5 id="_precedence">Precedence</h5>
<div class="paragraph">
<p>Although all the previous examples use only one mathematical operator,
you can combine several operators and operands into a larger expression
like the following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="o">((</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">)</span> <span class="o">*</span> <span class="o">(</span><span class="n">c</span> <span class="o">+</span> <span class="n">d</span><span class="o">))</span> <span class="o">%</span> <span class="n">e</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Such expressions are evaluated from left to right, using the standard
order of operations: The <code>*</code> and <code>/</code> (and also <code>%</code>) operators are given
precedence over the <code>+</code> and <code>-</code> operators. Like in mathematics,
parentheses have the highest precedence and can be used to add clarity.
Thus, the order of evaluation of <code>a + b / c</code> is the same as
<code>a + (b / c)</code> but different from <code>(a + b) / c</code>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3.4 Order of operations</div>
<div class="content">
<div class="paragraph">
<p>Consider the following lines of code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">31</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">16</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">d</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">b</span> <span class="o">+</span> <span class="n">c</span> <span class="o">*</span> <span class="n">d</span> <span class="o">-</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span> <span class="o">/</span> <span class="n">d</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>What’s the result? The first operation to be evaluated is <code>c * d</code>,
yielding <code>2</code>. The next is <code>a / b</code>, yielding <code>1</code>, which is then divided
by <code>d</code>, yielding <code>0</code>. Next, <code>b + 2</code> gives <code>18</code>, and <code>18 - 0</code> is still
<code>18</code>. Thus, the value stored in <code>a</code> is <code>18</code>.</p>
</div>
<div class="paragraph">
<p>Your inner mathematician might be nervous that <code>a</code> is used in the
expression on the right side of the assignment and is also the variable
where the result is stored, but this situation is very common in
programming. The value of <code>a</code> doesn’t change until after all the math
has been done. The assignment always happens last.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>All of the operators we’ve discussed so far are <em>binary</em> operators.
This use of the word “binary” has nothing to do with base 2. A binary
operator takes two things and does something, like adding them together.
A <em>unary</em> operator takes a single operand and does something. The <code>-</code>
operator can be used as a unary operator to negate a literal, variable,
or expression. A unary negation has a higher precedence than the other
operators, just like in mathematics. In other words, the variable or
expression will be negated before it’s multiplied or divided. The <code>+</code>
operator can be used anywhere you’d use a unary negation, although
it doesn’t actually do anything. Consider the following statements.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="o">-</span> <span class="mi">4</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="o">-</span><span class="n">c</span> <span class="o">+</span> <span class="n">d</span> <span class="o">/</span> <span class="o">-(</span><span class="n">e</span> <span class="o">*</span> <span class="n">f</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">s</span> <span class="o">=</span> <span class="o">+</span><span class="n">t</span> <span class="o">+</span> <span class="o">(-</span><span class="n">r</span><span class="o">);</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_shortcuts">Shortcuts</h5>
<div class="paragraph">
<p>Some operations happen frequently in Java. For example, increasing a
variable by some amount is a common task. If you want to increase the
contents of variable <code>value</code> by 10, you can write the following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="n">value</span> <span class="o">=</span> <span class="n">value</span> <span class="o">+</span> <span class="mi">10</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Although the statement above is not excessively long, increasing a
variable is common enough that there’s shorthand for it. To achieve the
same effect, you can use the <code>+=</code> operator.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="n">value</span> <span class="o">+=</span> <span class="mi">10</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>+=</code> operator gets the contents of the variable, in this case <code>value</code>,
adds whatever is on its right side, in this case <code>10</code>, and stores the
result back into the variable. Essentially, it saves you from writing
the name of the variable twice. And <code>+=</code> is not the only shortcut. It’s
only one member of a family of shortcut operators that perform a binary
operation between the variable on the left side and the expression on
the right side and then store the value back into the variable. There’s
a <code>-=</code> operator that decreases a variable, a <code>*=</code> operator that scales a
variable, and several others, including shortcuts for bitwise operations
we cover in the next subsection.</p>
</div>
<table class="tableblock frame-all grid-all fit-content center">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle"><strong>Operator</strong></th>
<th class="tableblock halign-center valign-middle"><strong>Example</strong></th>
<th class="tableblock halign-center valign-middle"><strong>Meaning</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>+=</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a += b;</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a = a + b;</pre></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>-=</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a -= b;</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a = a - b;</pre></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>*=</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a *= b;</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a = a * b;</pre></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>/=</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a /= b;</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a = a / b;</pre></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>%=</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a %= b;</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a = a % b;</pre></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>&amp;=</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a &amp;= b;</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a = a &amp; b;</pre></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>^=</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a ^= b;</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a = a ^ b;</pre></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>|=</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a |= b;</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a = a | b;</pre></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>&lt;&lt;=</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a &lt;&lt;= b;</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a = a &lt;&lt; b;</pre></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>&gt;&gt;=</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a &gt;&gt;= b;</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a = a &gt;&gt; b;</pre></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>&gt;&gt;&gt;=</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a &gt;&gt;&gt;= b;</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a = a &gt;&gt;&gt; b;</pre></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>These assignment shortcuts are useful and can make a line shorter and
easier to read.</p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Pitfall: Weak type checking with assignment shortcuts</div>
<div class="paragraph">
<p>Because you can lose precision, it’s not allowed to store a <code>double</code>
value into an <code>int</code> variable. Thus, the following lines of code are
illegal and will not compile.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="mf">0.1</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, the check makes a lot of sense. If you could add
<code>0.1</code> to <code>0</code> and then store that value into an <code>int</code> variable, the
fractional part would be truncated, keeping <code>0</code> in the variable.
However, this safeguard against lost precision is not done with
assignment shortcuts. Even though we expect the following lines to be
functionally identical to the previous ones, they will compile (but
still do nothing).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
<span class="n">x</span> <span class="o">+=</span> <span class="mf">0.1</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This kind of error can cause problems when the program expects the value
of <code>x</code> to grow and eventually reach some level.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>There are also two unary shortcuts. Incrementing a value by one and
decrementing a value by one are such common operations that they get
their own special operators, <code>++</code> and <code>--</code>.</p>
</div>
<table class="tableblock frame-all grid-all fit-content center">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle"><strong>Operator</strong></th>
<th class="tableblock halign-center valign-middle"><strong>Example</strong></th>
<th class="tableblock halign-center valign-middle"><strong>Meaning</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>++</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a++;</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a = a + 1;</pre></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>--</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a--;</pre></div></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>a = a - 1;</pre></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Using either an increment or decrement changes the value of a variable.
In all other cases, the use of an assignment operator is required to
change a variable. Even in the binary shortcuts given before, the
programmer is reminded that an assignment is occurring because the <code>=</code>
symbol is present.</p>
</div>
<div class="paragraph">
<p>Both the increment and decrement operators come in prefix and postfix
flavors. You can write the <code>++</code> (or the <code>--</code>) in front of the variable
you’re changing or behind it.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>
<span class="n">value</span><span class="o">++;</span> <span class="c1">// Now value is 6</span>
<span class="o">++</span><span class="n">value</span><span class="o">;</span> <span class="c1">// Now value is 7</span>
<span class="n">value</span><span class="o">--;</span> <span class="c1">// value is 6 again</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When used in a line by itself, either flavor works exactly the same.
However, the incremented (or decremented) variable can also be used as
part of a larger expression. In a larger expression, the prefix form
increments (or decrements) the variable <strong>before</strong> the value is used in
the expression. Conversely, the postfix form gives back a copy of the
original value, effectively incrementing (or decrementing) the variable
<strong>after</strong> the value is used in the expression. Consider the following
example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">prefix</span> <span class="o">=</span> <span class="mi">7</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">prefixResult</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">+</span> <span class="o">++</span><span class="n">prefix</span><span class="o">;</span>

<span class="kt">int</span> <span class="n">postfix</span> <span class="o">=</span> <span class="mi">7</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">postfixResult</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">+</span> <span class="n">postfix</span><span class="o">++;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>After the code is executed, the values of <code>prefix</code> and <code>postfix</code> are
both <code>8</code>. However, <code>prefixResult</code> is <code>13</code> while <code>postfixResult</code> is only
<code>12</code>. The original value of <code>postfix</code>, which is <code>7</code>, is added to <code>5</code>,
and then the increment operation happens afterward.</p>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Pitfall: Increment confusion</div>
<div class="paragraph">
<p>Incrementing a variable in Java is a very common operation. Expressions
like <code>i++</code> and <code>++i</code> pop up so often that it’s easy to forget exactly
what they mean. Programmers occasionally forget that they’re shorthand
for <code>i = i + 1</code> and begin to think of them as a fancy way to write
<code>i + 1</code>.</p>
</div>
<div class="paragraph">
<p>When confused, a programmer might write something like the following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">14</span><span class="o">;</span>
<span class="n">i</span> <span class="o">=</span> <span class="n">i</span><span class="o">++;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>At first glance, it may appear that the second line of code really means
<code>i = i = i + 1</code>. Assigning <code>i</code> an extra time is pointless, but it seems like
it shouldn’t do any harm. Remember that the postfix version gives back a copy of
the original value <strong>before</strong> it’s been incremented. In this case, <code>i</code>
will be incremented, but then its original value will be stored back
into itself. In the code given above, the final value of <code>i</code> is still
<code>14</code>.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>In general it’s unwise to perform increment or decrement operations in
the middle of larger expressions, and we advise against doing so. In
some cases, code can be shortened by cleverly hiding an increment in the
middle of some other expression. However, when reading back over the
code, it always takes a moment to be sure that increment or decrement is
doing exactly what it should. The additional confusion caused by this
cleverness is not worth the line of code saved. Furthermore, the
compiler will translate the operations into exactly the same bytecode,
meaning that the shorter version is no more efficient than the longer
version when executed.</p>
</div>
<div class="paragraph">
<p>Nevertheless, many programmers enjoy squeezing their code down to the
smallest number of lines of code possible. You may have to read code
that uses increments and decrements in clever (if obscure) ways, but you
should always strive to make your own code as readable as possible.</p>
</div>
</div>
<div class="sect4">
<h5 id="_bitwise_operators_2">Bitwise operators</h5>
<div class="paragraph">
<p>In addition to normal mathematical operators, Java provides a set of
<em>bitwise</em> operators corresponding to the operations we discussed in
<a href="index.html">Chapter 1</a>. These operators perform bitwise
operations on integer values. The bitwise operators are <code>&amp;</code>, <code>|</code>, <code>^</code>,
and <code>~</code> (which is unary). In addition, there are bitwise <em>shift</em>
operators: <code>&lt;&lt;</code> for signed left shift, <code>&gt;&gt;</code> for signed right shift, and
<code>&gt;&gt;&gt;</code> for unsigned right shift. There is no unsigned left shift operator
in Java.</p>
</div>
<table class="tableblock frame-all grid-all fit-content center">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle"><strong>Operator</strong></th>
<th class="tableblock halign-center valign-middle"><strong>Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>&amp;</pre></div></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Bitwise AND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Combines two binary representations into a new representation which has a 1 in every position where both the original representations have a 1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>|</pre></div></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Bitwise OR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Combines two binary representations into a new representation which has a 1 in every position where either of the original representations has a 1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>^</pre></div></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Bitwise XOR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Combines two binary representations into a new representation which has a 1 in every position that the original representations have different values</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>~</pre></div></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Bitwise NOT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Takes a representation and creates a new representation in which every bit is flipped from 0 to 1 and 1 to 0</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>&lt;&lt;</pre></div></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Signed left shift</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Moves all the bits the specified number of
positions to the left, shifting 0s into the rightmost bits</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>&gt;&gt;</pre></div></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Signed right shift</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Moves all the bits the specified number of
positions to the right, padding the left with copies of the sign bit</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>&gt;&gt;&gt;</pre></div></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">Unsigned right shift</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Moves all the bits the specified number of
positions to the right, padding with 0s</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When used with <code>byte</code> and <code>short</code>, all bitwise operators will
automatically convert their operands to 32-bit <code>int</code> values. It’s
crucial to remember this conversion since the number of bits used for
representation is a fundamental part of bitwise operators.</p>
</div>
<div class="paragraph">
<p>The following example shows these operators in use. In order to
understand the output, you need to understand how integers are
represented in the binary number system, which is discussed in
<a href="index.html#_syntax_data_representation">Section 1.3</a>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap3.html#bitwiseOperationsExercise">Exercise 3.5</a></p>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 3.5 Binary operators in Java</div>
<div class="content">
<div class="paragraph">
<p>The following code shows a sequence of bitwise operations performed with
the values <code>3</code> and <code>-7</code>. To understand the results, remember that, in
32-bit two’s complement representation, <code>3</code> =
<code>0000 0000 0000 0000 0000 0000 0000 0011</code> and <code>-7</code> =
<code>1111 1111 1111 1111 1111 1111 1111 1001</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="o">-</span><span class="mi">7</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">z</span> <span class="o">=</span> <span class="n">x</span> <span class="o">&amp;</span> <span class="n">y</span><span class="o">;</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"x &amp; y\t= "</span> <span class="o">+</span> <span class="n">z</span><span class="o">);</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">x</span> <span class="o">|</span> <span class="n">y</span><span class="o">;</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"x | y\t= "</span> <span class="o">+</span> <span class="n">z</span><span class="o">);</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">x</span> <span class="o">^</span> <span class="n">y</span><span class="o">;</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"x ^ y\t= "</span> <span class="o">+</span> <span class="n">z</span><span class="o">);</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span><span class="o">;</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"x &lt;&lt; 2\t= "</span> <span class="o">+</span> <span class="n">z</span><span class="o">);</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">y</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span><span class="o">;</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"y &gt;&gt; 2\t= "</span> <span class="o">+</span> <span class="n">z</span><span class="o">);</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">y</span> <span class="o">&gt;&gt;&gt;</span> <span class="mi">2</span><span class="o">;</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"y &gt;&gt;&gt; 2\t= "</span> <span class="o">+</span> <span class="n">z</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The output of this fragment of code is:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>x &amp; y   = 1
x | y   = -5
x ^ y   = -6
x &lt;&lt; 2  = 12
y &gt;&gt; 2  = -2
y &gt;&gt;&gt; 2 = 1073741822</pre>
</div>
</div>
<div class="paragraph">
<p>Note how the escape sequence <code>\t</code> is used to put a tab character in the
output, making the results line up.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Why use the bitwise operators at all? Sometimes you may read data as
individual <code>byte</code> values, and you might need to combine four of these
values into a single <code>int</code> value. Although the signed left shift (<code>&lt;&lt;</code>)
and signed right shift (<code>&gt;&gt;</code>) are, respectively, equivalent to repeated
multiplications by 2 or repeated divisions by 2, they’re faster than
doing these operations over and over. Finally, some of these operations
are used for cryptographic or random number generation purposes.</p>
</div>
</div>
<div class="sect4">
<h5 id="_casting">Casting</h5>
<div class="paragraph">
<p>Sometimes you need to use different types (like integers and floating-point
values) together. Other times, you have a value in one type but
need to store it in another (like when you’re rounding a <code>double</code>
to the nearest <code>int</code>). Some combinations of operators and types are
allowed, but others cause compiler errors.</p>
</div>
<div class="paragraph">
<p>The guiding rule is that Java allows an assignment from one type to
another, provided that no precision is lost. That is, we can copy a
value of one type into a variable of another type, provided that the
destination variable has a broader type than the source value. The next
few examples illustrate how to convert between different numerical
types.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3.6 Upcast with integers</div>
<div class="content">
<div class="paragraph">
<p>Consider the following statements.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">short</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">341</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Because the type of <code>y</code> is <code>int</code>, which is broader than <code>short</code>, it i’s legal
to assign the value in <code>x</code> to variable <code>y</code>. In
the assignment, a value with the narrower type <code>short</code> is converted to
an equivalent value with the broader type <code>int</code>. Converting from a
narrower type to a broader type is called an <em>upcast</em> or a <em>promotion</em>,
and Java allows it with no complaint. Most languages allow upcasts
without any special syntax because it’s always safe to move from a
narrower, more restrictive type to a broader, less restrictive one.</p>
</div>
</div>
</div>
<div id="downcastErrorExample" class="exampleblock">
<div class="title">Example 3.7 Downcast error</div>
<div class="content">
<div class="paragraph">
<p>Consider these statements that declare variables <code>a</code>, <code>b</code>, and <code>c</code> and
compute a value for <code>c</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
<span class="kt">byte</span> <span class="n">c</span><span class="o">;</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If you try compiling these statements as part of a Java program, you get
an error message like the following.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Error: possible loss of precision
found: int
required: byte</pre>
</div>
</div>
<div class="paragraph">
<p>The compiler generates the error above because the sum of two <code>int</code>
values is another <code>int</code> value, which could be greater than the maximum
value you can store in the <code>byte</code> variable <code>c</code>. In this example, <strong>you</strong> know
that the value <code>12</code> doesn’t exceed the maximum of <code>127</code>, but the
Java compiler is inherently cautious. It complains whenever the type of
the expression to be evaluated is broader than the type of the
destination variable.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap3.html#byteTypeExercise">Exercise 3.2</a></p>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 3.8 Upcast from integers to floating-point</div>
<div class="content">
<div class="paragraph">
<p>Integers are automatically converted to floating-point when needed.
Consider the following statement.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">double</span> <span class="n">tolerance</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The literal <code>3</code> has type <code>int</code>, but it’s automatically converted to the
floating-point value <code>3.0</code> with type <code>double</code>. Again, <code>double</code> (and also
<code>float</code>) are considered broader types than any integer types.
Consequently, this type conversion is an upcast and is completely legal.</p>
</div>
<div class="paragraph">
<p>Upcasts also occur with arithmetic operations. Whenever you try to do
arithmetic with two different numerical types, the narrower type is
automatically upcast to the broader one.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">double</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">+</span> <span class="mf">7.2</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this statement, <code>3</code> is automatically upcast to its <code>double</code> version
<code>3.0</code> because <code>7.2</code> has the broader <code>double</code> type.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>In order to perform a downcast, the programmer has to mark that he or
she intends for the conversion to happen. A downcast is marked by
putting the result type in parentheses before the expression you want
converted. The next example illustrates how to cast a <code>double</code> value to
type <code>int</code>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3.9 Downcast from <code>double</code> to <code>int</code></div>
<div class="content">
<div class="paragraph">
<p>The following statements cause a compiler error because an expression
with type <code>double</code> cannot be stored into a variable with type <code>int</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">double</span> <span class="n">roomArea</span> <span class="o">=</span> <span class="mf">3.5</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">houseArea</span> <span class="o">=</span> <span class="n">roomArea</span> <span class="o">*</span> <span class="mf">4.0</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A downcast can lose precision, and that’s why Java doesn’t allow it.
Since a downcast is sometimes necessary, you can override Java’s type
system with an explicit cast. To do so, we put the expected (or desired)
result type in parentheses before the expression. In this case and many
others, it’s also necessary to surround the expression with
parentheses so that the entire expression (and not just <code>roomArea</code>) is
converted to type <code>int</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">double</span> <span class="n">roomArea</span> <span class="o">=</span> <span class="mf">3.5</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">houseArea</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="o">(</span><span class="n">roomArea</span> <span class="o">*</span> <span class="mf">4.0</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, the expression has value <code>14.0</code>. Consequently, the <code>int</code>
version is <code>14</code>. In general, the value could have a fractional part.
When casting from a floating-point type to an integer type, the
fractional part is truncated <strong>not</strong> rounded. Consider the following
statement:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="mf">15.99999</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Mathematically, it seems obvious that <code>15.99999</code> should be rounded to
the nearest <code>int</code> value of <code>16</code>, but Java does not do this. Instead, the
code above stores <code>15</code> into <code>count</code>. If you want to round the value,
Java provides a method for rounding in the <code>Math</code> class. The rounding
(instead of truncating) version is given below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="nc">Math</span><span class="o">.</span><span class="na">round</span><span class="o">(</span><span class="mf">15.99999</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The value given back by <code>Math.round()</code> has type <code>long</code>. The designers of
the <code>Math</code> class chose <code>long</code> so that the same method could be used to round
large <code>double</code> values into a <code>long</code> value, since the result might not
fit in an <code>int</code> value. Since <code>long</code> is a broader type than <code>int</code>, we
have to downcast the result to an <code>int</code> so that we can store it in
<code>count</code>.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap3.html#implicitTypeConversionExercise">Exercise 3.10</a></p>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 3.10 Conversion from <code>double</code> to <code>float</code></div>
<div class="content">
<div class="paragraph">
<p>Consider the following declaration and assignment of variable
<code>roomArea</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">float</span> <span class="n">roomArea</span><span class="o">;</span>
<span class="n">roomArea</span> <span class="o">=</span> <span class="mf">2.0</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This assignment is illegal in Java, and the compiler gives an error
message like the following.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Error: possible loss of precision
found: double
required: float</pre>
</div>
</div>
<div class="paragraph">
<p>As we mentioned earlier, the literal <code>2.0</code> has type <code>double</code>. When you
try to assign a <code>double</code> value to a <code>float</code> variable, there’s always a
risk that precision will be lost. The best way to avoid the error above
is to declare <code>roomArea</code> with type <code>double</code>. Alternatively, we could
store the <code>float</code> literal <code>2.0f</code> into <code>roomArea</code>. We could also assign
<code>2</code> instead of <code>2.0</code> to <code>roomArea</code>, since the upcast from <code>int</code> is done
automatically.</p>
</div>
<div class="paragraph">
<p>Remember, you should almost always use the <code>double</code> type to represent
floating-point numbers. Only in rare cases when you need to save memory
should you use <code>float</code> values. By making it illegal to store <code>2.0</code> into
a <code>float</code> variable, Java’s encouraging you to use high precision
storage.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap3.html#floatTypeExercise">Exercise 3.3</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Numerical types and the conversions between them are critical elements
of programming in Java, which has a strong mathematical foundation. In
addition to these numerical types, Java also provides two other types
that represent individual characters and Boolean values. We examine
these next.</p>
</div>
</div>
<div class="sect4">
<h5 id="_characters_char">Characters: <code>char</code></h5>
<div class="paragraph">
<p>Sentences are made up of words. Words are made up of letters. Although
we have discussed powerful tools for representing numbers in Java,
we need a way to represent the letters and other characters we might
find in printed text. Values with the <code>char</code> type are used to represent
individual characters.</p>
</div>
<div class="paragraph">
<p>In the older languages of C and C++, the <code>char</code> type used 8 bits for
storage. From <a href="index.html">Chapter 1</a>, you know that you can
represent up to 2<sup>8</sup> = 256 values with 8 bits. The Latin
alphabet, which is used to write English, uses 26 letters. If we need to
represent upper- and lowercase letters, the 10 decimal digits,
punctuation marks, and quite a few other special symbols, 256 values is
plenty. However, people all over the world use computers and want to
store text from their language written in their script digitally. Taking
the Chinese character system alone, some Chinese dictionaries list over
100,000 characters!</p>
</div>
<div class="paragraph">
<p>Java uses a standard called UTF-16 encoding to represent characters.
UTF-16 is part of a larger international standard called Unicode, which
is an attempt to represent most of the world’s writing systems as
numbers that can be stored digitally. Most of the inner workings of
Unicode aren’t important for day-to-day Java programming, but you can
visit the <a href="http://www.unicode.org" target="_blank" rel="noopener">Unicode site</a> if you want more information.</p>
</div>
<div class="paragraph">
<p>In Java, each variable of type <code>char</code> uses 16 bits of storage.
Therefore, each character variable could assume any value from among a
total of 2<sup>16</sup> = 65,536 possibilities (although a few of
these are not legal characters). Here are a few declarations and
assignments of variables of type <code>char</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">char</span> <span class="n">letter</span> <span class="o">=</span> <span class="sc">'A'</span><span class="o">;</span>
<span class="kt">char</span> <span class="n">punctuation</span> <span class="o">=</span> <span class="sc">'?'</span><span class="o">;</span>
<span class="kt">char</span> <span class="n">digit</span> <span class="o">=</span> <span class="sc">'7'</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>We’re storing <code>char</code> literals into each of the variables above. Most of
the <code>char</code> literals you’ll use commonly are made by typing the single
character you want in <strong>single</strong> quotes (<code>'</code>), such a <code>'z'</code>. These
characters can be upper- or lowercase letters, single numerical digits,
or other symbols.</p>
</div>
<div class="paragraph">
<p>The space character literal is <code>' '</code>, but some characters are harder to
represent. For example, a new line (the equivalent of pressing
<code>&lt;enter&gt;</code>) is represented as a single character, but we can’t type a
single quote, hit <code>&lt;enter&gt;</code>, and then type the second quote. Instead,
the character to represent a new line is <code>'\n'</code>, which we will refer to
simply as a <em>newline</em>. Every <code>char</code> variable can only hold a single
character. It appears that <code>'\n'</code> has multiple characters in it, but it
doesn’t. The use of the backslash (<code>\</code>) marks an <em>escape sequence</em>,
which is a combination of characters used to represent a specific
difficult to type or represent character. Here is a table of common
escape sequences.</p>
</div>
<table class="tableblock frame-all grid-all fit-content center">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>Escape Sequence</strong></th>
<th class="tableblock halign-center valign-top"><strong>Character</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><div class="literal"><pre>\n</pre></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Newline</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><div class="literal"><pre>\t</pre></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Tab</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><div class="literal"><pre>\'</pre></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Single quote</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><div class="literal"><pre>\\</pre></div></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Backslash</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Remember, everything inside of a computer is represented with numbers,
and each <code>char</code> value has some numerical equivalent. These numbers are
arbitrary but systematic. For example, the character <code>'a'</code> has a
numerical value of <code>97</code>, and <code>'b'</code> has a numerical value of <code>98</code>. The
codes for all of the lowercase Latin letters are sequential in
alphabetical order. (The codes for uppercase letters are sequential too,
but there’s a gap between them and the lowercase codes.)</p>
</div>
<div class="paragraph">
<p>Some Unicode characters are difficult to type because your keyboard or
operating system has no easy way to produce the character. Another kind
of escape sequence allows you to specify any character by its Unicode
value. There are large tables listing all possible Unicode characters by
numerical values. If you want to represent a specific literal, you type
<code>'\uxxxx'</code> where <code>xxxx</code> is a hexadecimal number representing the value.
For example, <code>'\u0064'</code> converted into decimal is
16 × 6 + 4 = 100, which is the letter <code>'d'</code>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3.11 Printing single characters</div>
<div class="content">
<div class="paragraph">
<p>If you print a <code>char</code> variable or literal directly, it prints the
character representation on the screen. For example, the following
statement prints <code>A</code> not <code>65</code>, the Unicode value of <code>'A'</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="sc">'A'</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>However, the Unicode values <strong>are</strong> numbers. If you try to perform
arithmetic on them, Java will treat them like numbers. For example, the
following statement adds the integer equivalents of the characters
(65 + 66 = 131), concatenates the sum with the <code>String</code>
<code>"C"</code>, and concatenates the result with a <code>String</code> representation of the
<code>int</code> literal <code>999</code>. The surprising final output is <code>131C999</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="sc">'A'</span> <span class="o">+</span> <span class="sc">'B'</span> <span class="o">+</span> <span class="s">"C"</span> <span class="o">+</span> <span class="mi">999</span><span class="o">);</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_booleans_boolean">Booleans: <code>boolean</code></h5>
<div class="paragraph">
<p>If you’re new to programming, it may seem useless to have a type
designed to hold only true and false values. These values are called
<em>Boolean values</em>, and the logic used to manipulate them turns out to be
crucial to almost every program. We use them to represent conditions in
<a href="chap4.html">Chapter 4</a>, <a href="chap5.html">Chapter 5</a>, and beyond.</p>
</div>
<div class="paragraph">
<p>To store these truth values, Java uses the type <code>boolean</code>. There are
exactly two literals for type <code>boolean</code>: <code>true</code> and <code>false</code>. Here are
two declarations and assignments of <code>boolean</code> variables.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">boolean</span> <span class="n">awesome</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
<span class="kt">boolean</span> <span class="n">testFailed</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If we could only store these two literals, <code>boolean</code> variables would
have limited usefulness. However, Java provides a full range of
<em>relational</em> operators that allow us to compare values. Each of these
operators generates a <code>boolean</code> result. For example, we can test to see
if two numbers are equal, and the answer is either <code>true</code> or <code>false</code>.
All Java relational operators are listed in the table below. Assume that
all variables used in the <strong>Example</strong> column have a numeric type.</p>
</div>
<table class="tableblock frame-all grid-all fit-content center">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>Symbol</strong></th>
<th class="tableblock halign-left valign-top"><strong>Read as</strong></th>
<th class="tableblock halign-left valign-top"><strong>Example</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><div class="literal"><pre>==</pre></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">equal to</p></td>
<td class="tableblock halign-left valign-top"><div class="literal"><pre>x + 3 == y * 2</pre></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><div class="literal"><pre>!=</pre></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">not equal to</p></td>
<td class="tableblock halign-left valign-top"><div class="literal"><pre>x !=  y / 4</pre></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><div class="literal"><pre>&lt;</pre></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">less than</p></td>
<td class="tableblock halign-left valign-top"><div class="literal"><pre>x &lt; 3.5</pre></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><div class="literal"><pre>&lt;=</pre></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">less than or equal to</p></td>
<td class="tableblock halign-left valign-top"><div class="literal"><pre>x &lt;= y</pre></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><div class="literal"><pre>&gt;</pre></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">greater than</p></td>
<td class="tableblock halign-left valign-top"><div class="literal"><pre>x &gt; y+1</pre></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><div class="literal"><pre>&gt;=</pre></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">greater than or equal to</p></td>
<td class="tableblock halign-left valign-top"><div class="literal"><pre>x + y &gt;= z</pre></div></td>
</tr>
</tbody>
</table>
<div class="exampleblock">
<div class="title">Example 3.12 Boolean variables</div>
<div class="content">
<div class="paragraph">
<p>The following declarations and assignments illustrate some uses of
<code>boolean</code> variables. Note the use of the relational operators <code>==</code> and
<code>&gt;</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span>
<span class="kt">boolean</span> <span class="n">same</span> <span class="o">=</span> <span class="o">(</span><span class="n">x</span> <span class="o">==</span> <span class="mi">3</span><span class="o">);</span>
<span class="n">same</span> <span class="o">=</span> <span class="o">(</span><span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="o">);</span>
<span class="kt">boolean</span> <span class="n">xIsGreater</span> <span class="o">=</span> <span class="o">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the first use of <code>==</code> above, the value of <code>same</code> is <code>true</code> because
the value of <code>x</code> is <code>3</code>. In the second comparison, the value of <code>same</code>
is <code>false</code> because the values of <code>x</code> and <code>y</code> are different. The value of
<code>xIsGreater</code> is also <code>false</code> since the value of <code>x</code> is not greater than
the value of <code>y</code>.  All of the parentheses in this example are unnecessary
and are used only for clarity.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>In addition to the relational operators, Java also provides <em>logical</em>
operators that can be used to combine or negate <code>boolean</code> values. These
are the logical AND (<code>&amp;&amp;</code>), logical OR (<code>||</code>), logical XOR (<code>^</code>), and
logical NOT (<code>!</code>) operators.</p>
</div>
<table class="tableblock frame-all grid-all fit-content center">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle"><strong>Name</strong></th>
<th class="tableblock halign-center valign-middle"><strong>Operator</strong></th>
<th class="tableblock halign-left valign-middle"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">AND</p></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>&amp;&amp;</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Returns <code>true</code> if both values are <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">OR</p></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>||</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Returns <code>true</code> if either value is <code>true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">XOR</p></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>^</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Returns <code>true</code> if values are different</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock">NOT</p></td>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>!</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Returns the opposite of the value</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>All of these operators, except for NOT, are binary operators. Logical
AND is used when you want your result to be <code>true</code> only if both the
operands being combined evaluate to <code>true</code>. Logical OR is used when you
want your result to be <code>true</code> if either operand is <code>true</code>. Logical XOR
is used when you want your result to be <code>true</code> if one but not both of
your operands is <code>true</code>. The unary logical NOT operator (<code>!</code>) results in
the opposite value of its operand, switching <code>true</code> to <code>false</code> or
<code>false</code> to <code>true</code>. Both the relational operators and the logical
operators are described in greater detail in
<a href="chap4.html">Chapter 4</a>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_reference_types">3.3.3. Reference types</h4>
<div class="paragraph">
<p>Now we’ll move on to reference types, which vastly outnumber the
primitive types, with new types created all the time. Nevertheless, the
primitive types in Java are important, partly because they are the
building blocks for reference types.</p>
</div>
<div class="paragraph">
<p>Recall that a variable with a reference type does not contain a concrete
value like a primitive variable. Instead, the value it holds is a
reference or arrow pointing to the “real” object. It’s like a name for
an object. When you declare a reference variable in Java, it doesn’t initially
point at anything, and you’ll get a compiler error if you try to use its value. For
example, the following code creates a <code>Wombat</code> variable called <code>w</code>, but it doesn’t
yet point at anything.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">Wombat</span> <span class="n">w</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To create an object in Java, you use the <code>new</code> keyword followed by the
name of the type and parentheses, which can either be empty or contain
data you want to use to initialize the object. This process is called
invoking the <em>constructor</em>, which creates space for the object and then
initializes it with the values you specify or with default values if you
leave the parentheses empty. Below, we invoke the default <code>Wombat</code>
constructor and point the variable <code>w</code> at the resulting object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="n">w</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Wombat</span><span class="o">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, a <code>Wombat</code> constructor might allow you to specify its mass in
kilograms when creating one, as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="n">w</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Wombat</span><span class="o">(</span><span class="mf">26.3</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Assignment of reference types points the two references to the same
object. Thus, we can have two different <code>Wombat</code> references pointing at
the same object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">Wombat</span> <span class="n">w1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Wombat</span><span class="o">(</span><span class="mf">26.3</span><span class="o">);</span>
<span class="nc">Wombat</span> <span class="n">w2</span> <span class="o">=</span> <span class="n">w1</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="chapters/03-strings-primitive-types/images/wombat.svg" alt="wombat" width="50%">
</div>
<div class="title">Figure 3.2 Two <code>Wombat</code> references pointing at the same object.</div>
</div>
<div class="paragraph">
<p>Then, anything we do to <code>w1</code> will affect <code>w2</code> and vice versa. For
example, we can tell <code>w1</code> to eat leaves using the <code>eatLeaves()</code> method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="n">w1</span><span class="o">.</span><span class="na">eatLeaves</span><span class="o">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Perhaps this will increase the mass of the object that <code>w1</code> points at to
<code>26.9</code> kilograms. But the mass of the object that <code>w2</code> points at will be
increased as well, because they are the <strong>same object</strong>. Since primitive
variables hold values and not references to objects, this kind of code
works very differently with them. Consider the following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">;</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">5</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this code, <code>a</code> is initialized to have a value of <code>10</code>, and <code>b</code> is
initialized to have whatever value <code>a</code> has, namely <code>10</code>. The third line
increases the value of <code>a</code> to <code>15</code>, but <code>b</code> remains at <code>10</code>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="chapters/03-strings-primitive-types/images/primitive.svg" alt="primitive" width="25%">
</div>
<div class="title">Figure 3.3 Because they’re primitive, <code>int</code> variables store values, not references.</div>
</div>
<div class="paragraph">
<p>Now that we’ve highlighted some of the differences between primitive and
reference types, we explain the <code>String</code> type more deeply. You use it
frequently, but it has a few unusual features that are not shared by
other reference types.</p>
</div>
<div class="sect4">
<h5 id="_string_basics"><code>String</code> basics</h5>
<div class="paragraph">
<p>The <code>String</code> type is used to represent text in Java. A <code>String</code> object
contains a sequence of zero or more <code>char</code> values. Unlike every other
reference type, there is a literal form for <code>String</code> objects. These
literals are written with the text you want to represent inside of
double quotes (<code>"</code>), such as <code>"Fight the power!"</code>. You can declare a
<code>String</code> reference and initialize it by setting it equal to another
<code>String</code> reference or a <code>String</code> literal. Like any other reference, you
could leave it uninitialized.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap3.html#uninitializedVariableExercise">Exercise 3.18</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>There’s a difference between an uninitialized <code>String</code> (a reference
that points to <code>null</code>) and a <code>String</code> of length 0. A <code>String</code> of length
0 is also known as an <em>empty string</em> and is written <code>""</code>. The space
character (<code>' '</code>) and escape sequences such as <code>'\n'</code> can also be parts of
a <code>String</code> and add to its length. For example, <code>"ABC"</code> contains three
characters, but the <code>String</code> <code>"A B C"</code> has five, because the spaces on
each side of <code>'B'</code> count. The next example illustrates some ways of
defining and using the <code>String</code> type.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap3.html#stringLengthExercise">Exercise 3.17</a></p>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 3.13 <code>String</code> assignment</div>
<div class="content">
<div class="paragraph">
<p>The following declarations define two <code>String</code> references named
<code>greeting</code> and <code>title</code> and initialize each with a literal.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">String</span> <span class="n">greeting</span> <span class="o">=</span> <span class="s">"Bonjour!"</span>
<span class="nc">String</span> <span class="n">title</span> <span class="o">=</span> <span class="s">"French Greeting"</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As you’ve seen in <a href="chap2.html">Chapter 2</a>,
we can output <code>String</code> values using <code>System.out.print()</code> and
<code>JOptionPane</code> methods.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">greeting</span><span class="o">);</span>
<span class="nc">JOptionPane</span><span class="o">.</span><span class="na">showMessageDialog</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span> <span class="n">greeting</span><span class="o">,</span> <span class="n">title</span><span class="o">,</span> <span class="nc">JOptionPane</span><span class="o">.</span><span class="na">INFORMATION_MESSAGE</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The first statement above displays <code>Bonjour!</code> on the terminal. The
second statement creates a dialog box with the title <code>French Greeting</code>
and the message <code>Bonjour!</code></p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_string_operations"><code>String</code> operations</h5>
<div class="paragraph">
<p>In <a href="chap2.html">Chapter 2</a>, you saw that we
can <em>concatenate</em> two <code>String</code> objects into a third <code>String</code> object
using the <code>+</code> operator. This operator is unusual for a reference type.
Almost all other reference types are only able to use the assignment
operator (<code>=</code>) and the comparison operator (<code>==</code>). Like other reference
types, the <code>String</code> class provides methods for interaction. We introduce
a few <code>String</code> methods in this section and subsequent sections, but the
<code>String</code> class defines many more.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3.14 <code>String</code> concatenation</div>
<div class="content">
<div class="paragraph">
<p>Here’s another example of combining <code>String</code> objects using the <code>+</code>
operator.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">String</span> <span class="n">argument</span> <span class="o">=</span> <span class="s">"the cannon"</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">phrase</span> <span class="o">=</span> <span class="s">"No argument but "</span> <span class="o">+</span> <span class="n">argument</span> <span class="o">+</span> <span class="s">"!"</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In these statements, we initialize <code>argument</code> to <code>"the cannon"</code>. We then
compute the value of <code>phrase</code> by adding, or concatenating, three
<code>String</code> values: <code>"No argument but "</code>, the value of <code>argument</code>, and
<code>"!"</code>. The result is <code>"No argument but the cannon!"</code>. If <code>argument</code> had
been initialized to <code>"a pie in the face"</code>, then <code>phrase</code> would instead point to
<code>"No argument but a pie in the face!"</code>.</p>
</div>
<div class="paragraph">
<p>Another way of concatenating two <code>String</code> objects is by using the
<code>String</code> <code>concat()</code> method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">String</span> <span class="n">argument</span> <span class="o">=</span> <span class="s">"the cannon"</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">exclamation</span> <span class="o">=</span> <span class="s">"!"</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">phraseStart</span> <span class="o">=</span> <span class="s">"No argument but "</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">phrase</span> <span class="o">=</span> <span class="n">phraseStart</span><span class="o">.</span><span class="na">concat</span><span class="o">(</span><span class="n">argument</span><span class="o">);</span>
<span class="n">phrase</span> <span class="o">=</span> <span class="n">phrase</span><span class="o">.</span><span class="na">concat</span><span class="o">(</span><span class="n">exclamation</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This sequence of statements gives the same result as the one above
using the <code>` operator. In practice, the `concat()` method is rarely
used because the `</code> operator is so convenient. Note that <code>String</code>
objects in Java are <em>immutable</em>, meaning that calling a method on a
<code>String</code> object will <strong>never</strong> change it. In the code above, calling
<code>concat()</code> creates new <code>String</code> objects. The <code>phrase</code> reference points
first at one <code>String</code> and then at a new <code>String</code> on the next line.
In this case the <strong>reference</strong> can be changed, but a <code>String</code> <strong>object</strong>
never changes once it’s been created. This distinction is a subtle but
important one.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>A host of other methods can be used on a <code>String</code> just like <code>concat()</code>.
For example, the length of a <code>String</code> can be found using the <code>length()</code>
method. The following statements prints <code>30</code> to the terminal.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">String</span> <span class="n">motto</span> <span class="o">=</span> <span class="s">"Fight for your right to party!"</span><span class="o">;</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">motto</span><span class="o">.</span><span class="na">length</span><span class="o">()):</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>String</code> literals are <code>String</code> objects as well, and you can call methods
on them. The following code stores <code>11</code> into <code>letters</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">letters</span> <span class="o">=</span> <span class="s">"cellar door"</span><span class="o">.</span><span class="na">length</span><span class="o">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Remember that a <code>String</code> is a sequence of <code>char</code> values. If you want to
find out what <code>char</code> value sits at a particular location within a <code>String</code>, you
can use the <code>charAt()</code> method.</p>
</div>
<div class="paragraph">
<p>This method is called with an <code>int</code> value giving the index you want to
know about. Indexes inside of a <code>String</code> start at 0, not at 1.
Zero-based numbering is used extensively in programming, and we discuss
it further in <a href="chap6.html">Chapter 6</a>. It may help if you think of
the index as the number of characters that appear before the character
at the specified index. The next example shows how <code>charAt()</code> can be
used.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3.15 Examining the <code>char</code> value at an index</div>
<div class="content">
<div class="paragraph">
<p>To see what <code>char</code> is at a given location, we call <code>charAt()</code> with the
index in question, as shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">String</span> <span class="n">word</span> <span class="o">=</span> <span class="s">"antidisestablishmentarianism"</span><span class="o">;</span>
<span class="kt">char</span> <span class="n">letter</span> <span class="o">=</span> <span class="n">word</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="mi">11</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, <code>letter</code> is assigned the value <code>'b'</code>. Remember, indexes
for <code>char</code> values inside of a <code>String</code> start with 0. Thus, the <code>char</code> at
index 0 is <code>'a'</code>, the <code>char</code> at index 1 is <code>'n'</code>, the <code>char</code> at index 2
is <code>'t'</code>, and so on. If you count up to the twelfth <code>char</code> (which has
index 11), it should be <code>'b'</code>.</p>
</div>
<div class="paragraph">
<p>Every <code>char</code> inside of a <code>String</code> counts, whether it’s a letter, a
digit, a space, punctuation, or some other symbol.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">String</span> <span class="n">text</span> <span class="o">=</span> <span class="s">"^_^ l337 #haxor# skillz!"</span><span class="o">;</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">text</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="mi">10</span><span class="o">));</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This code prints out <code>h</code> since <code>'h'</code> is the eleventh <code>char</code> (with index
10) in <code>text</code>.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>A contiguous sequence of characters inside of a <code>String</code> is called a
<em>substring</em>. For example, a few substrings of
<code>"Throw your hands in the air!"</code> are <code>"T"</code>, <code>"Throw"</code>, <code>"hands"</code>, and
<code>"ur ha"</code>. Note that <code>"Ty"</code> is <strong>not</strong> a substring because these characters
don’t appear next to each other.</p>
</div>
<div class="paragraph">
<p>The next example shows how to use the <code>substring()</code> method to retrieve a
substring from an existing <code>String</code>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3.16 Retrieving a substring</div>
<div class="content">
<div class="paragraph">
<p>You can generate a substring of a <code>String</code> (which is, itself, a <code>String</code>) using the
<code>substring()</code> method.  The <code>substring()</code> method takes two arguments: the index where
the substring starts and the index <strong>just after</strong> it ends, as shown in the following code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">String</span> <span class="n">description</span> <span class="o">=</span> <span class="s">"slovenly"</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">emotion</span> <span class="o">=</span> <span class="n">description</span><span class="o">.</span><span class="na">substring</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span><span class="mi">5</span><span class="o">);</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">emotion</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This snippet of code prints <code>love</code>, since those are the characters at indexes
1 through 4 of <code>"slovenly"</code>.  Remember that <code>String</code> indexes are always zero-based.  Also,
the second argument of <code>substring()</code> is the index after the last one you want in your substring.
Although this behavior is confusing, it’s a common design in many different string libraries in many
different languages.  One way to think about it is that the length of the substring is the
second parameter minus the first.  In this case, 5 - 1 = 4, the length of <code>"love"</code>.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>The <code>String</code> class also provides the <code>indexOf()</code> method to find the position
of a substring, as shown in the next example.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3.17 <code>String</code> search</div>
<div class="content">
<div class="paragraph">
<p>Suppose we wish to find a <code>String</code> inside of another <code>String</code>. To do so,
we call the <code>indexOf()</code> method on the <code>String</code> we’re searching inside
of, with the <code>String</code> we’re searching for as the argument.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">String</span> <span class="n">countries</span> <span class="o">=</span> <span class="s">"USA Mexico China Canada"</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">search</span> <span class="o">=</span> <span class="s">"China"</span><span class="o">;</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">countries</span><span class="o">.</span><span class="na">indexOf</span><span class="o">(</span><span class="n">search</span><span class="o">));</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>indexOf()</code> method returns an <code>int</code> value that gives the position of
the <code>String</code> we’re searching for. In the code above, the output is <code>11</code>
because <code>"China"</code> appears starting at index 11 inside the <code>countries</code>
<code>String</code>. Another way to think about it is that there are 11 characters
before <code>"China"</code> in <code>countries</code>. If the given substring cannot be found, the <code>indexOf()</code>
method returns <code>-1</code>. For example, <code>-1</code> will be printed to the terminal
if we replace the print statement above with the following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">countries</span><span class="o">.</span><span class="na">indexOf</span><span class="o">(</span><span class="s">"Honduras"</span><span class="o">));</span></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>There are several other methods provided by <code>String</code> that we introduce
as the need arises. If you are curious, you should look into the Java
documentation for <code>String</code> in the Oracle
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" target="_blank" rel="noopener">String documentation</a> for a
complete list of available methods.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_assignment_and_comparison">3.3.4. Assignment and comparison</h4>
<div class="paragraph">
<p>Both assigning one variable to another and testing two variables to see
if they’re equal to each other are important operations in Java. These
operations are used on both primitive and reference types, but there are
subtle differences between the two that we discuss below.</p>
</div>
<div class="sect4">
<h5 id="_assignment_statements">Assignment statements</h5>
<div class="paragraph">
<p>Assignment is the act of setting one variable to the value of another.
With a primitive type, the value held inside one variable is copied to
the other. With a reference type, the arrow that points at the object is
copied. All types in Java perform assignment with the assignment
operator (<code>=</code>).</p>
</div>
<div class="paragraph">
<p>As we’ve discussed, values can be computed and then assigned to
variables as in the following statement.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">data</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">response</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In Java, a statement that computes a value and assigns it is called an
<em>assignment statement</em>. The generic form of the assignment statement is
as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="n">identifier</span> <span class="o">=</span> <span class="n">expression</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Here, <code>identifier</code> gives the name of some variable. For example, in the
statement above, <code>data</code> is the name of the variable.</p>
</div>
<div class="paragraph">
<p>The right-hand side of an assignment statement is an expression that
returns a value that’s assigned to the variable on the left-hand side.
Even an assignment statement can be considered an expression, allowing
us to stack multiple assignments into one line, as in the following
code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">,</span> <span class="n">c</span><span class="o">;</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">b</span> <span class="o">=</span> <span class="n">c</span> <span class="o">=</span> <span class="mi">15</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The Java compiler checks for type compatibility between the left and the
right sides of an assignment statement. If the right-hand side is a
broader type than the left-hand side (or is completely mismatched), the
compiler gives an error, as in the following cases.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">number</span> <span class="o">=</span> <span class="mf">4.9</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">text</span> <span class="o">=</span> <span class="mi">9</span><span class="o">;</span></code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_comparison">Comparison</h5>
<div class="paragraph">
<p>Comparing two values to see if they’re the same uses the comparison
operator (<code>==</code>) in Java. With primitive types, this kind of check is
intuitive: The result is <code>true</code> if the two values are the same.
With reference types, the value held by the variable is the arrow
pointing to the object. Two reference variables could point to different
objects with identical contents and return <code>false</code> when compared to each
other. The following gives examples of these comparisons.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3.18 Comparison</div>
<div class="content">
<div class="paragraph">
<p>Consider the following lines of code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span><span class="o">;</span>
<span class="kt">boolean</span> <span class="n">z</span> <span class="o">=</span> <span class="o">(</span><span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The value of variable <code>z</code> is <code>true</code> because <code>x</code> and <code>y</code> contain the same
values. If <code>x</code> were assigned <code>6</code> instead, <code>z</code> would be <code>false</code>.</p>
</div>
<div class="paragraph">
<p>Now, consider the following code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">String</span> <span class="n">thing1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">String</span><span class="o">(</span><span class="s">"Magical mystery"</span><span class="o">);</span>
<span class="nc">String</span> <span class="n">thing2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">String</span><span class="o">(</span><span class="s">"Magical mystery"</span><span class="o">);</span>
<span class="nc">String</span> <span class="n">thing3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">String</span><span class="o">(</span><span class="s">"Tragical tapestry"</span><span class="o">);</span></code></pre>
</div>
</div>
<div id="differentObjectsFigure" class="imageblock">
<div class="content">
<img src="chapters/03-strings-primitive-types/images/differentObjectsFigure.svg" alt="differentObjectsFigure" width="100%">
</div>
<div class="title">Figure 3.4 Objects <code>thing1</code>, <code>thing2</code>, and <code>thing3</code> (a)&nbsp;in their initial states and (b)&nbsp;after the assignment <code>thing1 = thing2;</code>.</div>
</div>
<div class="paragraph">
<p>This code declares and initializes three <code>String</code> values. Although it’s
possible to store <code>String</code> literals directly without invoking a <code>String</code>
constructor, we use this style of <code>String</code> creation to make our
point since Java can do some confusing optimizations otherwise.
Variables <code>thing1</code> and <code>thing2</code> point to <code>String</code> values that contain
identical sequences of characters. Variable <code>thing3</code> points to a
different <code>String</code>. Consider the following statement.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">boolean</span> <span class="n">same</span> <span class="o">=</span> <span class="o">(</span><span class="n">thing1</span> <span class="o">==</span> <span class="n">thing3</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case the value of <code>same</code> is clearly <code>false</code> because the two
<code>String</code> values are not the same. What about the following case?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">boolean</span> <span class="n">same</span> <span class="o">=</span> <span class="o">(</span><span class="n">thing1</span> <span class="o">==</span> <span class="n">thing2</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Again, <code>same</code> contains <code>false</code>. Although, <code>thing1</code> and <code>thing2</code> point at
identical objects, they point at <strong>different</strong> identical objects. Since
the value held by a reference is the arrow that points to the object,
the comparison operator only shows that two references are the same if
they point at the same object.</p>
</div>
<div class="paragraph">
<p>To better understand comparison between reference types, consider
<a href="chap3.html#differentObjectsFigure">Figure 3.4</a>(a), which shows three different
objects. Note that each reference points at a distinct object, even
though two objects have the same contents.</p>
</div>
<div class="paragraph">
<p>Now consider the following assignment.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="n">thing1</span> <span class="o">=</span> <span class="n">thing2</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As shown in <a href="chap3.html#differentObjectsFigure">Figure 3.4</a>(b), this assignment points
reference <code>thing1</code> to the same location as reference <code>thing2</code>. Then,
<code>(thing1 == thing2)</code> would be <code>true</code>.</p>
</div>
<div class="paragraph">
<p>The <code>==</code> operator is generally not very useful with references, and the
<code>equals()</code> method should be used instead. This method compares the
contents of objects in whatever way the designer of the type specifies.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="n">thing1</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">thing2</span><span class="o">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This statement is <code>true</code> when <code>thing1</code> and <code>thing2</code> are pointing at identical
<code>String</code> objects even if they’re different objects.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap3.html#referenceEqualsExercise">Exercise 3.13</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_constants">3.3.5. Constants</h4>
<div class="paragraph">
<p>In addition to normal variables, we can define <em>named constants</em>. A
named constant is similar to a variable of the same type except that its
value cannot be changed once set. A constant in Java is declared like
any other variable with the addition of the keyword <code>final</code> before the
declaration.</p>
</div>
<div class="paragraph">
<p>The convention in Java (and many other languages) is to name constants
with all capital letters. Because camel case can no longer be used to
tell where one word starts and another ends, an <em>underscore</em> (<code>_</code>) is
used to separate words. Here are a few examples of named constant
declarations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">final</span> <span class="kt">int</span> <span class="no">POPULATION</span> <span class="o">=</span> <span class="mi">25000</span><span class="o">;</span>
<span class="kd">final</span> <span class="kt">double</span> <span class="no">PLANCK_CONSTANT</span> <span class="o">=</span> <span class="mf">6.626</span><span class="no">E</span><span class="o">-</span><span class="mi">34</span><span class="o">;</span>
<span class="kd">final</span> <span class="kt">boolean</span> <span class="no">FLAG</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
<span class="kd">final</span> <span class="kt">char</span> <span class="no">FIRST_INITIAL</span> <span class="o">=</span> <span class="sc">'A'</span><span class="o">;</span>
<span class="kd">final</span> <span class="nc">String</span> <span class="no">MESSAGE</span> <span class="o">=</span> <span class="s">"All your base are belong to us."</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this code, the value of <code>POPULATION</code> is <code>25000</code> and cannot be
changed. For example, if you now write <code>POPULATION = 30000;</code> on a later
line, your compiler will give an error. <code>PLANCK_CONSTANT</code>, <code>FLAG</code>,
<code>FIRST_INITIAL</code>, and <code>MESSAGE</code> are also defined as named constants.
Because of the syntax Java uses, these constants are sometimes referred
to as <em>final variables</em>.</p>
</div>
<div class="paragraph">
<p>In the case of <code>MESSAGE</code> and all other reference variables, being
<code>final</code> means that the reference can never point at a different object.
Even with a <code>final</code> reference, the objects themselves can change if
their methods allow it. However, <code>String</code> objects can
never change since they’re immutable.</p>
</div>
<div class="paragraph">
<p>Named constants are useful in two ways. First, a well-named constant can
make your code more readable than using a literal. Second, if you do
need to change the value to a different constant, you only have to
change it in one place. For example, if you have used <code>25000</code> in five
different places in your program, changing it to <code>30000</code> requires five
changes. If you have used <code>POPULATION</code> throughout your program instead
of a literal, you only have to change its value once.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_syntax_useful_libraries">3.4. Syntax: Useful libraries</h3>
<div class="paragraph">
<p>Computer software is difficult to write, but many of the same problems
come up over and over. If we had to solve these problems every time we
wrote a program, we’d never get anywhere. Java allows us to use code
other people have written called <em>libraries</em>. One selling point of Java
is its large standard library that can be used by any Java programmer
without special downloads. You’ve already used the <code>Scanner</code> class,
the <code>Math</code> class, and perhaps the <code>JOptionPane</code> class, which are all
part of libraries. Below, we’ll go deeper into the <code>Math</code> class and a
few other useful libraries.</p>
</div>
<div class="sect3">
<h4 id="_the_math_library">3.4.1. The <code>Math</code> library</h4>
<div class="paragraph">
<p>Basic arithmetic operators are useful, but Java also provides a rich set
of mathematical methods through the <code>Math</code> class.
The following table lists a few of the methods available. For a
complete list of methods provided by the <code>Math</code> class at the time of
writing, see the Oracle
<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Math.html" target="_blank" rel="noopener">Math documentation</a>.</p>
</div>
<table class="tableblock frame-all grid-all fit-content center">
<caption class="title">Table 3.2 A sample of methods available in the Java <code>Math</code> class. Arguments to trigonometric methods are given in radians.</caption>
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle"><strong>Method</strong></th>
<th class="tableblock halign-left valign-middle"><strong>Sample use</strong></th>
<th class="tableblock halign-left valign-middle"><strong>Purpose</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle" colspan="3"><p class="tableblock">Trigonometric functions</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>cos()</pre></div></td>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>double adjacent = hypotenuse * Math.cos(theta);</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Find the cosine of the argument.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>sin()</pre></div></td>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>double opposite = hypotenuse * Math.sin(theta);</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Find the sine of the argument.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>tan()</pre></div></td>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>double opposite = adjacent * Math.tan(theta);</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Find the tangent of the argument.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="3"><p class="tableblock">Exponentiation and logarithms</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>exp()</pre></div></td>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>double population = 250 * Math.exp(0.03 * time);</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Compute <em>e</em><sup><em>x</em></sup>, where <em>x</em> is the
argument.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>log()</pre></div></td>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>double digits = Math.log(1000000);</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Compute the natural logarithm of the argument.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>pow()</pre></div></td>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>double money = principal * Math.pow(1.0 + rate, time);</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Compute <em>a</em><sup><em>b</em></sup>, where <em>a</em> and <em>b</em>
are the first and second arguments.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle" colspan="3"><p class="tableblock">Miscellaneous</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>random()</pre></div></td>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>double percent = Math.random();</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Generate a random number <em>x</em> where
0.0 ≤ <em>x</em> &lt; 1.0.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>round()</pre></div></td>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>long items = Math.round(material);</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Round to the nearest <code>long</code> (or nearest <code>int</code> when
rounding a <code>float</code>).</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><div class="literal"><pre>sqrt()</pre></div></td>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>double hypotenuse = Math.sqrt(a*a+b*b);</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Compute the square root of the argument.</p></td>
</tr>
</tbody>
</table>
<div class="exampleblock">
<div class="title">Example 3.19 <code>Math</code> library usage</div>
<div class="content">
<div class="paragraph">
<p>Here’s a program that uses the <code>Math.pow()</code> method to compute compound
interest. Unlike <code>Scanner</code> and <code>JOptionPane</code>, the <code>Math</code> class is
imported by default in Java programs and requires no explicit import
statement.</p>
</div>
<div id="CompoundInterestCalculatorProgram" class="listingblock">
<div class="title">Program 3.1 Computes interest earned and new balance.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">CompoundInterestCalculator</span> <span class="o">{</span>   
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Scanner</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>        
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Compound Interest Calculator"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"Enter starting balance: "</span><span class="o">);</span>
        <span class="kt">double</span> <span class="n">startingBalance</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"Enter interest rate: "</span><span class="o">);</span>
        <span class="kt">double</span> <span class="n">rate</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"Enter time in years: "</span><span class="o">);</span>
        <span class="kt">double</span> <span class="n">years</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">();</span>        
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"Enter compounding frequency: "</span><span class="o">);</span>
        <span class="kt">double</span> <span class="n">frequency</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">();</span>
        <span class="kt">double</span> <span class="n">newBalance</span> <span class="o">=</span> <span class="n">startingBalance</span> <span class="o">*</span> 
            <span class="nc">Math</span><span class="o">.</span><span class="na">pow</span><span class="o">(</span><span class="mf">1.0</span> <span class="o">+</span> <span class="n">rate</span><span class="o">/</span><span class="n">frequency</span><span class="o">,</span> <span class="n">frequency</span><span class="o">*</span><span class="n">years</span><span class="o">);</span>
        <span class="kt">double</span> <span class="n">interest</span> <span class="o">=</span> <span class="n">newBalance</span> <span class="o">-</span> <span class="n">startingBalance</span><span class="o">;</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Interest earned: $"</span> <span class="o">+</span> <span class="n">interest</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"New balance: $"</span> <span class="o">+</span> <span class="n">newBalance</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>In addition to methods, the <code>Math</code> library contains named constants
including Euler’s number <em>e</em> and <em>π</em>. These
are written in code as <code>Math.E</code> and <code>Math.PI</code>, respectively. For
example, the following assignment statement computes the circumference
of a circle with radius given by the variable <code>radius</code>, using the
formula 2<em>πr</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">double</span> <span class="n">circumference</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="nc">Math</span><span class="o">.</span><span class="na">PI</span><span class="o">*</span><span class="n">radius</span><span class="o">;</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_random_numbers">3.4.2. Random numbers</h4>
<div class="paragraph">
<p>Random numbers are often needed in applications such as games and
scientific simulations. For example, card games require a random
distribution of cards. To simulate a deck of 52 cards, we could
associate an integer from 1 to 52 with each card. If we had a list of
these values, we could swap each value in the list with a value at a
random location later in the list. Doing so is equivalent to shuffling
the deck.</p>
</div>
<div class="paragraph">
<p>Java provides the <code>Random</code> class in package <code>java.util</code> to generate
random values. Before you can generate a random number with this class,
you need to create a <code>Random</code> object as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">Random</span> <span class="n">random</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Random</span><span class="o">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Here we’ve created an object named <code>random</code> of type <code>Random</code>.
Depending on the kind of random value you need, you can use the
<code>nextInt()</code>, <code>nextBoolean()</code>, or <code>nextDouble()</code> to generate a random
value of the corresponding type.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="c1">// Random integer with all values possible</span>
<span class="kt">int</span> <span class="n">balance</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span>

<span class="c1">// Random integer between 0 (inclusive) and 130 (exclusive)</span>
<span class="kt">int</span> <span class="n">humanAge</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">130</span><span class="o">);</span>

<span class="c1">// Random boolean value</span>
 <span class="kt">boolean</span> <span class="n">gender</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextBoolean</span><span class="o">();</span>

<span class="c1">// Random floating-point value between 0.0 (inclusive) and 1.0 (exclusive)</span>
<span class="kt">double</span> <span class="n">percent</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In these examples, <em>inclusive</em> means that the number could be generated,
while <em>exclusive</em> means that the number cannot be. Thus, the call
<code>random.nextInt(130)</code> generates the integers 0 through 129 but never
130. Exclusive upper bounds on ranges of random values are very common
in programming.</p>
</div>
<div class="paragraph">
<p>To generate a random <code>int</code> between values <code>a</code> and <code>b</code>, not including
<code>b</code>, use the following code, assuming you have a <code>Random</code> object named
<code>random</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="n">b</span> <span class="o">-</span> <span class="n">a</span><span class="o">)</span> <span class="o">+</span> <span class="n">a</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>nextInt()</code> method call generates a value between <code>0</code>
and <code>b - a</code>, and adding <code>a</code> shifts it into the
range from <code>a</code> up to (but not including) <code>b</code>.</p>
</div>
<div class="paragraph">
<p>Generating a random <code>double</code> between values <code>a</code> and <code>b</code> is similar
except that <code>nextDouble()</code> always generates a value between <code>0.0</code> and
<code>1.0</code>, not including <code>1.0</code>. Thus, you must scale the output by <code>b - a</code>
as shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">double</span> <span class="n">value</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">()*(</span><span class="n">b</span> <span class="o">-</span> <span class="n">a</span><span class="o">)</span> <span class="o">+</span> <span class="n">a</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The following example illustrates a potential use of random numbers in a
video game.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3.20 Dragon attribute generation</div>
<div class="content">
<div class="paragraph">
<p>Suppose you’re designing a video in which the hero must fight a dragon
with random attributes. <a href="chap3.html#DragonAttributesProgram">Program 3.2</a> generates
random values for the age, height, gender, and hit points of the dragon.</p>
</div>
<div id="DragonAttributesProgram" class="listingblock">
<div class="title">Program 3.2 Sets attributes of a randomly generated dragon for a video game.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span> <i class="conum" data-value="1"></i><b>(1)</b>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">DragonAttributes</span> <span class="o">{</span>    
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Random</span> <span class="n">random</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Random</span><span class="o">();</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">100</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="kt">double</span> <span class="n">height</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">()*</span><span class="mi">30</span><span class="o">;</span> <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="kt">boolean</span> <span class="n">gender</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextBoolean</span><span class="o">();</span> <i class="conum" data-value="5"></i><b>(5)</b>
        <span class="kt">int</span> <span class="n">hitPoints</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">51</span><span class="o">)</span> <span class="o">+</span> <span class="mi">25</span><span class="o">;</span> <i class="conum" data-value="6"></i><b>(6)</b>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Dragon Statistics"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Age:\t\t"</span> <span class="o">+</span> <span class="n">age</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"Height:\t\t%.1f feet\n"</span><span class="o">,</span> <span class="n">height</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Female:\t\t"</span> <span class="o">+</span> <span class="n">gender</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hit points:\t"</span> <span class="o">+</span> <span class="n">hitPoints</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We begin by importing <code>java.util.*</code> to include all the classes
in the <code>java.util</code> package, including <code>Random</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Then, we create an object <code>random</code> of type <code>Random</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>We use <code>random</code> to generate a random <code>int</code> between <code>0</code> and <code>99</code>, to which we add <code>1</code>, making an age between <code>1</code> and <code>100</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>To generate the height, we multiply a random <code>double</code> by <code>75</code>, yielding a value between <code>0.0</code> and <code>75.0</code> (exclusive).</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Since there are only two choices for a dragon’s gender, we generate a
random <code>boolean</code> value, interpreting <code>true</code> as female and <code>false</code> as
male.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Finally, we determine the number of hit points the dragon has by
generating a random <code>int</code> between <code>0</code> and <code>50</code>, then add <code>25</code> to it,
yielding a value between <code>25</code> and <code>75</code>.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Because we are using random values, the output of
<a href="chap3.html#DragonAttributesProgram">Program 3.2</a> changes every time we run the
program. Sample output is given below.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Dragon Statistics
Age:            90
Height:         13.7 feet
Female:         true
Hit points:     67</pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>If you only need a random <code>double</code> value, you can generate a number
between <code>0.0</code> and <code>1.0</code> (exclusive) using the <code>Math.random()</code> method
from the <code>Math</code> class. This method is a quick and dirty way to generate
random numbers without importing <code>java.util.Random</code> or creating a
<code>Random</code> object.</p>
</div>
<div class="paragraph">
<p>The random numbers generated by the <code>Random</code> class and by
<code>Math.random()</code> are <em>pseudorandom</em> numbers, meaning that they’re
generated by a mathematical formula instead of truly random events. Each
number is computed using the previous one, and the starting number is
determined using time information from the OS. For most purposes, these
pseudorandom numbers are good enough. Since each number can be predicted
from the previous one, pseudorandom numbers are insufficient for some
security applications. For those cases, Java provides the <code>SecureRandom</code>
class which is slower than <code>Random</code> but produces random numbers that
are much harder to predict.</p>
</div>
</div>
<div class="sect3">
<h4 id="_wrapper_classes">3.4.3. Wrapper classes</h4>
<div class="paragraph">
<p>Reference types have methods that allow a user to interact with them in
many useful ways. The primitive types (<code>byte</code>, <code>short</code>, <code>int</code>, <code>long</code>,
<code>float</code>, <code>double</code>, <code>char</code>, and <code>boolean</code>) do not have methods, but we
sometimes need to manipulate them with methods or store them in a place
that requires a reference type.</p>
</div>
<div class="paragraph">
<p>To deal with such situations, Java uses <em>wrapper classes</em>, reference
types that correspond to each primitive type. Following Java conventions
for class names, the wrapper types all start with an uppercase letter
but are otherwise similar to the name of the primitive type they
support: <code>Byte</code>, <code>Short</code>, <code>Integer</code>, <code>Long</code>, <code>Float</code>, <code>Double</code>,
<code>Character</code>, and <code>Boolean</code>.</p>
</div>
<div class="sect4">
<h5 id="_string_to_numerical_conversions"><code>String</code> to numerical conversions</h5>
<div class="paragraph">
<p>A common task for a wrapper class is to convert a <code>String</code>
representation of a number such as <code>"37"</code> or <code>"2.097"</code> to its
corresponding numeric value. We had such a situation in
<a href="chap2.html#GetInputGUIProgram">Program 2.3</a>, where we did the conversion as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">String</span> <span class="n">response</span> <span class="o">=</span> <span class="nc">JOptionPane</span><span class="o">.</span><span class="na">showInputDialog</span><span class="o">(</span><span class="kc">null</span><span class="o">,</span>
	<span class="s">"Enter the height: "</span><span class="o">,</span> <span class="n">title</span><span class="o">,</span> <span class="nc">JOptionPane</span><span class="o">.</span><span class="na">QUESTION_MESSAGE</span><span class="o">);</span>
<span class="n">height</span> <span class="o">=</span> <span class="nc">Double</span><span class="o">.</span><span class="na">parseDouble</span><span class="o">(</span><span class="n">response</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This code uses the <code>JOptionPane.showInputDialog()</code> method to read from
the user the height at which a ball is dropped. This method always
returns data as a <code>String</code>. In order for us to do computation with the
value, we need to convert it to a numeric type, such as an <code>int</code> or a
<code>double</code>. To do so, we use the appropriate <code>Byte.parseByte()</code>,
<code>Short.parseShort()</code>, <code>Integer.parseInt()</code>, <code>Long.parseLong()</code>,
<code>Float.parseFloat()</code>, or <code>Double.parseDouble()</code> method.</p>
</div>
<div class="paragraph">
<p>The following example shows conversions from a <code>String</code> to a number
using three of these methods.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3.21 <code>String</code> to numeric conversion</div>
<div class="content">
<div class="paragraph">
<p>Consider the following statements that show how a string can be
converted to a numerical value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">String</span> <span class="n">text</span> <span class="o">=</span> <span class="s">"15"</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">text</span><span class="o">);</span>
<span class="kt">float</span> <span class="n">value</span> <span class="o">=</span> <span class="nc">Float</span><span class="o">.</span><span class="na">parseFloat</span><span class="o">(</span><span class="n">text</span><span class="o">);</span>
<span class="kt">double</span> <span class="n">tolerance</span> <span class="o">=</span> <span class="nc">Double</span><span class="o">.</span><span class="na">parseDouble</span><span class="o">(</span><span class="n">text</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, we declare a <code>String</code> object named <code>text</code> and
initialize it to <code>"15"</code>. Since <code>text</code> is a <code>String</code> and not a number,
arithmetic expressions such as <code>(text*29)</code> are illegal.</p>
</div>
<div class="paragraph">
<p>To use the <code>String</code> <code>"15"</code> in a numerical computation, we need to
convert it to a number. We used the <code>Integer.parseInt()</code>,
<code>Float.parseFloat()</code>, and <code>Double.parseDouble()</code> methods to convert the
<code>String</code> to <code>int</code>, <code>float</code>, and <code>double</code> values, respectively. Each
method gives us 15 stored as the appropriate type.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap3.html#badInputFormatExercise">Exercise 3.19</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>What happens if the <code>String</code> <code>"15.5"</code> (or even <code>"cinnamon"</code>) is given as
input to the <code>Integer.parseInt()</code> method? If the <code>String</code> is not
formatted as the appropriate kind of number, Java throws a
<code>NumberFormatException</code>, probably crashing the program. An <em>exception</em>
is an error or other unexpected situation that happens in the middle of
running a program. We discuss how to work with exceptions in <a href="chap12.html">Chapter 12</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_character_methods"><code>Character</code> methods</h5>
<div class="paragraph">
<p>When working with <code>char</code> values, it can be useful to know whether a
particular value is a digit, a letter, or has a particular case. It may
also be useful to convert a <code>char</code> to upper- or lowercase. Here is a
partial list of the methods provided by the <code>Character</code> wrapper class to
do these tasks.<br></p>
</div>
<table class="tableblock frame-all grid-all fit-content center">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle"><strong>Method</strong></th>
<th class="tableblock halign-left valign-middle"><strong>Purpose</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>isDigit(char value)</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Returns <code>true</code> if <code>value</code> is a numerical digit
and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>isLetter(char value)</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Returns <code>true</code> if <code>value</code> is a letter and
<code>false</code> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>isLetterOrDigit(char value)</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Returns <code>true</code> if <code>value</code> is a digit or
a letter and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>isLowerCase(char value)</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Returns <code>true</code> if <code>value</code> is a lowercase
letter and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>isUpperCase(char value)</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Returns <code>true</code> if <code>value</code> is an uppercase
letter and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>isWhitespace(char value)</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Returns <code>true</code> if <code>value</code> is a whitespace
character such as space, tab, or newline and <code>false</code> otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>toLowerCase(char value)</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Returns a lowercase version of <code>value</code>,
with no change if it is not a letter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>toUpperCase(char value)</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Returns an uppercase version of <code>value</code>,
with no change if it is not a letter.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For example, the variable <code>test</code> contains <code>true</code> after the following
code is executed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">boolean</span> <span class="n">test</span> <span class="o">=</span> <span class="nc">Character</span><span class="o">.</span><span class="na">isLetter</span><span class="o">(</span><span class="sc">'x'</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And the variable <code>letter</code> contains <code>'M'</code> after the following code is
executed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">char</span> <span class="n">letter</span> <span class="o">=</span> <span class="nc">Character</span><span class="o">.</span><span class="na">toUpperCase</span><span class="o">(</span><span class="sc">'m'</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>These methods can be especially useful when processing input.</p>
</div>
</div>
<div class="sect4">
<h5 id="_maximum_and_minimum_values">Maximum and minimum values</h5>
<div class="paragraph">
<p>As you recall from <a href="index.html">Chapter 1</a>, integer
arithmetic in Java has limitations. If you increase a large positive
number past its maximum value, it becomes a large-magnitude negative
number, a phenomenon called overflow. Conversely, if you decrease a
large-magnitude negative number past its minimum value, it becomes a
large positive number, a phenomenon called underflow.</p>
</div>
<div class="paragraph">
<p>With floating-point numbers, increasing their magnitudes past their
maximum values results in special values that Java reserves to represent
either positive or negative infinity, as the case may be. If a floating-point
value gets too close to zero, it eventually rounds to zero.</p>
</div>
<div class="paragraph">
<p>In addition to useful conversion methods, the numerical wrapper classes
also have constants for the maximum and minimum values for each type.
Instead of trying to remember that the largest positive <code>int</code> value is
2,147,483,647, you can use the equivalent
<code>Integer.MAX_VALUE</code>.</p>
</div>
<div class="paragraph">
<p>The <code>MAX_VALUE</code> constants are always the largest positive number that
can be represented with the corresponding type. The <code>MIN_VALUE</code> is more
confusing. For integer types, it’s the largest magnitude negative
number. For floating-point types, it’s the smallest positive non-zero
value that can be represented. Here is a table listing these constants.</p>
</div>
<table class="tableblock frame-all grid-all fit-content center">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-middle"><strong>Constant</strong></th>
<th class="tableblock halign-left valign-middle"><strong>Meaning</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>Byte.MAX_VALUE</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Most positive value a <code>byte</code> value can have</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>Byte.MIN_VALUE</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Most negative value a <code>byte</code> value can have</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>Short.MAX_VALUE</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Most positive value a <code>short</code> value can have</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>Short.MIN_VALUE</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Most negative value a <code>short</code> value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>Integer.MAX_VALUE</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Most positive value an <code>int</code> value can have</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>Integer.MIN_VALUE</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Most negative value an <code>int</code> value can have</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>Long.MAX_VALUE</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Most positive value a <code>long</code> value can have</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>Long.MIN_VALUE</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Most negative value a <code>long</code> value can have</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>Float.MAX_VALUE</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Largest absolute value a <code>float</code> value can have</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>Float.MIN_VALUE</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Smallest absolute value a <code>float</code> value can have</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>Double.MAX_VALUE</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Largest absolute value a <code>double</code> value can have</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><div class="literal"><pre>Double.MIN_VALUE</pre></div></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">Smallest absolute value a <code>double</code> value can have</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The wrap-around nature of integer arithmetic means that adding 1 to
<code>Integer.MAX_VALUE</code> results in <code>Integer.MIN_VALUE</code>. Note that all
integer arithmetic in Java is done assuming type <code>int</code>, unless
explicitly specified otherwise. Thus, <code>Short.MAX_VALUE + 1</code> does not
overflow to a negative value unless you store the result into a <code>short</code>.
The same rules apply to underflow.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap3.html#overflowUnderflowExercise">Exercise 3.6</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Overflow and underflow do not work in the same way with the floating-point
numbers represented by <code>float</code> and <code>double</code>. The expression
<code>Double.MAX_VALUE + 1</code> results in <code>Double.MAX_VALUE</code> because <code>1</code> is so
small in comparison that it’s lost in rounding error. However,
<code>1.5*Double.MAX_VALUE</code> results in <code>Double.POSITIVE_INFINITY</code>, a
constant used to represent any value larger than <code>Double.MAX_VALUE</code>.
Since <code>Double.MIN_VALUE</code> is the smallest non-zero number,
<code>Double.MIN_VALUE - 1</code> evaluates to <code>-1.0</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap3.html#extremeDoubleValuesExercise">Exercise 3.7</a><br>
<a href="chap3.html#doubleInfinityExercise">Exercise 3.8</a></p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_using_wrapper_classes_for_storage">Using wrapper classes for storage</h5>
<div class="paragraph">
<p>Wrapper classes in Java have a split personality. On the one hand, the
classes themselves can be used for the utility methods and constants we
described above. However, <em>objects</em> of these same wrapper classes
can be used in an entirely separate way to store primitive values. Each
primitive type can be stored in its wrapper type as shown below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">Integer</span> <span class="n">fingers</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Integer</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span>
<span class="nc">Double</span> <span class="n">pi</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Double</span><span class="o">(</span><span class="mf">3.141592</span><span class="o">);</span>
<span class="nc">Character</span> <span class="n">question</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Character</span><span class="o">(</span><span class="sc">'?'</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Why would we want to do this? There are many situations in which a
library method or data structure requires a reference type, not a
primitive type. These wrappers were  designed for these
cases when you have to treat a primitive type as an object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">Object</span> <span class="n">value</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Integer</span><span class="o">(</span><span class="mi">42</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To make working with wrapper classes easier, Java 5 and higher support
automatic boxing and unboxing, meaning that primitive types will
automatically be converted to their wrapper types (and vice versa) when
appropriate. Thus, the earlier code could be written as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">Integer</span> <span class="n">fingers</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>
<span class="nc">Double</span> <span class="n">pi</span> <span class="o">=</span> <span class="mf">3.141592</span><span class="o">;</span>
<span class="nc">Character</span> <span class="n">question</span> <span class="o">=</span> <span class="sc">'?'</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Programmers who don’t understand wrapper classes will sometimes use
primitive types and wrapper classes interchangeably, mixing <code>double</code> and
<code>Double</code>, for example. Avoid using wrapper classes unnecessarily, since
they require more memory and more computation to perform operations.</p>
</div>
<div class="paragraph">
<p>Fortunately, automatic boxing and unboxing reduce the need to think
about wrapper classes, and most programmers will rarely need to declare
an explicit wrapper reference. We’ll discuss wrapper classes further
in <a href="chap18.html">Chapter 18</a>, where they are used to
allow generic classes to store primitive types as well
as reference types.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_solution_college_cost_calculator">3.5. Solution: College cost calculator</h3>
<div class="paragraph">
<p>In this chapter, we introduced and more fully explained many
aspects of manipulating data in Java, including declaring variables,
assigning values, performing simple arithmetic and more advanced math,
inputting and outputting data, and using the type system, which includes
subtle differences between primitive and reference types. Our solution to the
college cost calculator problem posed at the beginning of the chapter
uses all of these features at some level. We present this solution below.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">java.util.*</span><span class="o">;</span> <i class="conum" data-value="1"></i><b>(1)</b>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CollegeCosts</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Welcome to the College Cost Calculator!"</span><span class="o">);</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="nc">Scanner</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span> <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The first step in our solution is to
import <code>java.util.*</code> so that we can use the <code>Scanner</code> class.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>After we start the enclosing <code>CollegeCosts</code> class, we begin the <code>main()</code> method.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>We print a welcome message for the user.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Then, we create a <code>Scanner</code> object.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Next is a sequence of prompts to the user interspersed with input done
with the <code>Scanner</code> object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java">        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"Enter your first name:\t\t"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">firstName</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">next</span><span class="o">();</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"Enter your last name:\t\t"</span><span class="o">);</span>
        <span class="nc">String</span> <span class="n">lastName</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">next</span><span class="o">();</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"Enter tuition per semester:\t$"</span><span class="o">);</span>
        <span class="kt">double</span> <span class="n">semesterTuition</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">();</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"Enter rent per month:\t\t$"</span><span class="o">);</span>
        <span class="kt">double</span> <span class="n">monthlyRent</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">();</span> <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"Enter food cost per month:\t$"</span><span class="o">);</span>
        <span class="kt">double</span> <span class="n">monthlyFood</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">();</span> <i class="conum" data-value="5"></i><b>(5)</b>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"Annual interest rate:\t\t"</span><span class="o">);</span>
        <span class="kt">double</span> <span class="n">annualInterest</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">();</span> <i class="conum" data-value="6"></i><b>(6)</b>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">"Years to pay back your loan:\t"</span><span class="o">);</span>
        <span class="kt">int</span> <span class="n">years</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">nextInt</span><span class="o">();</span> <i class="conum" data-value="7"></i><b>(7)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The program reads the user’s first name as a
<code>String</code>,</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>the user’s last name as a <code>String</code>,</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>the per-semester tuition cost as a <code>double</code>,</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>the monthly cost of rent as a <code>double</code>,</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>the monthly cost of food as a <code>double</code>,</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>the interest rate for the loan as a <code>double</code>,</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>and the number of years needed to pay back the loan as an
<code>int</code>.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The next segment of code completes the computations needed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java">        <span class="kt">double</span> <span class="n">yearlyCost</span> <span class="o">=</span> <span class="n">semesterTuition</span> <span class="o">*</span> <span class="mf">2.0</span> <span class="o">+</span> <span class="o">(</span><span class="n">monthlyRent</span> <span class="o">+</span> <span class="n">monthlyFood</span><span class="o">)</span> <span class="o">*</span> <span class="mf">12.0</span><span class="o">;</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="kt">double</span> <span class="n">fourYearCost</span> <span class="o">=</span> <span class="n">yearlyCost</span> <span class="o">*</span> <span class="mf">4.0</span><span class="o">;</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="kt">double</span> <span class="n">monthlyInterest</span> <span class="o">=</span> <span class="n">annualInterest</span> <span class="o">/</span> <span class="mf">12.0</span><span class="o">;</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="kt">double</span> <span class="n">monthlyPayment</span> <span class="o">=</span> <span class="n">fourYearCost</span> <span class="o">*</span> <span class="n">monthlyInterest</span> <span class="o">/</span> <i class="conum" data-value="4"></i><b>(4)</b>
            <span class="o">(</span><span class="mf">1.0</span> <span class="o">-</span> <span class="nc">Math</span><span class="o">.</span><span class="na">pow</span><span class="o">(</span><span class="mf">1.0</span> <span class="o">+</span> <span class="n">monthlyInterest</span><span class="o">,</span> <span class="o">-</span><span class="n">years</span> <span class="o">*</span> <span class="mf">12.0</span><span class="o">));</span>
        <span class="kt">double</span> <span class="n">totalLoanCost</span> <span class="o">=</span> <span class="n">monthlyPayment</span> <span class="o">*</span> <span class="mf">12.0</span> <span class="o">*</span> <span class="n">years</span><span class="o">;</span> <i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>It finds the total yearly cost by doubling the semester cost, multiplying
the monthly rent and food costs by 12, and summing the answers together.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The four year cost is simply four times the yearly cost.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>To find the monthly payment, we find the monthly interest by dividing the annual
interest rate by 12 and plugging this value into the formula from the
beginning of the chapter.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Finally, the total cost of the loan is the
monthly payment times 12 times the number of years.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>All that remains is to print out the output.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java">        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"\nCollege costs for "</span> <span class="o">+</span> <span class="n">firstName</span> <span class="o">+</span> <span class="s">" "</span> <span class="o">+</span> <span class="n">lastName</span> <span class="o">);</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"***************************************"</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"Yearly cost:\t\t\t$%.2f%n"</span><span class="o">,</span> <span class="n">yearlyCost</span><span class="o">);</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"Four year cost:\t\t\t$%.2f%n"</span><span class="o">,</span> <span class="n">fourYearCost</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"Monthly loan payment:\t\t$%.2f%n"</span><span class="o">,</span> <span class="n">monthlyPayment</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">format</span><span class="o">(</span><span class="s">"Total loan cost:\t\t$%.2f%n"</span><span class="o">,</span> <span class="n">totalLoanCost</span> <span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>First, we output a header
describing the following output as college costs for the user.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Using
<code>System.out.format()</code> as described in <a href="chap3.html#_primitive_types">Section 3.3.2</a>, we print out the yearly cost, four year cost, monthly loan
payment, and total cost, all formatted with dollar signs, two places after
the decimal point, and tabs so that the output lines up.</td>
</tr>
</tbody></table>
</div>
</div>
<div class="sect2">
<h3 id="_concurrency_expressions">3.6. Concurrency: Expressions</h3>
<div class="paragraph">
<p>In <a href="chap2.html#_concurrency_solving_problems_in_parallel">Section 2.5</a>, we introduced
the ideas of task and domain decomposition that could be used to solve a
problem in parallel. By splitting up the jobs to be done (as in task
decomposition) or dividing a large amount of data into pieces (as in
domain decomposition), we can attack a problem with several workers to
finish the work more quickly.</p>
</div>
<div class="sect3">
<h4 id="_splitting_expressions">3.6.1. Splitting expressions</h4>
<div class="paragraph">
<p>Performing arithmetic is some of the only Java syntax we’ve introduced
that can be used to solve problems directly, but evaluating a single
mathematical expression usually does not warrant concurrency. If the
terms in the expression are themselves complex functions (such as
numerical integrations or simulations that produce answers), it might be
reasonable to evaluate these functions concurrently.</p>
</div>
<div class="paragraph">
<p>In this section, we give an example of splitting an expression into
smaller sub-expressions that could be evaluated concurrently. The basic
steps underlying the concurrent evaluation of expressions are the
following.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Identify sub-expressions that are independent of each other.</p>
</li>
<li>
<p>Create a separate thread to evaluate each sub-expression.</p>
</li>
<li>
<p>Combine the results from each thread to obtain a final answer.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>While this sequence of steps looks simple, each step could be complex.
Worse, being careless at any step could result in a concurrent solution
that runs slower than the sequential solution or even gives the wrong
answer. The following example illustrates these steps.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3.22 Split expression</div>
<div class="content">
<div class="paragraph">
<p>Consider the following statement:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">double</span> <span class="n">value</span> <span class="o">=</span> <span class="n">f</span><span class="o">(</span><span class="n">a</span><span class="o">,</span><span class="n">b</span><span class="o">)*</span><span class="n">g</span><span class="o">(</span><span class="n">c</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This statement evaluates methods <code>f()</code> and <code>g()</code>, multiplies the
computed values, and assigns the result to variable <code>value</code>. In
<a href="chap3.html#splitExpressionFigure">Figure 3.5</a>, we show two ways of evaluating the
expression <code>f(a,b)*g(c)</code>. <a href="chap3.html#splitExpressionFigure">Figure 3.5</a>(a) shows
sequential evaluation of the expression, where <code>f()</code> is computed, <code>g()</code>
follows, and then the two results are multiplied to get the final value.
<a href="chap3.html#splitExpressionFigure">Figure 3.5</a>(b) shows evaluation of the expression
in which <code>f()</code> and <code>g()</code> are evaluated concurrently instead.</p>
</div>
<div id="splitExpressionFigure" class="imageblock">
<div class="content">
<img src="chapters/03-strings-primitive-types/images/splitExpressionFigure.svg" alt="splitExpressionFigure" width="100%">
</div>
<div class="title">Figure 3.5 Computation of <code>value = f(a,b)*g(c)</code> with (a)&nbsp;sequential and (b)&nbsp;concurrent approaches.</div>
</div>
<div class="paragraph">
<p>On a multicore processor, the computation of <code>f()</code> and <code>g()</code> could be
carried out on separate cores. We can create one thread for each method
and wait for the threads to complete. Upon completion, we can retrieve
the results of each computation and multiply them together as in
<a href="chap3.html#splitExpressionFigure">Figure 3.5</a>(b). <a href="chap3.html#SplitExpressionProgram">Program 3.3</a>
illustrates this concurrent approach.</p>
</div>
<div id="SplitExpressionProgram" class="listingblock">
<div class="title">Program 3.3 Concurrent evaluation of an expression.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SplitExpression</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">ComputeF</span> <span class="n">fThread</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ComputeF</span><span class="o">(</span><span class="mf">3.14</span><span class="o">,</span> <span class="mf">2.99</span><span class="o">);</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="nc">ComputeG</span> <span class="n">gThread</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ComputeG</span><span class="o">(</span><span class="mf">5.55</span><span class="o">);</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="n">fThread</span><span class="o">.</span><span class="na">start</span><span class="o">();</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="n">gThread</span><span class="o">.</span><span class="na">start</span><span class="o">();</span> <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">fThread</span><span class="o">.</span><span class="na">join</span><span class="o">();</span>  <i class="conum" data-value="5"></i><b>(5)</b>
            <span class="n">gThread</span><span class="o">.</span><span class="na">join</span><span class="o">();</span> <i class="conum" data-value="6"></i><b>(6)</b>
            <span class="kt">double</span> <span class="n">fResult</span> <span class="o">=</span> <span class="n">fThread</span><span class="o">.</span><span class="na">getResult</span><span class="o">();</span> <i class="conum" data-value="7"></i><b>(7)</b>
            <span class="kt">double</span> <span class="n">gResult</span> <span class="o">=</span> <span class="n">gThread</span><span class="o">.</span><span class="na">getResult</span><span class="o">();</span> <i class="conum" data-value="8"></i><b>(8)</b>
            <span class="kt">double</span> <span class="n">answer</span> <span class="o">=</span> <span class="n">fResult</span><span class="o">*</span><span class="n">gResult</span><span class="o">;</span> <i class="conum" data-value="9"></i><b>(9)</b>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Result of f: "</span> <span class="o">+</span> <span class="n">fResult</span> <span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Result of g: "</span> <span class="o">+</span> <span class="n">gResult</span> <span class="o">);</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Final answer: "</span> <span class="o">+</span> <span class="n">answer</span><span class="o">);</span>        
        <span class="o">}</span>
        <span class="k">catch</span><span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">){</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Computation interrupted!"</span><span class="o">);</span>
        <span class="o">}</span>             
    <span class="o">}</span>   
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We create an object named <code>fThread</code> which takes two arguments, <code>3.14</code> and <code>2.99</code> in this example.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We create another object named <code>gThread</code> that takes one, <code>5.55</code>. Both of these objects have types that extend the <code>Thread</code> class, which means that they can be made to run independently.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>We start the first thread running.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>We start the second thread running. Every object whose type is <code>Thread</code> (or a child of <code>Thread</code>, which we will discuss in <a href="chap11.html">Chapter 11</a>) has a <code>start()</code> method which begins its execution as a separate thread.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>We wait for the first thread to finish. How do we know when a thread is done executing? Every <code>Thread</code> object has a <code>join()</code> method. If some code calls a thread’s <code>join()</code> method, the method will not return until the thread is finished. When code is waiting for a thread to finish, it’s possible for it to be interrupted if some other thread has gotten tired of the code waiting around doing nothing. If that happens, an <code>InterruptedException</code> is thrown. Exceptions are the way that Java deals with errors and other unusual situations. We’ll discuss them further in
<a href="chap12.html">Chapter 12</a>, but for now, you only need to know that
code (like the <code>join()</code> method) that can cause certain kinds of
exceptions (like the <code>InterruptedException</code>) needs to be enclosed in a
<code>try</code> block. After the <code>try</code> block comes a <code>catch</code> block that says what
to do in the even of that exception. In our case, we print out
<code>"Computation interrupted!"</code></td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>We wait for the second thread to finish.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Once the threads have completed their respective tasks, the execution of
<a href="chap3.html#SplitExpressionProgram">Program 3.3</a> resumes, and we obtain the result of the
computation done by <code>fThread</code> by calling its <code>getResult()</code> method.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>On the next line, we call the <code>getResult()</code> method on <code>gThread</code> to obtain
its result. Note that we could have called these <code>getResult()</code> methods
before the <code>join()</code> calls, but the computations might not have
completed, yielding invalid or incorrect results (or crashing the
program).</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>Finally, these two computed values are multiplied to get the final result, which is assigned to <code>answer</code> and printed.</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="paragraph">
<p>We would like to show how classes <code>ComputeF</code> and <code>ComputeG</code> are written,
but we’ll hold off since they use concepts relating to methods, class
design, and inheritance that we’ll cover in <a href="chap8.html">Chapter 8</a>, <a href="chap9.html">Chapter 9</a>, and <a href="chap11.html">Chapter 11</a>.</p>
</div>
<div class="paragraph">
<p>If you don’t understand all the elements of
<a href="chap3.html#SplitExpressionProgram">Program 3.3</a>, don’t despair! We’re trying to give
you an example of what concurrency looks like in Java, but you can’t be
expected to master all the details at this stage. However, concurrency
in Java will often follow the steps shown:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Creation of <code>Thread</code> (or children of <code>Thread</code>) objects</p>
</li>
<li>
<p>Calling the <code>start()</code> method on these objects to start them
executing</p>
</li>
<li>
<p>Calling the <code>join()</code> method on them to wait for them to finish</p>
</li>
<li>
<p>Retrieving the results (if any) of the computations done by the
objects</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_care_in_splitting_expressions">3.6.2. Care in splitting expressions</h4>
<div class="paragraph">
<p>The above example illustrates how you could split an expression and
evaluate it concurrently. Note the following points when deciding
whether or not to use concurrency. First, your program will run faster
concurrently only if the work done is complex enough that its
computation takes significantly longer than the time to create the
necessary threads. In the example above, the methods <code>f()</code> and <code>g()</code>
must be complex enough that it takes a significant amount of time to
evaluate them. Otherwise, concurrency won’t reduce the running time.
This aspect of speedup is explained in detail in
<a href="chap13.html">Chapter 13</a>.</p>
</div>
<div class="paragraph">
<p>Second, splitting an expression (or any complex sequence of
computations) is easy when its individual components are independent. If
they are interdependent, splitting requires care to avoid subtle programming
errors. Consider the expression <code>f(a) + g(b)</code> and suppose that
<code>f()</code> modifies the value of <code>b</code> during execution. Such a modification is
called a <em>side effect</em>. This side effect creates a dependency between
<code>f()</code> and <code>g()</code>. Concurrent execution of these two methods must be done
carefully, if it can be done at all. <a href="chap14.html">Chapter 14</a>
discusses concurrency in the presence of dependencies.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_summary_3">3.7. Summary</h3>
<div class="paragraph">
<p>In a strongly typed language such as Java, types are an important
concept. Every literal and variable in Java has a type, which specifies
the possible values items with that type could have and the operations
that can be done with them. Types are used to catch programming errors
at compile time.</p>
</div>
<div class="paragraph">
<p>Java has a small set of primitive types such as <code>int</code> and <code>double</code>
that hold single values and use operators to manipulate them. Java also
has reference types, which use primitive types as building blocks, can
be created by any Java programmer, can contain arbitrarily complex data,
and are manipulated with methods. One of the most commonly used
reference types is <code>String</code>, which is used to store text of any length.</p>
</div>
<div class="paragraph">
<p>A number of library classes have been provided by the developers of
Java. Programs performing mathematical operations beyond simple
arithmetic may need to use methods from the <code>Math</code> class. Programs that
need to generate random numbers can use methods from the <code>Random</code> class.
Conversions and other useful manipulations of primitive types are
provided by wrapper classes.</p>
</div>
<div class="paragraph">
<p>We also gave a taste of the syntax for creating, running, and waiting
for the completion of threads. Such threads could be used to speed up
the evaluation of computations on multicore processors, but
only if the computations are long, complex, and not too interdependent.</p>
</div>
</div>
<div class="sect2">
<h3 id="_exercises_3">3.8. Exercises</h3>
<div class="paragraph">
<p><strong>Conceptual Problems</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a id="integersIntLongExercise"></a> What is the difference
between the set of integers from mathematics and the sets defined by
<code>int</code> and <code>long</code>?</p>
</li>
<li>
<p><a id="byteTypeExercise"></a> In <a href="chap3.html#downcastErrorExample">Example 3.7</a>, the sum
of two <code>int</code> variables was another <code>int</code> value, which could not be
stored into a <code>byte</code> variable. Would this code have worked if variables
<code>a</code> and <code>b</code> had been declared with type <code>byte</code>? What if <code>a</code> was assigned
<code>121</code> and <code>b</code> was assigned <code>98</code>?</p>
</li>
<li>
<p><a id="floatTypeExercise"></a> The following three
statements are legal Java (if properly included inside of a method).
However, if we changed <code>2</code> to <code>2.0</code> or <code>5</code> to <code>5.0</code>, the statements
would not be legal. Explain why.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">float</span> <span class="n">roomArea</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
<span class="kt">float</span> <span class="n">homeArea</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>
<span class="kt">float</span> <span class="n">area</span> <span class="o">=</span> <span class="n">roomArea</span> <span class="o">*</span> <span class="n">homeArea</span><span class="o">;</span></code></pre>
</div>
</div>
</li>
<li>
<p>Consider the following variable
declarations.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">3</span><span class="o">,</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">4</span><span class="o">,</span> <span class="n">z</span> <span class="o">=</span> <span class="o">-</span><span class="mi">9</span><span class="o">;</span>
<span class="kt">float</span> <span class="n">p</span> <span class="o">=</span> <span class="mf">3.99f</span><span class="o">,</span> <span class="n">q</span> <span class="o">=</span> <span class="o">-</span><span class="mf">9.89f</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">population1</span> <span class="o">=</span> <span class="mi">15000</span><span class="o">,</span> <span class="n">population2</span> <span class="o">=</span> <span class="mi">8000</span><span class="o">;</span>
<span class="kd">final</span> <span class="kt">double</span> <span class="no">MAXIMUM_LEVEL</span> <span class="o">=</span> <span class="mi">350</span><span class="o">;</span>
<span class="kt">double</span> <span class="n">limitPerCapita</span> <span class="o">=</span> <span class="mf">0.03</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">age</span> <span class="o">=</span> <span class="mi">14</span><span class="o">;</span>
<span class="kd">final</span> <span class="kt">int</span> <span class="no">MAXIMUM_AGE</span> <span class="o">=</span> <span class="mi">23</span><span class="o">;</span>
<span class="kt">boolean</span> <span class="n">allowed</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now evaluate each of the following expressions to <code>true</code> or <code>false</code>.</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>MAXIMUM_LEVEL/population1 &gt; limitPerCapita &amp;&amp; MAXIMUM_LEVEL/population2 &lt; limitPerCapita</code></p>
</li>
<li>
<p><code>MAXIMUM_LEVEL/population1 &gt; limitPerCapita || MAXIMUM_LEVEL/population2 &lt; limitPerCapita</code></p>
</li>
<li>
<p><code>age &lt; MAXIMUM_AGE &amp;&amp; allowed</code></p>
</li>
<li>
<p><code>(x &lt; y &amp;&amp; y &gt; z) || (p &gt; q &amp;&amp; population1 &lt; population2)</code></p>
</li>
</ol>
</div>
</li>
<li>
<p><a id="bitwiseOperationsExercise"></a> Evaluate the following
expressions by hand and then check the results with a Java compiler.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>5 &amp; 6</code></p>
</li>
<li>
<p><code>5 | 6</code></p>
</li>
<li>
<p><code>5 ^ 6</code></p>
</li>
<li>
<p><code>~5</code></p>
</li>
<li>
<p><code>5 &gt;&gt; 2</code></p>
</li>
<li>
<p><code>5 &lt;&lt; 2</code></p>
</li>
<li>
<p><code>5 &gt;&gt;&gt; 2</code></p>
</li>
</ol>
</div>
</li>
<li>
<p><a id="overflowUnderflowExercise"></a> Evaluate the following
expressions by hand and then check the results with a Java compiler.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>Byte.MIN_VALUE - 1</code></p>
</li>
<li>
<p><code>Byte.MAX_VALUE + 1</code></p>
</li>
<li>
<p><code>Integer.MIN_VALUE - 1</code></p>
</li>
</ol>
</div>
</li>
<li>
<p><a id="extremeDoubleValuesExercise"></a> Evaluate the following
expressions by hand and then check the results with a Java compiler.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>Float.MAX_VALUE + 1</code></p>
</li>
<li>
<p><code>Double.MAX_VALUE - 1</code></p>
</li>
<li>
<p><code>-Double.MAX_VALUE - 1</code></p>
</li>
<li>
<p><code>-Double.MIN_VALUE - 1</code></p>
</li>
<li>
<p><code>-Double.MIN_VALUE + 1</code></p>
</li>
</ol>
</div>
</li>
<li>
<p><a id="doubleInfinityExercise"></a> When evaluated in Java, the
expression <code>2*Double.MAX_VALUE</code> results in <code>Double.POSITIVE_INFINITY</code>
to indicate that the maximum representable value has been exceeded.
However, the expression <code>Double.MAX_VALUE + 1</code> results in
<code>Double.MAX_VALUE</code>. Why doesn’t the second case yield
<code>Double.POSITIVE_INFINITY</code> as well?</p>
</li>
<li>
<p>Explain what is printed when the
following statements are executed.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="mi">15</span> <span class="o">+</span> <span class="mi">20</span><span class="o">);</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"15"</span> <span class="o">+</span> <span class="mi">20</span><span class="o">);</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">""</span> <span class="o">+</span> <span class="mi">15</span> <span class="o">+</span> <span class="mi">20</span><span class="o">);</span></code></pre>
</div>
</div>
</li>
<li>
<p><a id="implicitTypeConversionExercise"></a> For each of the
following Java expressions, indicate the types of each value being used
and the type of the result when the expression is evaluated.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>3 + 4</code></p>
</li>
<li>
<p><code>3 + 4.0</code></p>
</li>
<li>
<p><code>3.0 + 4.0</code></p>
</li>
<li>
<p><code>3.0f + 4.0</code></p>
</li>
<li>
<p><code>(double)(3 + 4)</code></p>
</li>
<li>
<p><code>(double)(3.0 + 4.0)</code></p>
</li>
<li>
<p><code>Math.round(3 * 4.2)</code></p>
</li>
<li>
<p><code>Math.round(3.2 * 4.9)</code></p>
</li>
<li>
<p><code>Math.round(15.5 * 4.0)</code></p>
</li>
<li>
<p><code>(int)(15.5 * 4.0)</code></p>
</li>
<li>
<p><code>Math.round(3.154)</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>For each of the
following expressions, determine the maximum amount of concurrency that
can be achieved. Using a diagram similar to
<a href="chap3.html#splitExpressionFigure">Figure 3.5</a>(b), show how the computation of each
expression will proceed. Assume there are no side effects. Note that you
can create separate threads for multiple instances of method <code>f()</code>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>f(a) + f(b) + f(c)</code></p>
</li>
<li>
<p><code>f(a * g(b))</code></p>
</li>
<li>
<p><code>f(g(a)) + f(b) + f(c)</code></p>
</li>
</ol>
</div>
</li>
<li>
<p><a id="typeAndValueExercise"></a> Answer the following questions about
types, values, and references.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>What is the difference between a value and the type that the value
has?</p>
</li>
<li>
<p>In Java, the primitive type <code>int</code> represents a limited set of
integers, not the entire set of integers from mathematics. Why is this
the case? Why didn’t the designers of Java allow <code>int</code> to represent all
integers?</p>
</li>
<li>
<p>How are operations defined for reference types?</p>
</li>
<li>
<p>Explain the subtle difference between a reference and an object in
Java.</p>
</li>
</ol>
</div>
</li>
<li>
<p><a id="referenceEqualsExercise"></a> Consider the following
declarations of three <code>Car</code> objects.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"> <span class="nc">Car</span> <span class="n">car1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Car</span><span class="o">(</span><span class="s">"Mercedes"</span><span class="o">,</span> <span class="s">"C300 Sport"</span><span class="o">,</span> <span class="mi">75000</span><span class="o">);</span>
 <span class="nc">Car</span> <span class="n">car2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Car</span><span class="o">(</span><span class="s">"Pontiac"</span><span class="o">,</span> <span class="s">"Vibe"</span><span class="o">,</span> <span class="mi">17000</span><span class="o">);</span>
 <span class="nc">Car</span> <span class="n">car3</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Car</span><span class="o">(</span><span class="s">"Mercedes"</span><span class="o">,</span> <span class="s">"C300 Sport"</span><span class="o">,</span> <span class="mi">75000</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Let <code>same</code> be a variable of type <code>boolean</code>. What is the value of
variable <code>same</code> after each of the following statements? Assume that the
<code>equals()</code> method will return <code>true</code> if all of the attributes specified
by the constructors for the two objects are the same.</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><code>same = (car1 == car2);</code></p>
</li>
<li>
<p><code>same = (car1 == car3);</code></p>
</li>
<li>
<p><code>same = car1.equals(car3);</code></p>
</li>
<li>
<p><code>car2 = car3;</code></p>
</li>
<li>
<p><code>same = (car2 == car1);</code></p>
</li>
<li>
<p><code>same = (car2 == car3);</code></p>
</li>
<li>
<p><code>same = car2.equals(car3);</code></p>
</li>
</ol>
</div>
</li>
<li>
<p>Characters <code>'a'</code> and <code>'A'</code> have Unicode values
<code>\u0061</code> and <code>\u0041</code>, respectively. Give the representation of these
two characters as 16-bit unsigned binary integers.</p>
</li>
<li>
<p>Assuming that each character occupies 16
bits (two bytes) in memory and is encoded using Unicode, use hexadecimal
numbers to show how the word <code>"Java"</code> will be represented in computer
memory. Unicode values for the Latin alphabet are the same as the values
for the older ASCII standard. You can find a listing of these values on
many websites such as <a href="http://www.asciitable.com" target="_blank" rel="noopener">AsciiTable</a>.</p>
</li>
<li>
<p>What is the output from the following
sequence of statements?</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">String</span> <span class="n">p</span> <span class="o">=</span> <span class="s">"Break it"</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">q</span> <span class="o">=</span> <span class="s">"down like this!"</span><span class="o">;</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">((</span><span class="n">p</span> <span class="o">+</span> <span class="n">q</span><span class="o">).</span><span class="na">length</span><span class="o">());</span></code></pre>
</div>
</div>
</li>
<li>
<p><a id="stringLengthExercise"></a> What is the output from the
following sequence of statements? Note that <code>r</code> contains a single space
character.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">String</span> <span class="n">p</span> <span class="o">=</span> <span class="s">"This is not a string."</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">q</span> <span class="o">=</span> <span class="s">""</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">r</span> <span class="o">=</span> <span class="s">" "</span><span class="o">;</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">((</span><span class="n">p</span> <span class="o">+</span> <span class="n">q</span> <span class="o">+</span> <span class="n">r</span><span class="o">).</span><span class="na">length</span><span class="o">());</span></code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Programming Practice</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="18">
<li>
<p><a id="uninitializedVariableExercise"></a> Try compiling the
following program and observe the error reported by the compiler.</p>
<div id="UninitializedStringProgram" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">UninitializedString</span> <span class="o">{</span>
     <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
          <span class="nc">String</span> <span class="n">greeting</span><span class="o">;</span>
          <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">greeting</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now initialize the <code>greeting</code> object and rerun the program. Why does the
program compile now?</p>
</div>
</li>
<li>
<p><a id="badInputFormatExercise"></a> Write a Java
program that prompts the user to enter the number of rooms in her home,
uses a <code>Scanner</code> object to read the input into an <code>int</code> variable named
<code>rooms</code>, and then outputs the value on the screen. If you compile and
execute your program and type in the value <code>3.5</code>, can you explain the
output you see?</p>
</li>
<li>
<p>Convert the college cost calculator solution given in
<a href="chap3.html#_solution_college_cost_calculator">Section 3.5</a> to use <code>JOptionPane</code> methods for both input and output. Use the header giving
the user’s first and last name for the title of the output dialog and
omit the line of asterisks. If you put all the output in a single
<code>String</code> with a newline (<code>\n</code>) separating each line, the output will
display properly.</p>
</li>
</ol>
</div>
</div>
</div>
</div></div>

<nav>
  <a rel="prev" href="chap2.html" class="nav nav-prev" title="Previous page" aria-label="Previous page" aria-keyshortcuts="Left">
        <i class="fa fa-angle-left"></i>
     </a>
  <a rel="next" href="chap4.html" class="nav nav-next" title="Next page" aria-label="Next page" aria-keyshortcuts="Right">
        <i class="fa fa-angle-right"></i>
     </a>
  <div style="clear: both"></div>
</nav>
<div id="footer">
<div id="footer-text">
Last updated 2024-05-22 11:27:29 -0400
</div>
</div>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-VEDGKRPMMK"></script>
          <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-VEDGKRPMMK');
          </script>

</body>
  <script>
  function isInViewport(ele) {
    const rect = ele.getBoundingClientRect();
    return (
        rect.top >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)
    );
  }
  function yPosition (ele) {
    const rect = ele.getBoundingClientRect();
    return (rect.top - 20); // 20px above
  }
  let curr = document.getElementsByClassName('current');
  if (!isInViewport(curr[curr.length - 1])) {
    document.getElementById('toc').scrollTo({
      top: yPosition(curr[0]),
      left: 0,
      behavior: 'smooth'
    });
  }

  /* For page navigation */
  function gotoPage(selector) {
    const button = document.querySelector(selector);
    if (button)
      window.location.href = button.href;
  }
  document.addEventListener('keydown', e => {
    if (e.shiftKey)
      return;
    switch (e.key) {
      case 'ArrowRight':
        e.preventDefault();
        gotoPage('.nav-next');
        break;
      case 'ArrowLeft':
        e.preventDefault();
        gotoPage('.nav-prev');
        break;
    }
  });
  </script>
  </html>