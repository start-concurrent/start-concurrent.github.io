<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<meta name="author" content="Barry Wittman, Tim Korb, Aditya Mathur">
<title>Start Concurrent: A Gentle Introduction to Concurrent Programming</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="style0.css" type="text/css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="style1.css" type="text/css">
<link rel="stylesheet" href="asciidoctor-chunker.css" type="text/css"></head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Start Concurrent: A Gentle Introduction to Concurrent Programming</h1>
<div class="details">
<span id="author" class="author">Barry Wittman</span><br>
<span id="email" class="email"><a href="mailto:wittman1@otterbein.edu">wittman1@otterbein.edu</a></span><br>
<span id="author2" class="author">Tim Korb</span><br>
<span id="email2" class="email"><a href="mailto:jtk@purdue.edu">jtk@purdue.edu</a></span><br>
<span id="author3" class="author">Aditya Mathur</span><br>
<span id="email3" class="email"><a href="mailto:apm@purdue.edu">apm@purdue.edu</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="index.html">Attacking Problems with Java</a></li><li><a href="index.html">1. Computer Basics</a>
<ul class="sectlevel2">
<li><a href="index.html#_problem_buying_a_computer">1.1. Problem: Buying a computer</a></li>
<li><a href="index.html#_concepts_hardware_and_software">1.2. Concepts: Hardware and software</a></li>
<li><a href="index.html#_syntax_data_representation">1.3. Syntax: Data representation</a></li>
<li><a href="index.html#_solution_buying_a_computer">1.4. Solution: Buying a computer</a></li>
<li><a href="index.html#_summary">1.5. Summary</a></li>
<li><a href="index.html#_exercises">1.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap2.html">2. Problem Solving and Programming</a>
<ul class="sectlevel2">
<li><a href="chap2.html#_problem_how_to_solve_problems">2.1. Problem: How to solve problems</a></li>
<li><a href="chap2.html#_concepts_developing_software">2.2. Concepts: Developing software</a></li>
<li><a href="chap2.html#_syntax_java_basics">2.3. Syntax: Java basics</a></li>
<li><a href="chap2.html#_solution_how_to_solve_problems">2.4. Solution: How to solve problems</a></li>
<li><a href="chap2.html#_concurrency_solving_problems_in_parallel">2.5. Concurrency: Solving problems in parallel</a></li>
<li><a href="chap2.html#_summary_2">2.6. Summary</a></li>
<li><a href="chap2.html#_exercises_2">2.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap3.html">3. Primitive Types and Strings</a>
<ul class="sectlevel2">
<li><a href="chap3.html#_problem_college_cost_calculator">3.1. Problem: College cost calculator</a></li>
<li><a href="chap3.html#_concepts_types">3.2. Concepts: Types</a></li>
<li><a href="chap3.html#_syntax_types_in_java">3.3. Syntax: Types in Java</a></li>
<li><a href="chap3.html#_syntax_useful_libraries">3.4. Syntax: Useful libraries</a></li>
<li><a href="chap3.html#_solution_college_cost_calculator">3.5. Solution: College cost calculator</a></li>
<li><a href="chap3.html#_concurrency_expressions">3.6. Concurrency: Expressions</a></li>
<li><a href="chap3.html#_summary_3">3.7. Summary</a></li>
<li><a href="chap3.html#_exercises_3">3.8. Exercises</a></li>
</ul>
</li>
<li><a href="chap4.html">4. Selection</a>
<ul class="sectlevel2">
<li><a href="chap4.html#_problem_monty_hall_simulation">4.1. Problem: Monty Hall simulation</a></li>
<li><a href="chap4.html#_concepts_choosing_between_options">4.2. Concepts: Choosing between options</a></li>
<li><a href="chap4.html#_syntax_selection_in_java">4.3. Syntax: Selection in Java</a></li>
<li><a href="chap4.html#_solution_monty_hall">4.4. Solution: Monty Hall</a></li>
<li><a href="chap4.html#_concurrency_selection">4.5. Concurrency: Selection</a></li>
<li><a href="chap4.html#_exercises_4">4.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap5.html">5. Repetition</a>
<ul class="sectlevel2">
<li><a href="chap5.html#_problem_dna_searching">5.1. Problem: DNA searching</a></li>
<li><a href="chap5.html#_concepts_repetition">5.2. Concepts: Repetition</a></li>
<li><a href="chap5.html#_syntax_loops_in_java">5.3. Syntax: Loops in Java</a></li>
<li><a href="chap5.html#_solution_dna_searching">5.4. Solution: DNA searching</a></li>
<li><a href="chap5.html#_concurrency_loops">5.5. Concurrency: Loops</a></li>
<li><a href="chap5.html#_exercises_5">5.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap6.html">6. Arrays</a>
<ul class="sectlevel2">
<li><a href="chap6.html#_introduction">6.1. Introduction</a></li>
<li><a href="chap6.html#_problem_game_of_life">6.2. Problem: Game of Life</a></li>
<li><a href="chap6.html#_concepts_lists_of_data">6.3. Concepts: Lists of data</a></li>
<li><a href="chap6.html#_syntax_arrays_in_java">6.4. Syntax: Arrays in Java</a></li>
<li><a href="chap6.html#_examples_array_usage">6.5. Examples: Array usage</a></li>
<li><a href="chap6.html#_concepts_multidimensional_lists">6.6. Concepts: Multidimensional lists</a></li>
<li><a href="chap6.html#_syntax_advanced_arrays_in_java">6.7. Syntax: Advanced arrays in Java</a></li>
<li><a href="chap6.html#_examples_two_dimensional_arrays">6.8. Examples: Two-dimensional arrays</a></li>
<li><a href="chap6.html#_advanced_special_array_tools_in_java">6.9. Advanced: Special array tools in Java</a></li>
<li><a href="chap6.html#_solution_game_of_life">6.10. Solution: Game of Life</a></li>
<li><a href="chap6.html#_concurrency_arrays">6.11. Concurrency: Arrays</a></li>
<li><a href="chap6.html#_exercises_6">6.12. Exercises</a></li>
</ul>
</li>
<li><a href="chap7.html">7. Simple Graphical User Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap7.html#_problem_codon_extractor">7.1. Problem: Codon extractor</a></li>
<li><a href="chap7.html#GUIBasicsIntroductionSection">7.2. Concepts: User interaction</a></li>
<li><a href="chap7.html#_syntax_dialogs_and_the_joptionpane_class">7.3. Syntax: Dialogs and the <code>JOptionPane</code> class</a></li>
<li><a href="chap7.html#_solution_codon_extractor">7.4. Solution: Codon extractor</a></li>
<li><a href="chap7.html#_concurrency_simple_guis">7.5. Concurrency: Simple GUIs</a></li>
<li><a href="chap7.html#_summary_4">7.6. Summary</a></li>
<li><a href="chap7.html#_exercises_7">7.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap8.html">8. Methods</a>
<ul class="sectlevel2">
<li><a href="chap8.html#_problem_three_card_poker">8.1. Problem: Three card poker</a></li>
<li><a href="chap8.html#_concepts_dividing_work_into_segments">8.2. Concepts: Dividing work into segments</a></li>
<li><a href="chap8.html#_syntax_methods">8.3. Syntax: Methods</a></li>
<li><a href="chap8.html#_examples_defining_methods">8.4. Examples: Defining methods</a></li>
<li><a href="chap8.html#_solution_three_card_poker">8.5. Solution: Three card poker</a></li>
<li><a href="chap8.html#_concurrency_methods">8.6. Concurrency: Methods</a></li>
<li><a href="chap8.html#_exercises_8">8.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap9.html">9. Classes</a>
<ul class="sectlevel2">
<li><a href="chap9.html#_problem_nested_expressions">9.1. Problem: Nested expressions</a></li>
<li><a href="chap9.html#_concepts_object_oriented_programming">9.2. Concepts: Object-oriented programming</a></li>
<li><a href="chap9.html#_syntax_classes_in_java">9.3. Syntax: Classes in Java</a></li>
<li><a href="chap9.html#_advanced_nested_classes">9.4. Advanced: Nested classes</a></li>
<li><a href="chap9.html#_solution_nested_expressions">9.5. Solution: Nested expressions</a></li>
<li><a href="chap9.html#_concurrency_objects">9.6. Concurrency: Objects</a></li>
<li><a href="chap9.html#_exercises_9">9.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap10.html">10. Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap10.html#_problem_sort_it_out">10.1. Problem: Sort it out</a></li>
<li><a href="chap10.html#_concepts_making_a_promise">10.2. Concepts: Making a promise</a></li>
<li><a href="chap10.html#_syntax_interfaces">10.3. Syntax: Interfaces</a></li>
<li><a href="chap10.html#_advanced_local_and_anonymous_classes">10.4. Advanced: Local and anonymous classes</a></li>
<li><a href="chap10.html#_solution_sort_it_out">10.5. Solution: Sort it out</a></li>
<li><a href="chap10.html#_concurrency_interfaces">10.6. Concurrency: Interfaces</a></li>
<li><a href="chap10.html#_exercises_10">10.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap11.html">11. Inheritance</a>
<ul class="sectlevel2">
<li><a href="chap11.html#_problem_boolean_circuits">11.1. Problem: Boolean circuits</a></li>
<li><a href="chap11.html#_concepts_refining_classes">11.2. Concepts: Refining classes</a></li>
<li><a href="chap11.html#_syntax_inheritance_in_java">11.3. Syntax: Inheritance in Java</a></li>
<li><a href="chap11.html#_examples_problem_solving_with_inheritance">11.4. Examples: Problem solving with inheritance</a></li>
<li><a href="chap11.html#_solution_boolean_circuits">11.5. Solution: Boolean circuits</a></li>
<li><a href="chap11.html#_concurrency_inheritance">11.6. Concurrency: Inheritance</a></li>
<li><a href="chap11.html#_exercises_11">11.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap12.html">12. Exceptions</a>
<ul class="sectlevel2">
<li><a href="chap12.html#_problem_bank_burglary">12.1. Problem: Bank burglary</a></li>
<li><a href="chap12.html#_concepts_error_handling">12.2. Concepts: Error handling</a></li>
<li><a href="chap12.html#_syntax_exceptions_in_java">12.3. Syntax: Exceptions in Java</a></li>
<li><a href="chap12.html#_solution_bank_burglary">12.4. Solution: Bank burglary</a></li>
<li><a href="chap12.html#_concurrency_exceptions">12.5. Concurrency: Exceptions</a></li>
<li><a href="chap12.html#_exercises_12">12.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap13.html">13. Concurrent Programming</a>
<ul class="sectlevel2">
<li><a href="chap13.html#_introduction_2">13.1. Introduction</a></li>
<li><a href="chap13.html#_problem_deadly_virus">13.2. Problem: Deadly virus</a></li>
<li><a href="chap13.html#_concepts_splitting_up_work">13.3. Concepts: Splitting up work</a></li>
<li><a href="chap13.html#_syntax_threads_in_java">13.4. Syntax: Threads in Java</a></li>
<li><a href="chap13.html#_examples_concurrency_and_speedup">13.5. Examples: Concurrency and speedup</a></li>
<li><a href="chap13.html#_concepts_thread_scheduling">13.6. Concepts: Thread scheduling</a></li>
<li><a href="chap13.html#_syntax_thread_states">13.7. Syntax: Thread states</a></li>
<li><a href="chap13.html#_solution_deadly_virus">13.8. Solution: Deadly virus</a></li>
<li><a href="chap13.html#_summary_5">13.9. Summary</a></li>
<li><a href="chap13.html#_exercises_13">13.10. Exercises</a></li>
</ul>
</li>
<li><a href="chap14.html">14. Synchronization</a>
<ul class="sectlevel2">
<li><a href="chap14.html#_introduction_3">14.1. Introduction</a></li>
<li><a href="chap14.html#_problem_dining_philosophers">14.2. Problem: Dining philosophers</a></li>
<li><a href="chap14.html#_concepts_thread_interaction">14.3. Concepts: Thread interaction</a></li>
<li><a href="chap14.html#_syntax_thread_synchronization">14.4. Syntax: Thread synchronization</a></li>
<li><a href="chap14.html#_pitfalls_synchronization_challenges">14.5. Pitfalls: Synchronization challenges</a></li>
<li><a href="chap14.html#_solution_dining_philosophers">14.6. Solution: Dining philosophers</a></li>
<li><a href="chap14.html#_exercises_14">14.7. Exercises</a></li>
</ul>
</li>
<li class="current"><a href="chap15.html">15. Constructing Graphical User Interfaces</a>
<ul class="sectlevel2">
<li class="current"><a href="chap15.html#_problem_math_tutor">15.1. Problem: Math tutor</a></li>
<li class="current"><a href="chap15.html#_concepts_graphical_user_interfaces">15.2. Concepts: Graphical user interfaces</a></li>
<li class="current"><a href="chap15.html#_syntax_guis_in_java">15.3. Syntax: GUIs in Java</a></li>
<li class="current"><a href="chap15.html#_solution_math_tutor">15.4. Solution: Math tutor</a></li>
<li class="current"><a href="chap15.html#_concurrency_guis">15.5. Concurrency: GUIs</a></li>
<li class="current"><a href="chap15.html#_summary_6">15.6. Summary</a></li>
<li class="current"><a href="chap15.html#_exercises_15">15.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap16.html">16. Testing and Debugging</a>
<ul class="sectlevel2">
<li><a href="chap16.html#_fixing_bugs">16.1. Fixing bugs</a></li>
<li><a href="chap16.html#_concepts_approaches_to_debugging">16.2. Concepts: Approaches to debugging</a></li>
<li><a href="chap16.html#_syntax_java_debugging_tools">16.3. Syntax: Java debugging tools</a></li>
<li><a href="chap16.html#_concurrency_parallel_bugs">16.4. Concurrency: Parallel bugs</a></li>
<li><a href="chap16.html#_finding_and_avoiding_bugs">16.5. Finding and avoiding bugs</a></li>
<li><a href="chap16.html#_concepts_design_implementation_and_testing">16.6. Concepts: Design, implementation, and testing</a></li>
<li><a href="chap16.html#_syntax_java_testing_tools">16.7. Syntax: Java testing tools</a></li>
<li><a href="chap16.html#_concurrency_testing_tools">16.8. Concurrency: Testing tools</a></li>
<li><a href="chap16.html#_examples_testing_a_class">16.9. Examples: Testing a class</a></li>
<li><a href="chap16.html#_exercises_16">16.10. Exercises</a></li>
</ul>
</li>
<li><a href="chap17.html">17. Polymorphism</a>
<ul class="sectlevel2">
<li><a href="chap17.html#_problem_banking_account_with_a_vengeance">17.1. Problem: Banking account with a vengeance</a></li>
<li><a href="chap17.html#_concepts_polymorphism">17.2. Concepts: Polymorphism</a></li>
<li><a href="chap17.html#_syntax_inheritance_tools_in_java">17.3. Syntax: Inheritance tools in Java</a></li>
<li><a href="chap17.html#_solution_banking_account_with_a_vengeance">17.4. Solution: Banking account with a vengeance</a></li>
<li><a href="chap17.html#_concurrency_atomic_libraries">17.5. Concurrency: Atomic libraries</a></li>
<li><a href="chap17.html#_exercises_17">17.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap18.html">18. Dynamic Data Structures</a>
<ul class="sectlevel2">
<li><a href="chap18.html#_problem_infix_conversion">18.1. Problem: Infix conversion</a></li>
<li><a href="chap18.html#_concepts_dynamic_data_structures">18.2. Concepts: Dynamic data structures</a></li>
<li><a href="chap18.html#_syntax_dynamic_arrays_and_linked_lists">18.3. Syntax: Dynamic arrays and linked lists</a></li>
<li><a href="chap18.html#_syntax_abstract_data_types_adt">18.4. Syntax: Abstract data types (ADT)</a></li>
<li><a href="chap18.html#_advanced_generic_data_structures">18.5. Advanced: Generic data structures</a></li>
<li><a href="chap18.html#_solution_infix_conversion">18.6. Solution: Infix conversion</a></li>
<li><a href="chap18.html#_concurrency_linked_lists_and_thread_safety">18.7. Concurrency: Linked lists and thread safety</a></li>
<li><a href="chap18.html#_concurrency_thread_safe_libraries">18.8. Concurrency: Thread-safe libraries</a></li>
<li><a href="chap18.html#_exercises_18">18.9. Exercises</a></li>
</ul>
</li>
<li><a href="chap19.html">19. Recursion</a>
<ul class="sectlevel2">
<li><a href="chap19.html#_problem_maze_of_doom">19.1. Problem: Maze of doom</a></li>
<li><a href="chap19.html#_concepts_recursive_problem_solving">19.2. Concepts: Recursive problem solving</a></li>
<li><a href="chap19.html#_syntax_recursive_methods">19.3. Syntax: Recursive methods</a></li>
<li><a href="chap19.html#_syntax_recursive_data_structures">19.4. Syntax: Recursive data structures</a></li>
<li><a href="chap19.html#_solution_maze_of_doom">19.5. Solution: Maze of doom</a></li>
<li><a href="chap19.html#_concurrency_futures">19.6. Concurrency: Futures</a></li>
<li><a href="chap19.html#_exercises_19">19.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap20.html">20. File I/O</a>
<ul class="sectlevel2">
<li><a href="chap20.html#_problem_a_picture_is_worth_1000_bytes">20.1. Problem: A picture is worth 1,000 bytes</a></li>
<li><a href="chap20.html#_concepts_file_io">20.2. Concepts: File I/O</a></li>
<li><a href="chap20.html#_syntax_file_operations_in_java">20.3. Syntax: File operations in Java</a></li>
<li><a href="chap20.html#_examples_file_examples">20.4. Examples: File examples</a></li>
<li><a href="chap20.html#fileChapterSolution">20.5. Solution: A picture is worth 1,000 bytes</a></li>
<li><a href="chap20.html#_concurrency_file_io">20.6. Concurrency: File I/O</a></li>
<li><a href="chap20.html#_exercises_20">20.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap21.html">21. Network Communication</a>
<ul class="sectlevel2">
<li><a href="chap21.html#_problem_web_server">21.1. Problem: Web server</a></li>
<li><a href="chap21.html#_concepts_tcpip_communication">21.2. Concepts: TCP/IP communication</a></li>
<li><a href="chap21.html#_syntax_networking_in_java">21.3. Syntax: Networking in Java</a></li>
<li><a href="chap21.html#_solution_web_server">21.4. Solution: Web server</a></li>
<li><a href="chap21.html#_concurrency_networking">21.5. Concurrency: Networking</a></li>
<li><a href="chap21.html#_exercises_21">21.6. Exercises</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">





















<div class="sect1">
<h2 id="ch15-gui">15. Constructing Graphical User Interfaces</h2>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>A good sketch is better than a long speech.</p>
</div>
</blockquote>
<div class="attribution">
— Napoleon Bonaparte
</div>
</div>
<div class="sect2">
<h3 id="_problem_math_tutor">15.1. Problem: Math tutor</h3>
<div class="paragraph">
<p>Most people are used to using interacting with programs through a GUI
rather than a command-line interface. In this chapter, our problem is to write
a GUI program that can allow young math students to practice
their arithmetic. Specifically, we’re interested in addition,
subtraction, multiplication, and division with small, positive integers.
For this program, we’ll consider addition and subtraction basic and
multiplication and division advanced. Our program should allow the user
to select a check box in a menu setting the mode to advanced or basic.</p>
</div>
<div class="paragraph">
<p>The user should then be able to select one of the four operations from
another menu. Once the operation is selected, the program should generate
a random problem testing that operation. The problem should be displayed
as a label on the program with a text field to one side. The user should
be able to enter an answer in the text field and hit a button to submit
it. The program should check the answer and display the updated number of
correct and incorrect answers.</p>
</div>
<div id="MathTutorFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/mathTutorFigure.svg" alt="mathTutorFigure" width="80%">
</div>
<div class="title">Figure 15.1 GUI for the <code>MathTutor</code>. (a)&nbsp;No menu selected. (b)&nbsp;Type selected. (c)&nbsp;Operations selected. (d) Attempting to answer an addition problem.</div>
</div>
<div class="paragraph">
<p><a href="chap15.html#MathTutorFigure">Figure 15.1</a> shows the final program in four
different states. The window on the top left appears when the program is
first initialized, with the “Submit” button disabled until a problem is
generated.  The top right and the bottom left show each of the two menus
open. The bottom right shows the program when an addition problem has been
generated and the user is about to answer.</p>
</div>
</div>
<div class="sect2">
<h3 id="_concepts_graphical_user_interfaces">15.2. Concepts: Graphical user interfaces</h3>
<div class="paragraph">
<p>The program shown above with its menus, labels, buttons, and other
interactive components is called a graphical user interface or GUI. A
GUI is a means of communication between a computer program and a
(usually human) user. Although it’s possible for some programs such as
scripts to interact with a GUI, most program-to-program communication is
done in other ways.</p>
</div>
<div class="paragraph">
<p>While communication through input and output on the
command line is one way to communicate with a program, GUIs offer a
user-friendly alternative that has become extremely commonplace. In
fact, GUIs are so common that many people have never used anything else
to interact with programs and may not even suspect that other kinds of
interaction are possible.</p>
</div>
<div class="paragraph">
<p>This chapter will teach you how to write programs with GUIs. Although
GUIs can make input and output easier for the user, the programmer has
to shoulder the burden of arranging the layout and appearance of the GUI
and making it function properly. <a href="chap7.html">Chapter 7</a>
introduced a way to make simple GUIs, but those GUIs came
in preset flavors designed for displaying a message, getting a range of
responses in the form of buttons or lists, or reading a short piece of text as
input. In this chapter we’ll explore ways to make GUIs of arbitrary
complexity with no limitations on the size or shape of the GUI or the
components it contains.</p>
</div>
<div class="paragraph">
<p>A typical GUI consists of a <em>frame</em> (also known as a window) on which
are displayed one or more components (known as widgets), such as panels,
buttons, and text boxes. <em>Panels</em> are used to organize the contents
within the frame. A frame contains at least one panel, but additional
ones can be added. Each panel can also contain components: buttons, labels,
text boxes, and even other panels. Using code to create a GUI with all
the components laid out exactly where you want them is half the work of
making a GUI-driven program in Java.</p>
</div>
<div class="paragraph">
<p>Some components like labels are read-only to the user. They display
information such as status messages. Other components allow the user
to give input to the program.
Reading GUI input is usually done in response to an <em>event</em>.
Handling events inside of a
program is the other half of writing a GUI program in Java. Layout is
concerned with appearance, but event handling is concerned with
functionality.</p>
</div>
<div class="paragraph">
<p>Some IDEs such as IntelliJ have graphical tools that automatically
generate GUI layout code for you. It’s fast to create a GUI
with such tools, but the GUIs they create are often inflexible and
look terrible when the window is resized. We focus on how to write
all the code yourself because doing so gives you more control and
helps you understand Java GUIs better.</p>
</div>
<div class="sect3">
<h4 id="_swing_and_awt">15.2.1. Swing and AWT</h4>
<div class="paragraph">
<p>Most of the components you’ll use to create GUIs are defined in
classes that belong to the Java Swing library. This library contains
many interfaces and classes. In earlier chapters, you have seen and
used one class from the Swing library, the <code>JOptionPane</code> class.</p>
</div>
<div class="paragraph">
<p>Some components of the Swing library are
built on another library known as the Abstract Window Toolkit or AWT.
The AWT is an older library which provides direct access to OS
components. Thus, an AWT <code>Button</code> object in Microsoft Windows creates a
Windows button. Swing, however, draws its own button. AWT GUIs look
exactly like other GUIs from the same OS. Swing GUIs can be configured
to look similar using <em>look and feel</em> settings, or developers can choose
to use a default Java look and feel that will look similar across all platforms.</p>
</div>
<div class="paragraph">
<p>We’ll discuss many Swing components such as <code>JButton</code> and <code>JTextField</code>. Swing
components usually have a <code>J</code> at the beginning of their names to
distinguish them from similar AWT components. (The AWT contains <code>Button</code>
and <code>TextField</code>. If you see examples from other sources using components
that don’t start with <code>J</code>, they’re probably using AWT.) Although Swing
is built on top of the older AWT library, it’s not a good idea to mix
Swing and AWT components in a single GUI.</p>
</div>
<div class="paragraph">
<p>The Swing library is far too large for us to cover in its entirety.
Instead, our goal is to show you how to construct GUIs using some of the
most common Java components. Once you’ve grasped the material in this
chapter, you’ll be able to read and understand how to use many other
interesting Swing components, as well as other Java libraries for
constructing GUIs. The JavaFX library is a newer library that was
intended to replace Swing, but it hasn’t been widely adopted.  Although
it’s still available, JavaFX is no longer included with Java 11 and higher
and must be downloaded as a separate library.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_syntax_guis_in_java">15.3. Syntax: GUIs in Java</h3>
<div class="sect3">
<h4 id="_creating_a_frame">15.3.1. Creating a frame</h4>
<div class="paragraph">
<p>A frame is the Java terminology for a window. GUI components in Java will
usually be found on a frame. In Swing, a frame is an object whose type is
derived from the <code>JFrame</code> class. Here’s a line of code that creates a <code>JFrame</code> object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">(</span><span class="s">"Empty Frame"</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The above statement declares and creates a <code>JFrame</code> object named
<code>frame</code>. The title of the frame is “Empty Frame” and is given as
an argument to the <code>JFrame</code> constructor. Although calling the
constructor creates the frame, you need to make it visible for it to
show up on the screen.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>setVisible()</code> method causes the <code>frame</code> frame to be visible on
the screen as a window. You can specify its size as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="n">frame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">350</span><span class="o">,</span><span class="mi">200</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>setSize()</code> method sets the width and height of the frame in pixels.
In the above example, the width of <code>frame</code> is set to 350
pixels and its height to 200 pixels.  If you don’t set the size (or use a
method like <code>pack()</code> to make a <code>JFrame</code> resize itself to the appropriate
size for its contents), it might be so tiny that you at first don’t see it.</p>
</div>
<div class="paragraph">
<p>The window created by the above
code is resizable. If you don’t want the user to be able to resize the window,
you can specify that as well.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="n">frame</span><span class="o">.</span><span class="na">setResizable</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Your entire GUI will often be a frame you create and the components
inside that frame. You might want your application to end when you close
the frame by clicking on the close button toward the top. The actual
location of this button depends on the operating system and the look and
feel managers you’re using. Regardless, the following statement can be
used to set the behavior of the application when you close the frame
window.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="nc">JFrame</span><span class="o">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">Pitfall: Closing frames</div>
<div class="paragraph">
<p>Some books and online tutorials suggest setting <code>JFrame.EXIT_ON_CLOSE</code>
as the default close operation for a <code>JFrame</code> instead of
<code>JFrame.DISPOSE_ON_CLOSE</code>. In our opinion, this option should <strong>never</strong> be
used.</p>
</div>
<div class="paragraph">
<p>Using <code>JFrame.EXIT_ON_CLOSE</code> is equivalent to calling
<code>System.exit(0)</code>, which shuts down the JVM. In a single-threaded
application, the difference between disposing and exiting is small.
However, in a multi-threaded application, shutting down the JVM means
killing off all the other threads, no matter what task they’re
performing. In general, <code>System.exit()</code> shouldn’t be called,
whether the program has a GUI or not.</p>
</div>
<div class="paragraph">
<p>By using <code>JFrame.DISPOSE_ON_CLOSE</code>, the frame releases all the
resources it’s been using and terminates any threads it uses to redraw
itself and check for events. If there are no other threads running, the
application will then shut down.</p>
</div>
<div class="paragraph">
<p>It’s still necessary to select <strong>some</strong> default closing operation. By
default, the operation is set to <code>JFrame.HIDE_ON_CLOSE</code>, which hides
the frame but doesn’t end its threads. Unfortunately, if the frame is
the only way you have of interacting with your application, you can no
longer use it when it’s hidden! At that point, you may have to use a process or task
manager to shut down the JVM manually.</p>
</div>
</td>
</tr>
</tbody></table>
</div>
<div id="emptyFrameExample" class="exampleblock">
<div class="title">Example 15.1 Empty frame</div>
<div class="content">
<div class="paragraph">
<p><a href="chap15.html#EmptyFrameProgram">Program 15.1</a> creates and displays an empty frame with
the title “Empty Frame,” much like the code above.</p>
</div>
<div id="EmptyFrameProgram" class="listingblock">
<div class="title">Program 15.1 Creates an empty frame.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span> <i class="conum" data-value="1"></i><b>(1)</b>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">EmptyFrame</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">(</span><span class="s">"Empty Frame"</span><span class="o">);</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="n">frame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">350</span><span class="o">,</span><span class="mi">200</span><span class="o">);</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="nc">JFrame</span><span class="o">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="o">);</span> <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span> <i class="conum" data-value="5"></i><b>(5)</b>
    <span class="o">}</span>  
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This <code>import</code> statement lets the compiler know we’re using the Swing library.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The first statement inside the <code>main()</code> method declares and creates a <code>JFrame</code> object
and assigns a title to it.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Then, we set its size.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Next, we set the default close operation.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Finally, we make the frame visible.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The frame so created is shown in <a href="chap15.html#emptyFrameFigure">Figure 15.2</a>.</p>
</div>
<div id="emptyFrameFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/emptyFrameFigure.png" alt="emptyFrameFigure" width="40%">
</div>
<div class="title">Figure 15.2 An empty frame titled “Empty Frame.”</div>
</div>
<div class="paragraph">
<p>You may resize the frame at any point in the program even after the
frame has been created and made visible. The initial size may or may not
be set prior to making the frame visible. Similarly, the frame title can
be set and reset at any point in the program.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>A single frame might need to open other subsidiary windows from time to time
to ask a question or display some information.  To create windows dependent
on a parent frame, use <code>JDialog</code> instead of <code>JFrame</code>.  A dialog window made
with <code>JDialog</code> can either be modal (meaning that the user must close it before they
can interact with the parent frame) or non-modal (allowing the user
to interact with it and its parent frame at the same time).</p>
</div>
</div>
<div class="sect3">
<h4 id="_components">15.3.2. Components</h4>
<div class="paragraph">
<p>A component (or widget) is an element of a GUI. Java provides a large variety of
components including panels, buttons, text boxes, check boxes, radio buttons,
and menus. When laying out a GUI, one or more of the components are created and then
placed on a frame. A component is declared and created like any other
object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">Widget</span> <span class="n">w</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Widget</span><span class="o">(</span><span class="n">arguments</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Here we use class <code>Widget</code> to represent any Swing component class like
<code>JButton</code> or <code>JTextField</code>. Arguments supplied while constructing a
component allow you to set attributes such as its icon, color, size, or
text to display. Most of these attributes can be changed after creation.</p>
</div>
<div class="paragraph">
<p>Although components can be added directly to a frame, it’s often
convenient to lay out a GUI by adding panels to a frame and
adding components to those panels. Each panel can hold zero or more components.
A panel is also referred to as a <em>container</em> object. Next, we show you
how to create a panel, populate it with components, add it to a frame,
and display the completed frame.</p>
</div>
<div class="paragraph">
<p>In Swing, a panel is an instance of the <code>JPanel</code> class and can be created as
follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">JPanel</span> <span class="n">panel</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JPanel</span><span class="o">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This statement creates a panel named <code>panel</code>. Thus far, the panel
is empty. We can create two buttons and add them to <code>panel</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">JButton</span> <span class="n">thisButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"This"</span><span class="o">);</span>
<span class="nc">JButton</span> <span class="n">thatButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"That"</span><span class="o">);</span>
<span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">thisButton</span><span class="o">);</span>
<span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">thatButton</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Here, we create two buttons named <code>thisButton</code> and <code>thatButton</code>.
It’s common for component variables to reflect what kind of component
they are by appending a description, in this case <code>Button</code>, to their names.
These buttons are labeled <code>"This"</code> and
<code>"That"</code>, but their labels could be any <code>String</code> values. Then, we add
the two buttons to the <code>panel</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">panel</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This statement adds the <code>panel</code> to an existing frame called <code>frame</code>.</p>
</div>
<div class="paragraph">
<p>Another useful component is <code>JTextField</code>. It creates a text field that can
be used by a program for both input and output of <code>String</code> data.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">JTextField</span> <span class="n">field</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JTextField</span><span class="o">(</span><span class="s">"This is not a pipe."</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This statement creates a <code>JTextField</code> component named <code>field</code>.
When displayed, it’ll show the text “This is not a pipe.”
The user can change this text by typing, but we won’t know when the text
has been change without the event handling tools discussed in
<a href="chap15.html#_adding_actions_to_components">Section 15.3.3</a>. The following example combines several
of the components we’ve introduced into one program.</p>
</div>
<div class="exampleblock">
<div class="title">Example 15.2 GUI with buttons and text field</div>
<div class="content">
<div class="paragraph">
<p>We can write an application with a GUI that contains three buttons
labeled “This,” “That,” and “Exit.” In addition, it contains a
text field that initially displays the text, “Text input and output area”</p>
</div>
<div class="paragraph">
<p>In this example the buttons are only for display. You can click each
one, but the program won’t do anything. The text
field won’t be changed by the program after it’s initialized either. In the
next subsection we’ll add actions to each button and make the program more
useful.</p>
</div>
<div id="FrameWithPanelProgram" class="listingblock">
<div class="title">Program 15.2 Creates a frame with a panel containing three buttons.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FrameWithPanel</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">(</span><span class="s">"Button Example"</span><span class="o">);</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="nc">JPanel</span> <span class="n">panel</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JPanel</span><span class="o">();</span> <i class="conum" data-value="2"></i><b>(2)</b>
		
        <span class="nc">JButton</span> <span class="n">thisButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"This"</span><span class="o">);</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="nc">JButton</span> <span class="n">thatButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"That"</span><span class="o">);</span>
        <span class="nc">JButton</span> <span class="n">exitButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"Exit"</span><span class="o">);</span>
        <span class="nc">JTextField</span> <span class="n">field</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JTextField</span><span class="o">(</span><span class="s">"Text input and output area"</span><span class="o">);</span>
        
		<span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">thisButton</span><span class="o">);</span> <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">thatButton</span><span class="o">);</span> 
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">field</span><span class="o">);</span> 
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">exitButton</span><span class="o">);</span> 
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">panel</span><span class="o">);</span> <i class="conum" data-value="5"></i><b>(5)</b>
        <span class="n">frame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">350</span><span class="o">,</span><span class="mi">200</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="nc">JFrame</span><span class="o">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span> <i class="conum" data-value="6"></i><b>(6)</b>
    <span class="o">}</span>  
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We first create a frame named <code>frame</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Then, we make a panel named <code>panel</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Next, we create three buttons named <code>thisButton</code>, <code>thatButton</code>, and <code>exitButton</code> and a text field named <code>field</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>We add the buttons and the text field to <code>panel</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>We add <code>panel</code> to <code>frame</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>After setting the size and the closing operation, the frame is made
visible.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The final GUI is shown in <a href="chap15.html#frameWithAPanelFigure">Figure 15.3</a>. The sequence in which you
add the buttons to the panel determines the appearance of the GUI.  That’s why
the text field appears before the “Exit” button.
Note that the same GUI may look different on different platforms.</p>
</div>
<div id="frameWithAPanelFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/frameWithAPanelFigure.png" alt="frameWithAPanelFigure" width="40%">
</div>
<div class="title">Figure 15.3 GUI consisting of a frame, a panel, three buttons, and a text field.</div>
</div>
</div>
</div>
<div class="paragraph">
<p>In addition to <code>JTextField</code>, <code>JTextArea</code> and <code>JPasswordField</code> are two other
components useful for entering text.  The <code>JTextArea</code> component is designed
for larger passages of text and allows multiple lines.  The <code>JPasswordField</code>
component functions the same as a <code>JTextField</code> except that each character
of input text is displayed as a meaningless echo character designed to hide
sensitive information like a password.</p>
</div>
<div class="paragraph">
<p><a href="chap15.html#textAreaAndPasswordFieldFigure">Figure 15.4</a>(a) shows a GUI with a <code>JTextArea</code>, and
<a href="chap15.html#textAreaAndPasswordFieldFigure">Figure 15.4</a>(b) shows a GUI with a <code>JPasswordField</code>.</p>
</div>
<div id="textAreaAndPasswordFieldFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/textAreaAndPasswordFieldFigure.svg" alt="textAreaAndPasswordFieldFigure" width="80%">
</div>
<div class="title">Figure 15.4 (a) GUI with a text area.  (b) GUI with a password field.</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap15.html#multipleAddsExercise">Exercise 15.15</a></p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_adding_actions_to_components">15.3.3. Adding actions to components</h4>
<div class="paragraph">
<p>We can design a GUI so that when a user clicks a button, the program responds
by printing a message to the terminal, changing a text field, playing a sound,
or any other action that a Java program can perform. Clicking a button generates
an <em>event</em>. In Swing, an event is processed by one or more <em>listeners</em>. Java
provides various types of listeners, some of which are introduced here.
Next, we show you how to write listeners to handle events generated by a few
different kinds of components.</p>
</div>
<div class="sect4">
<h5 id="_the_actionlistener_interface">The <code>ActionListener</code> interface</h5>
<div class="paragraph">
<p>Java provides an <code>ActionListener</code> interface. This interface has a single
method named <code>actionPerformed()</code>. This method takes an <code>ActionEvent</code> as
input and performs a suitable action based on the event. A <code>JButton</code>
object generates <code>ActionEvent</code> when it’s pressed. Any class that
implements the <code>ActionListener</code> interface can be registered as an action
listener on a <code>JButton</code> or any other component that generates an
<code>ActionEvent</code>.</p>
</div>
<div class="paragraph">
<p>As discussed in <a href="chap10.html">Chapter 10</a>, an interface is a set of
method signatures. If a class implements an interface, it promises that its objects will
have all of the methods in that interface. If a class implements
<code>ActionListener</code>, it’s saying that it knows what to do when an action is
performed. The following statements show how to add an <code>ActionListener</code>
to a button and implement its <code>actionPerformed()</code> method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">JButton</span> <span class="n">thisButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"This"</span><span class="o">);</span>
<span class="n">thisButton</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">ActionListener</span><span class="o">()</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="nc">ActionEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
		<span class="c1">// Code to perform an action goes here</span>
	<span class="o">}</span>
<span class="o">});</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The first line above creates a button named <code>thisButton</code>. The remaining code
adds an action listener to the button. The process of adding an action
listener to an object is also known as <em>registering</em> a listener on the
object. Note that the sole argument to this <code>addActionListener()</code> method
is a newly created <code>ActionListener</code> object. Inside this newly created
and anonymous <code>ActionListener</code> object, we implement the
<code>actionPerformed()</code> method. Whatever code we want to execute in response
to the clicking of the <code>thisButton</code> button goes inside the
<code>actionPerformed()</code> method.</p>
</div>
<div class="paragraph">
<p>This syntax may look strange to you. <code>ActionListener</code> is an interface,
which can’t be instantiated. What’s that <code>new</code> keyword doing? It’s
doing something pretty amazing by creating an instance of an <em>anonymous
class</em>. On the fly, we’re creating a class that has never existed
before. It doesn’t even have a name! All we know about it is that it
implements the interface <code>ActionListener</code>.</p>
</div>
<div class="paragraph">
<p>Note that there are braces after the constructor call, defining what’s
inside of this class. Inside, we have only created an
<code>actionPerformed()</code> method, but we could have created fields as well as
other methods. It’s a little ugly to create a whole new class and
instantiate it in the middle of calling the <code>addActionListener()</code>
method, but it’s also very convenient. We need to supply an object that
reacts to the event exactly the way we want it to. Since one doesn’t
exist yet, we have to create it. Of course, it’s possible to supply any
object that implements the <code>ActionListener</code> interface, not just
instances of anonymous classes. For more information about nested
classes, inner classes, and anonymous classes, refer to
<a href="chap9.html#_advanced_nested_classes">Section 9.4</a> and <a href="chap10.html#_advanced_local_and_anonymous_classes">Section 10.4</a>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 15.3 GUI with actions</div>
<div class="content">
<div class="paragraph">
<p>Now we can modify <a href="chap15.html#FrameWithPanelProgram">Program 15.2</a> to respond to button
clicks. When the <code>thisButton</code> button is clicked, the program will display the
message “You can get with this.” in the text field. Similarly, when the
<code>thatButton</code> button is clicked, the program will display “Or you can get with that.”</p>
</div>
<div id="FrameWithPanelAndActionsProgram" class="listingblock">
<div class="title">Program 15.3 Demonstrates handling of action events.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FrameWithPanelAndActions</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">(</span><span class="s">"Button Example"</span><span class="o">);</span> 
        <span class="nc">JPanel</span> <span class="n">panel</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JPanel</span><span class="o">();</span>
		
        <span class="nc">JButton</span> <span class="n">thisButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"This"</span><span class="o">);</span> 
        <span class="nc">JButton</span> <span class="n">thatButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"That"</span><span class="o">);</span> 
        <span class="nc">JButton</span> <span class="n">exitButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"Exit"</span><span class="o">);</span> 
        <span class="nc">JTextField</span> <span class="n">field</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JTextField</span><span class="o">(</span><span class="s">"Text input and output area"</span><span class="o">);</span>
		
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">thisButton</span><span class="o">);</span> 
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">thatButton</span><span class="o">);</span>
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">field</span><span class="o">);</span>
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">exitButton</span><span class="o">);</span>
		
        <span class="c1">// Add action listeners to various buttons</span>
        <span class="n">thisButton</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">ActionListener</span><span class="o">()</span> <span class="o">{</span> 
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="nc">ActionEvent</span> <span class="n">e</span><span class="o">){</span>
                <span class="n">field</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"You can get with this."</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">thatButton</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">ActionListener</span><span class="o">(){</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="nc">ActionEvent</span> <span class="n">e</span><span class="o">){</span>
                <span class="n">field</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Or you can get with that."</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">exitButton</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">ActionListener</span><span class="o">(){</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="nc">ActionEvent</span> <span class="n">e</span><span class="o">){</span>
                <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Exit"</span><span class="o">);</span>
                <span class="n">frame</span><span class="o">.</span><span class="na">dispose</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">panel</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">350</span><span class="o">,</span><span class="mi">200</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="nc">JFrame</span><span class="o">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>       
    <span class="o">}</span>  
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="chap15.html#FrameWithPanelAndActionsProgram">Program 15.3</a> is largely the same as
<a href="chap15.html#FrameWithPanelProgram">Program 15.2</a>. It adds the same buttons and text
field but then adds an action listener to each button. The action
performed when the <code>thisButton</code> and <code>thatButton</code> buttons are clicked is to display
a message in the text box. When the <code>exitButton</code> button is clicked, the
listener displays a message on the terminal and exits the program.</p>
</div>
<div class="paragraph">
<p>The action listeners can be added
either before or after the panel has been set up but should be added
before the frame is made visible.</p>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 15.4 GUI with alternate action listener style</div>
<div class="content">
<div class="paragraph">
<p>In the previous example, we added an <code>ActionListener</code> object to each
button and implemented its <code>actionPerformed()</code> method with anonymous
inner classes. An alternate way to use <code>ActionListener</code> is to implement
<code>ActionListener</code> on the surrounding class and include an
<code>actionPerformed()</code> method exactly once instead of creating several
individual anonymous inner classes which each handle an event. Let’s
examine one such implementation in
<a href="chap15.html#AlternateActionListenerProgram">Program 15.4</a> and contrast it with
<a href="chap15.html#FrameWithPanelAndActionsProgram">Program 15.3</a>. Note that both programs
generate the same GUI and exhibit identical behavior.</p>
</div>
<div id="AlternateActionListenerProgram" class="listingblock">
<div class="title">Program 15.4 Demonstrates handling of action events by implementing <code>ActionListener</code> at the class level.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AlternateActionListener</span> <span class="kd">implements</span> <span class="nc">ActionListener</span> <span class="o">{</span>
	<span class="kd">private</span> <span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">(</span><span class="s">"Button Example"</span><span class="o">);</span> 
	<span class="kd">private</span> <span class="nc">JPanel</span> <span class="n">panel</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JPanel</span><span class="o">();</span>	
	<span class="kd">private</span> <span class="nc">JButton</span> <span class="n">thisButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"This"</span><span class="o">);</span> 
	<span class="kd">private</span> <span class="nc">JButton</span> <span class="n">thatButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"That"</span><span class="o">);</span> 
	<span class="kd">private</span> <span class="nc">JButton</span> <span class="n">exitButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"Exit"</span><span class="o">);</span> 
	<span class="kd">private</span> <span class="nc">JTextField</span> <span class="n">field</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JTextField</span><span class="o">(</span><span class="s">"Text input and output area"</span><span class="o">);</span>
  
	<span class="kd">public</span> <span class="nf">AlternateActionListener</span> <span class="o">(){</span> <i class="conum" data-value="1"></i><b>(1)</b>
		<span class="n">thisButton</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span> 
		<span class="n">thatButton</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
		<span class="n">exitButton</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

		<span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">thisButton</span><span class="o">);</span>
		<span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">thatButton</span><span class="o">);</span>
		<span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">field</span><span class="o">);</span>
		<span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">exitButton</span><span class="o">);</span>    
		<span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">panel</span><span class="o">);</span>

		<span class="n">frame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">350</span><span class="o">,</span><span class="mi">200</span><span class="o">);</span>
		<span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="nc">JFrame</span><span class="o">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="o">);</span>
		<span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>       
	<span class="o">}</span>     

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="nc">ActionEvent</span> <span class="n">e</span><span class="o">){</span> <i class="conum" data-value="2"></i><b>(2)</b>
		<span class="nc">Object</span> <span class="n">button</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="na">getSource</span><span class="o">();</span> <i class="conum" data-value="3"></i><b>(3)</b>
		<span class="k">if</span><span class="o">(</span><span class="n">button</span> <span class="o">==</span> <span class="n">thisButton</span><span class="o">)</span> <i class="conum" data-value="4"></i><b>(4)</b>
			<span class="n">field</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"You can get with this."</span><span class="o">);</span> 
		<span class="k">else</span> <span class="nf">if</span><span class="o">(</span><span class="n">button</span> <span class="o">==</span> <span class="n">thatButton</span><span class="o">)</span> 
			<span class="n">field</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Or you can get with that."</span><span class="o">);</span>
		<span class="k">else</span> <span class="o">{</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Exit"</span><span class="o">);</span>
			<span class="n">frame</span><span class="o">.</span><span class="na">dispose</span><span class="o">();</span>
		<span class="o">}</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span> <i class="conum" data-value="5"></i><b>(5)</b>
		<span class="k">new</span> <span class="nf">AlternateActionListener</span><span class="o">();</span> 
	<span class="o">}</span>   
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The constructor adds an <code>ActionListener</code> to each button. The listener added is <code>this</code>, specifying that the <code>AlternateActionListener</code> object is the one that will process any action event generated by the buttons. The remainder of the code for the constructor is essentially the same as that from the <code>main()</code> method in <a href="chap15.html#FrameWithPanelAndActionsProgram">Program 15.3</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A class that implements <code>ActionListener</code> must include an <code>actionPerformed()</code> method.  It has exactly one parameter, an <code>ActionEvent</code> object. Whenever an action event occurs, its attributes are bundled into an <code>ActionEvent</code> object and passed into the <code>actionPerformed()</code> method.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>getSource()</code> method returns a reference to the object that generated the event. Variable <code>button</code> holds the object returned by
<code>getSource()</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>These <code>if</code> statements compare <code>button</code> with <code>thisButton</code> and <code>thatButton</code> to determine if either of these generated the event. Then, a suitable message is displayed in the <code>field</code> text field. If neither button generated the event, it must have been <code>exitButton</code>, so the frame disposes itself after displaying “Exit” on the terminal.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The <code>main()</code> method creates an instance of <code>AlternateActionListener</code> and finishes. The program doesn’t end there because the threads of the GUI are already running.</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="paragraph">
<p>There are a few differences between
<a href="chap15.html#FrameWithPanelAndActionsProgram">Program 15.3</a> and
<a href="chap15.html#AlternateActionListenerProgram">Program 15.4</a>. In
the second program, most of the code has been
moved from the <code>main()</code> method to the constructor. Various objects,
namely the frame, the panel, all three
buttons, and the text box are now fields of the object instead of local
variables in the <code>main()</code> method. The buttons need to be fields so that the
<code>actionPerformed()</code> method can compare against them, and the text box needs
to be a field so that the method can change it.</p>
</div>
<div class="paragraph">
<p>We’ve examined two styles of adding an <code>ActionListener</code> to a Java
program. The choice of style depends on your needs. Adding
an anonymous <code>ActionListener</code> to each component makes it easy to specify an
action for each one, but the syntax is ugly. Using a named class (often the main program class or a
subclass of <code>JFrame</code>) as the <code>ActionListener</code> allows you to handle many
events in a centralized location. It can be easier to find errors when
all events are handled in one <code>actionPerformed()</code> method, but the method
can become complex since it needs to determine which component generated the event.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap15.html#componentAddingOrderExercise">Exercise 15.14</a></p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_the_itemlistener_interface">The <code>ItemListener</code> interface</h5>
<div class="paragraph">
<p>An <code>ItemListener</code> can be attached to a component such as a check box or a
radio button to listen for when it’s selected or deselected. When you select
a check box, a ✓ sign appears to its left, and an <code>ItemEvent</code> is
generated. When you select an already checked check box, the sign
disappears, and another <code>ItemEvent</code> is generated.</p>
</div>
<div class="paragraph">
<p>Creating a check box is very much like creating a button, except
that we use the <code>JCheckBox</code> component instead of <code>JButton</code>.
When it’s initially created, a check box is unchecked.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">JCheckBox</span> <span class="n">checkBox</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JCheckBox</span><span class="o">(</span><span class="s">"Check the oven"</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Just as the <code>ActionListener</code> interface only has a single method, the
<code>ItemListener</code> interface only has one as well, <code>itemStateChanged()</code>, which
takes a single parameter of type <code>ItemEvent</code>.</p>
</div>
<div class="paragraph">
<p>An <code>ActionEvent</code> and an <code>ItemEvent</code> are similar, but one reason that Java
has two different interfaces with two different kinds of events is
because an <code>ItemEvent</code> has more information: By using the
<code>getStateChange()</code> method, it’s possible to tell whether the component
that fired the <code>ItemEvent</code> is now selected or deselected.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="n">checkBox</span><span class="o">.</span><span class="na">addItemListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">ItemListener</span><span class="o">(){</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">itemStateChanged</span><span class="o">(</span><span class="nc">ItemEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">if</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getStateChange</span><span class="o">()</span> <span class="o">==</span> <span class="nc">ItemEvent</span><span class="o">.</span><span class="na">SELECTED</span><span class="o">)</span>
			<span class="n">checkBox</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"We checked the oven!"</span><span class="o">);</span>
		<span class="k">else</span>
			<span class="n">checkBox</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"No one checked the oven!"</span><span class="o">);</span>
	<span class="o">}</span>
<span class="o">});</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Below is an example of a GUI with three check boxes.</p>
</div>
<div class="exampleblock">
<div class="title">Example 15.5 GUI with check boxes</div>
<div class="content">
<div class="paragraph">
<p>The following program shows a GUI with three check boxes labeled
“Nasty”, “Brutish”, and “Short”.  When each is clicked,
it’ll update a text field saying that your life either is or
isn’t nasty, brutish, or short, depending on whether or not
the clicked check box is currently selected.</p>
</div>
<div id="CheckBoxExampleProgram" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CheckBoxExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">(</span><span class="s">"Check Box Example"</span><span class="o">);</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="nc">JPanel</span> <span class="n">panel</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JPanel</span><span class="o">();</span>
		
        <span class="nc">JCheckBox</span> <span class="n">nastyCheckBox</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JCheckBox</span><span class="o">(</span><span class="s">"Nasty"</span><span class="o">);</span> <i class="conum" data-value="2"></i><b>(2)</b>
		<span class="nc">JCheckBox</span> <span class="n">brutishCheckBox</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JCheckBox</span><span class="o">(</span><span class="s">"Brutish"</span><span class="o">);</span> 
		<span class="nc">JCheckBox</span> <span class="n">shortCheckBox</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JCheckBox</span><span class="o">(</span><span class="s">"Short"</span><span class="o">);</span> 		
        <span class="nc">JTextField</span> <span class="n">field</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JTextField</span><span class="o">(</span><span class="s">"Here's what your life is like."</span><span class="o">);</span>
		
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">nastyCheckBox</span><span class="o">);</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">brutishCheckBox</span><span class="o">);</span>
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">shortCheckBox</span><span class="o">);</span>
		<span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">field</span><span class="o">);</span>
		
        <span class="c1">// Add item listeners to the check boxes</span>
        <span class="n">nastyCheckBox</span><span class="o">.</span><span class="na">addItemListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">ItemListener</span><span class="o">()</span> <span class="o">{</span> <i class="conum" data-value="4"></i><b>(4)</b>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">itemStateChanged</span><span class="o">(</span><span class="nc">ItemEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">if</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getStateChange</span><span class="o">()</span> <span class="o">==</span> <span class="nc">ItemEvent</span><span class="o">.</span><span class="na">SELECTED</span><span class="o">)</span>
					<span class="n">field</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Your life is nasty."</span><span class="o">);</span>
				<span class="k">else</span>
					<span class="n">field</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Your life isn't nasty."</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">brutishCheckBox</span><span class="o">.</span><span class="na">addItemListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">ItemListener</span><span class="o">(){</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">itemStateChanged</span><span class="o">(</span><span class="nc">ItemEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getStateChange</span><span class="o">()</span> <span class="o">==</span> <span class="nc">ItemEvent</span><span class="o">.</span><span class="na">SELECTED</span><span class="o">)</span>
					<span class="n">field</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Your life is brutish."</span><span class="o">);</span>
				<span class="k">else</span>
					<span class="n">field</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Your life isn't brutish."</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">shortCheckBox</span><span class="o">.</span><span class="na">addItemListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">ItemListener</span><span class="o">(){</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">itemStateChanged</span><span class="o">(</span><span class="nc">ItemEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getStateChange</span><span class="o">()</span> <span class="o">==</span> <span class="nc">ItemEvent</span><span class="o">.</span><span class="na">SELECTED</span><span class="o">)</span>
					<span class="n">field</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Your life is short."</span><span class="o">);</span>
				<span class="k">else</span>
					<span class="n">field</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Your life isn't short."</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">panel</span><span class="o">);</span>  <i class="conum" data-value="5"></i><b>(5)</b>
        <span class="n">frame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">350</span><span class="o">,</span><span class="mi">200</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="nc">JFrame</span><span class="o">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>       
    <span class="o">}</span>  
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Just as in previous examples, we create a frame and a panel.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We make three check boxes and a text field.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Then we add all four components to the panel.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>We create an <code>ItemListener</code> for each check box
to update the text field with an appropriate message
based on whether the check box is now checked or unchecked.  Note that
the most recent message will overwrite whatever text was previously
in the text field.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Like previous examples, we add the panel to the frame, set the size,
set the default close operation, and show the frame.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p><a href="chap15.html#checkBoxExampleFigure">Figure 15.5</a> shows this GUI after the “Brutish” check box has
been clicked.</p>
</div>
<div id="checkBoxExampleFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/checkBoxExampleFigure.png" alt="checkBoxExampleFigure" width="40%">
</div>
<div class="title">Figure 15.5 GUI consisting of a frame, a panel, three check boxes, and a text field.</div>
</div>
<div class="paragraph">
<p>All <code>JCheckBox</code> objects could have an <code>ActionListener</code> added to them
as well.  We could change the listener for the <code>nastyCheckBox</code> above to the following,
and it would function the same.  To do so, we must ask the <code>nastyCheckBox</code> if it’s
currently selected by calling its <code>isSelected()</code> method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java">		<span class="n">nastyCheckBox</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">ActionListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="nc">ActionEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">if</span><span class="o">(</span><span class="n">nastyCheckBox</span><span class="o">.</span><span class="na">isSelected</span><span class="o">())</span>
					<span class="n">field</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Your life is nasty."</span><span class="o">);</span>
				<span class="k">else</span>
					<span class="n">field</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Your life isn't nasty."</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Another Swing component that can be used with an <code>ItemListener</code> is <code>JRadioButton</code>.
Radio buttons are similar to check boxes in that clicking one will select it.
However, radio buttons are almost always used in a group.  When one radio button
in the group is selected, all others are deselected, guaranteeing that only one
radio button can be selected at a time.</p>
</div>
<div class="paragraph">
<p>For example, the following code will create three radio buttons, only one
of which can be selected.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">JRadioButton</span> <span class="n">smarterButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JRadioButton</span><span class="o">(</span><span class="s">"Smarter than the average bear"</span><span class="o">);</span>
<span class="nc">JRadioButton</span> <span class="n">lessSmartButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JRadioButton</span><span class="o">(</span><span class="s">"Less smart than the average bear"</span><span class="o">);</span>
<span class="nc">JRadioButton</span> <span class="n">asSmartButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JRadioButton</span><span class="o">(</span><span class="s">"As smart as the average bear"</span><span class="o">);</span>

<span class="nc">ButtonGroup</span> <span class="n">group</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ButtonGroup</span><span class="o">();</span>
<span class="n">group</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">smarterButton</span><span class="o">);</span>
<span class="n">group</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">lessSmartButton</span><span class="o">);</span>
<span class="n">group</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">asSmartButton</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>ButtonGroup</code> object provides the logical grouping that guarantees a maximum
of one <code>JRadioButton</code> will be selected.  This grouping is only for the purposes of
selection, and the radio buttons still need to be added to a panel or a frame or some other
GUI container to display them.</p>
</div>
<div class="paragraph">
<p>With check boxes, an <code>ItemListener</code> didn’t provide much of an advantage over an
<code>ActionListener</code>.  A radio button, however, can be deselected not by clicking on it
but by clicking on <em>another</em> radio button.  Thus, using an <code>ItemListener</code> allows us
to handle the event when a radio button is deselected, even though it wasn’t clicked
itself, as illustrated in the following example.</p>
</div>
<div class="exampleblock">
<div class="title">Example 15.6 GUI with radio buttons</div>
<div class="content">
<div class="paragraph">
<p>The program below shows a GUI with three radio buttons labeled
“Half empty”, “Half full”, and “Twice the needed size”, describing a
partially filled glass of water from the perspective of an optimist, a
pessimist, or an engineer, respectively. When each radio button is selected, it’ll update
the first text field describing the glass from the given perspective.
However, when a radio button is deselected by clicking another one, it’ll
update the second text field to describe what the glass isn’t, now that we’re in a
different perspective.</p>
</div>
<div id="RadioButtonExampleProgram" class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">RadioButtonExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">(</span><span class="s">"Radio Button Example"</span><span class="o">);</span>
        <span class="nc">JPanel</span> <span class="n">panel</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JPanel</span><span class="o">();</span>
		
        <span class="nc">JRadioButton</span> <span class="n">halfEmptyButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JRadioButton</span><span class="o">(</span><span class="s">"Half empty"</span><span class="o">);</span> <i class="conum" data-value="1"></i><b>(1)</b>
		<span class="nc">JRadioButton</span> <span class="n">halfFullButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JRadioButton</span><span class="o">(</span><span class="s">"Half full"</span><span class="o">);</span> 
		<span class="nc">JRadioButton</span> <span class="n">twiceTheSizeButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JRadioButton</span><span class="o">(</span><span class="s">"Twice the needed size"</span><span class="o">);</span> 		
        <span class="nc">JTextField</span> <span class="n">positiveField</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JTextField</span><span class="o">(</span><span class="s">"Positive statement about the glass."</span><span class="o">);</span>
		<span class="nc">JTextField</span> <span class="n">negativeField</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JTextField</span><span class="o">(</span><span class="s">"Negative statement about the glass."</span><span class="o">);</span>
		
		<span class="nc">ButtonGroup</span> <span class="n">group</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ButtonGroup</span><span class="o">();</span> <i class="conum" data-value="2"></i><b>(2)</b>
		<span class="n">group</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">halfEmptyButton</span><span class="o">);</span>
		<span class="n">group</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">halfFullButton</span><span class="o">);</span>
		<span class="n">group</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">twiceTheSizeButton</span><span class="o">);</span>		
		
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">halfEmptyButton</span><span class="o">);</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">halfFullButton</span><span class="o">);</span>
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">twiceTheSizeButton</span><span class="o">);</span>
		<span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">positiveField</span><span class="o">);</span>
		<span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">negativeField</span><span class="o">);</span>
		
        <span class="c1">// Add item listeners to the radio buttons</span>
        <span class="n">halfEmptyButton</span><span class="o">.</span><span class="na">addItemListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">ItemListener</span><span class="o">()</span> <span class="o">{</span> <i class="conum" data-value="4"></i><b>(4)</b>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">itemStateChanged</span><span class="o">(</span><span class="nc">ItemEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
				<span class="k">if</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getStateChange</span><span class="o">()</span> <span class="o">==</span> <span class="nc">ItemEvent</span><span class="o">.</span><span class="na">SELECTED</span><span class="o">)</span>
					<span class="n">positiveField</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"The glass is half empty."</span><span class="o">);</span>
				<span class="k">else</span>
					<span class="n">negativeField</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"And it's not half empty."</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">halfFullButton</span><span class="o">.</span><span class="na">addItemListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">ItemListener</span><span class="o">(){</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">itemStateChanged</span><span class="o">(</span><span class="nc">ItemEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getStateChange</span><span class="o">()</span> <span class="o">==</span> <span class="nc">ItemEvent</span><span class="o">.</span><span class="na">SELECTED</span><span class="o">)</span>
					<span class="n">positiveField</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"The glass is half full."</span><span class="o">);</span>
				<span class="k">else</span>
					<span class="n">negativeField</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"And it's not half full."</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">twiceTheSizeButton</span><span class="o">.</span><span class="na">addItemListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">ItemListener</span><span class="o">(){</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">itemStateChanged</span><span class="o">(</span><span class="nc">ItemEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">if</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getStateChange</span><span class="o">()</span> <span class="o">==</span> <span class="nc">ItemEvent</span><span class="o">.</span><span class="na">SELECTED</span><span class="o">)</span>
					<span class="n">positiveField</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"The glass is twice the needed size."</span><span class="o">);</span>
				<span class="k">else</span>
					<span class="n">negativeField</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"And it's not twice the needed size."</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">});</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">panel</span><span class="o">);</span>  <i class="conum" data-value="5"></i><b>(5)</b>
        <span class="n">frame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">350</span><span class="o">,</span><span class="mi">200</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="nc">JFrame</span><span class="o">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>       
    <span class="o">}</span>  
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We make three radio buttons and two text fields.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We add the three radio buttons to a group.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Then we add the five components to the panel.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>We create an <code>ItemListener</code> for each radio button. When the event
is a selection, it will update the first text field with a message
that matches the radio button.  When the event is a deselection,
it will update the second text field with a message that suggests
the opposite of the radio button.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Like previous examples, we add the panel to the frame, set the size,
set the default close operation, and show the frame.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p><a href="chap15.html#radioButtonExampleFigure">Figure 15.6</a>(a) shows this GUI before any radio buttons
have been selected.  <a href="chap15.html#radioButtonExampleFigure">Figure 15.6</a>(b) shows this GUI after the
“Half full” radio button’s been selected.  <a href="chap15.html#radioButtonExampleFigure">Figure 15.6</a>(c)
shows this GUI after the “Twice the needed size” radio button’s been selected.
In this final step, note that the second text field reads “And it’s not half full.”
because the “Half full” button was just deselected.</p>
</div>
<div id="radioButtonExampleFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/radioButtonExampleFigure.svg" alt="radioButtonExampleFigure" width="100%">
</div>
<div class="title">Figure 15.6 GUI with radio buttons in three different states.</div>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_the_mouselistener_interface">The <code>MouseListener</code> interface</h5>
<div class="paragraph">
<p>Clicking a button or a check box is useful, but a mouse can generate events
in other ways too. For example, in a screen full of pictures, you might want to
highlight a picture when the cursor hovers over it. Or you might want to
create a drawing program which uses a mouse as a pen. To process general
mouse events, we need an object that implements the <code>MouseListener</code>
interface, which defines the following methods.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>mouseClicked()</code></p>
</li>
<li>
<p><code>mouseEntered()</code></p>
</li>
<li>
<p><code>mouseExited()</code></p>
</li>
<li>
<p><code>mousePressed()</code></p>
</li>
<li>
<p><code>mouseReleased()</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The function of each method is implied by its name. The <code>mouseEntered()</code>
event fires when the mouse cursor moves into the area above a component.
Conversely, the <code>mouseExited()</code> event fires when a mouse cursor was over
a component and has just moved away. The <code>mousePressed()</code> event fires
when a mouse button is pressed over a component. The <code>mouseReleased()</code>
event fires when a mouse button is released over a component.
The <code>mouseClicked()</code> event is a combination of
both the <code>mousePressed()</code> and <code>mouseReleased()</code> events, occurring only
if a mouse button was pressed and then released while the cursor was
over a component. As you can see, a component only fires events when the
cursor is over it (or has just left). Thus, a component only
reports events that have to do with it, not the general state of the
mouse.</p>
</div>
<div class="paragraph">
<p>Each method in <code>MouseListener</code> receives a <code>MouseEvent</code> object as its
argument. To handle mouse events, a class must implement the
<code>MouseListener</code> interface. Doing so is similar to the implementation of the
<code>ActionListener</code> interface from the previous section, but implementing
<code>MouseListener</code> requires a definition for <strong>each</strong> of the five methods
listed above. The next example illustrates <code>MouseListener</code> in use.</p>
</div>
<div id="mouseListenerExample" class="exampleblock">
<div class="title">Example 15.7 Mouse listener</div>
<div class="content">
<div class="paragraph">
<p>We can write a program that displays a GUI containing two buttons labeled
“One” and “Two.” A text box will display a suitable message
when the cursor enters a button. When a button is clicked, the text
box should display the total number of times that button has been
clicked.</p>
</div>
<div id="SimpleMouseEventsProgram" class="listingblock">
<div class="title">Program 15.5 Demonstrates the handling of mouse generated events using the <code>MouseListener</code> interface.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SimpleMouseEvents</span> <span class="kd">implements</span> <span class="nc">MouseListener</span> <span class="o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="kd">private</span> <span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">(</span><span class="s">"Mouse Events"</span><span class="o">);</span>
    <span class="kd">private</span> <span class="nc">JTextField</span> <span class="n">status</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JTextField</span><span class="o">(</span><span class="s">"Mouse status comes here."</span><span class="o">);</span>
    <span class="kd">private</span> <span class="nc">JButton</span> <span class="n">oneButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"One"</span><span class="o">);</span>
    <span class="kd">private</span> <span class="nc">JButton</span> <span class="n">twoButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"Two"</span><span class="o">);</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">oneClicks</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">twoClicks</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="c1">// Number of clicks</span>
    
    <span class="kd">public</span> <span class="nf">SimpleMouseEvents</span><span class="o">()</span> <span class="o">{</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="nc">JPanel</span> <span class="n">panel</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JPanel</span><span class="o">();</span>        
        <span class="n">oneButton</span><span class="o">.</span><span class="na">addMouseListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">twoButton</span><span class="o">.</span><span class="na">addMouseListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">oneButton</span><span class="o">);</span>
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">twoButton</span><span class="o">);</span>
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">status</span><span class="o">);</span> 
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">panel</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">275</span><span class="o">,</span><span class="mi">200</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="nc">JFrame</span><span class="o">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span> 
    <span class="o">}</span>

    <span class="c1">// Implement all abstract methods in MouseListener</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseEntered</span><span class="o">(</span><span class="nc">MouseEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="k">if</span> <span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getSource</span><span class="o">()</span> <span class="o">==</span> <span class="n">oneButton</span><span class="o">)</span> 
            <span class="n">status</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Mouse enters One."</span><span class="o">);</span>
        <span class="k">else</span>
            <span class="n">status</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Mouse enters Two."</span><span class="o">);</span>      
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseClicked</span><span class="o">(</span><span class="nc">MouseEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span> <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="k">if</span> <span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getSource</span><span class="o">()</span> <span class="o">==</span> <span class="n">oneButton</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">oneClicks</span><span class="o">++;</span>
            <span class="n">status</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"One clicked "</span><span class="o">+</span> <span class="n">oneClicks</span> <span class="o">+</span> <span class="s">" times."</span><span class="o">);</span>
        <span class="o">}</span>           
        <span class="k">else</span> <span class="o">{</span>
            <span class="n">twoClicks</span><span class="o">++;</span>
            <span class="n">status</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Two clicked "</span><span class="o">+</span> <span class="n">twoClicks</span>  <span class="o">+</span> <span class="s">" times."</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseExited</span><span class="o">(</span><span class="nc">MouseEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{}</span> <span class="c1">// Unused methods </span><i class="conum" data-value="5"></i><b>(5)</b>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mousePressed</span><span class="o">(</span><span class="nc">MouseEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseReleased</span><span class="o">(</span><span class="nc">MouseEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{}</span> 
    
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span> <i class="conum" data-value="6"></i><b>(6)</b>
          <span class="k">new</span> <span class="nf">SimpleMouseEvents</span><span class="o">();</span>
    <span class="o">}</span>  
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We declare class <code>SimpleMouseEvents</code>, implementing the <code>MouseListener</code> interface. The following few lines declare frame <code>frame</code>, buttons <code>one</code> and <code>two</code>, and a text box <code>status</code>. Two integers <code>oneClicks</code> and <code>twoClicks</code> are initialized to 0 and are used to keep track of the number of times each button has been clicked.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The first line of the <code>SimpleMouseEvents</code> constructor creates the panel
<code>panel</code>. It doesn’t need to be a field, and it’s always preferable to
keep a variable local if it can be. The next two lines add a <code>MouseListener</code> to the two buttons. Note the use of <code>this</code> in the argument to <code>addMouseListener()</code> which refers to the object being created by the constructor. Next, the panel is set up and added to the frame. Finally the frame size and its default close operations are set, and the frame is made visible.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>mouseEntered()</code> method is invoked when the cursor enters either of the two buttons. First, we retrieve the source of the event using the <code>getSource()</code> method and identify which object generated the event. A suitable message is displayed in the status box using the <code>setText()</code> method.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The <code>mouseClicked()</code> method is invoked when the mouse cursor is clicked above a button. As before, we retrieve the source of the event using the <code>getSource()</code> method. A suitable message, including the number of clicks, is displayed in the text box. Of course, recording  button clicks could have been done with an <code>ActionListener</code> instead.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td><code>MouseListener</code> methods that aren’t used must be implemented, but their bodies can be left empty.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>The only job of the <code>main()</code> method is to create an instance of
<code>SimpleMouseEvents</code>.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p><a href="chap15.html#SimpleMouseEventsProgram">Program 15.5</a> generates the GUI shown in
<a href="chap15.html#simpleMouseEventsFigure">Figure 15.7</a>.</p>
</div>
<div id="simpleMouseEventsFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/simpleMouseEventsFigure.png" alt="simpleMouseEventsFigure" width="30%">
</div>
<div class="title">Figure 15.7 GUI consisting of two buttons and a text box. Button clicks and entry of the cursor into a button are reported by the text box.</div>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap15.html#mouseEventsExercise">Exercise 15.6</a></p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_mouse_adapter">Mouse adapter</h5>
<div class="paragraph">
<p>Creating a <code>MouseListener</code> requires all five methods in the interface to
be implemented. In many cases, as in <a href="chap15.html#mouseListenerExample">Example 15.7</a>,
there’s no need to implement all the methods because we’re not
interested in all the corresponding events. In such situations we’re
forced to include empty methods.
However, you might want to include the methods only when they’re
needed. The <code>MouseAdapter</code> class helps us avoid implementing
methods we don’t need.</p>
</div>
<div class="paragraph">
<p><code>MouseAdapter</code> is an abstract class, unlike the <code>MouseListener</code>
interface. The advantage of using <code>MouseAdapter</code> is that it already
provides a skeletal implementation of each method needed to process
mouse events. We can override these implementations as needed, and we
don’t need to provide an implementation of a method that’s not used.</p>
</div>
<div class="exampleblock">
<div class="title">Example 15.8 Mouse adapter</div>
<div class="content">
<div class="paragraph">
<p><a href="chap15.html#SimpleMouseAdapterProgram">Program 15.6</a> is a revised version of
<a href="chap15.html#SimpleMouseEventsProgram">Program 15.5</a>. Remember that an abstract class is
<strong>extended</strong> whereas an interface is <strong>implemented</strong>.</p>
</div>
<div id="SimpleMouseAdapterProgram" class="listingblock">
<div class="title">Program 15.6 Handles mouse generated events using the <code>MouseAdapter</code> abstract class.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SimpleMouseAdapter</span> <span class="kd">extends</span> <span class="nc">MouseAdapter</span> <span class="o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="kd">private</span> <span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">(</span><span class="s">"Mouse Events"</span><span class="o">);</span>    
    <span class="kd">private</span> <span class="nc">JTextField</span> <span class="n">status</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JTextField</span><span class="o">(</span><span class="s">"Mouse status comes here."</span><span class="o">);</span>
    <span class="kd">private</span> <span class="nc">JButton</span> <span class="n">oneButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"One"</span><span class="o">);</span>
    <span class="kd">private</span> <span class="nc">JButton</span> <span class="n">twoButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"Two"</span><span class="o">);</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">oneClicks</span> <span class="o">=</span> <span class="mi">0</span><span class="o">,</span> <span class="n">twoClicks</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> 
    
    <span class="kd">public</span> <span class="nf">SimpleMouseAdapter</span> <span class="o">()</span> <span class="o">{</span>
        <span class="nc">JPanel</span> <span class="n">panel</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JPanel</span><span class="o">();</span>
        <span class="n">oneButton</span><span class="o">.</span><span class="na">addMouseListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">twoButton</span><span class="o">.</span><span class="na">addMouseListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">oneButton</span><span class="o">);</span>
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">twoButton</span><span class="o">);</span>
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">status</span><span class="o">);</span> 
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">panel</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">275</span><span class="o">,</span><span class="mi">200</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="nc">JFrame</span><span class="o">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span> 
    <span class="o">}</span>
    
    <span class="c1">// Override only those methods we want</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseEntered</span><span class="o">(</span><span class="nc">MouseEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="k">if</span> <span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getSource</span><span class="o">()</span> <span class="o">==</span> <span class="n">oneButton</span><span class="o">)</span>
            <span class="n">status</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Mouse enters One."</span><span class="o">);</span>
        <span class="k">else</span>
            <span class="n">status</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Mouse enters Two."</span><span class="o">);</span>      
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseClicked</span><span class="o">(</span><span class="nc">MouseEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="k">if</span> <span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getSource</span><span class="o">()</span> <span class="o">==</span> <span class="n">oneButton</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">oneClicks</span><span class="o">++;</span>
            <span class="n">status</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"One clicked "</span><span class="o">+</span> <span class="n">oneClicks</span> <span class="o">+</span> <span class="s">" times."</span><span class="o">);</span>
        <span class="o">}</span>           
        <span class="k">else</span> <span class="o">{</span>
            <span class="n">twoClicks</span><span class="o">++;</span>
            <span class="n">status</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Two clicked "</span><span class="o">+</span> <span class="n">twoClicks</span>  <span class="o">+</span> <span class="s">" times."</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>
        <span class="k">new</span> <span class="nf">SimpleMouseAdapter</span> <span class="o">();</span>
    <span class="o">}</span>  
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Class <code>SimpleMouseAdapter</code> extends the abstract class <code>MouseAdapter</code>. Thus, it inherits all the empty methods defined in <code>MouseAdapter</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We override the method <code>mouseEntered()</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>We override the method <code>mouseClicked()</code>.  No other methods need to be overridden in this example.</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap15.html#MouseAdaptorExercise">Exercise 15.2</a></p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_other_event_listeners">Other event listeners</h5>
<div class="paragraph">
<p>In this chapter we describe three types of listeners in Java,
<code>ActionListener</code>, <code>ItemListener</code> and <code>MouseListener</code>. You may have noticed that none of
the mouse events we discussed involved the movement of the mouse inside
of the component, only whether it was entering or exiting the component.
Because tracking mouse movement is more computationally expensive than
tracking simple presses, releases, enters, and exits, Java uses yet another
listener to handle mouse movement, <code>MouseMotionListener</code>. It contains
the methods <code>mouseDragged()</code> and <code>mouseMoved()</code>, which are used to
handle mouse movement with or without the button pressed.</p>
</div>
<div class="paragraph">
<p>Java provides several other listeners to handle a variety of events. For
example, the <code>DocumentListener</code> can be attached to a <code>JTextField</code> or a
<code>JTextArea</code> object to listen to document events, which include the
<code>insertUpdate()</code> event that’s fired when a character is inserted the
text box. A <code>KeyListener</code> can also be attached to text boxes to listen
to key events such as the return key being typed, which can have similar
functionality. These events could be useful when developing a text editor
application, for example.</p>
</div>
<div class="paragraph">
<p>After you’ve mastered the contents of this chapter, you may plan to
write more complex GUIs than the ones we discuss. For further
information, you might want to follow the Java tutorial on writing event
listeners at the Oracle
<a href="http://download.oracle.com/javase/tutorial/uiswing/events" target="_blank" rel="noopener">Swing Events tutorial site</a>.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_adding_sounds_and_images">15.3.4. Adding sounds and images</h4>
<div class="paragraph">
<p>Sounds and images can also be added to a Java GUI application. While
Java offers a rich set of sound APIs, we restrict our examples to
playing sound clips from audio files that come in <code>au</code> or <code>wav</code> formats.
We also introduce the <code>ImageIcon</code> class to create icons from image
files.</p>
</div>
<div class="sect4">
<h5 id="_sounds">Sounds</h5>
<div class="paragraph">
<p>There are many ways to play sounds in Java, but the simplest is through the <code>Clip</code> interface.  Let’s see how we can create an appropriate <code>Clip</code>
object.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">Clip</span> <span class="n">clip</span> <span class="o">=</span> <span class="nc">AudioSystem</span><span class="o">.</span><span class="na">getClip</span><span class="o">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This statement creates a new <code>Clip</code> object using a static method from
the <code>AudioSystem</code> class in the <code>javax.sound.sampled</code> package.  To use
<code>clip</code>, we need an audio file to play.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">File</span> <span class="n">soundFile</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"sounds/trumpet.wav"</span><span class="o">);</span>       <i class="conum" data-value="1"></i><b>(1)</b>
<span class="n">clip</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="nc">AudioSystem</span><span class="o">.</span><span class="na">getAudioInputStream</span><span class="o">(</span><span class="n">soundFile</span><span class="o">));</span> <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Here we create a <code>File</code> object corresponding to the location of an audio
file we want to play.  In this case, we’re trying to play a file called
<code>trumpet.wav</code> in a <code>sounds</code> directory that’s in the same directory as
our program.  The location of the file could be much more complicated
or even entered by the user.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Then, we use the <code>AudioSystem</code> class to make an audio stream from the
file and open it with <code>clip</code>.  Note that the two methods on this line can
throw a number of exceptions, depending on whether the file is in a usable
format and your computer’s audio system is ready.</td>
</tr>
</tbody></table>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="n">clip</span><span class="o">.</span><span class="na">start</span><span class="o">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This command will play the clip in <code>clip</code> loaded from the specified
file, exactly once. If you want to play the clip in a loop, use the
<code>loop()</code> method.  You can specify a specific number of times to loop
or use the <code>Clip.LOOP_CONTINUOUSLY</code> constant to make it loop an unlimited
number of times.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="n">clip</span><span class="o">.</span><span class="na">loop</span><span class="o">(</span><span class="nc">Clip</span><span class="o">.</span><span class="na">LOOP_CONTINUOUSLY</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To stop a clip from playing, use the <code>stop()</code> method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="n">clip</span><span class="o">.</span><span class="na">stop</span><span class="o">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now that we’ve seen how to create, open, play, and stop an audio
clip, we’re ready to write a program that can play sounds.</p>
</div>
<div id="animalSoundsExample" class="exampleblock">
<div class="title">Example 15.9 Animal sounds</div>
<div class="content">
<div class="paragraph">
<p>We can write a program to play a loop of a bird chirping or a dog barking
when the corresponding button is clicked. Our program only has two sounds, but
more could be added.</p>
</div>
<div id="animalSoundsFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/animalSoundsFigure.svg" alt="animalSoundsFigure" width="70%">
</div>
<div class="title">Figure 15.8 GUI for the animal sounds application. (a)&nbsp;On program start. (b)&nbsp;After the “Chirp” button has been clicked and the clip is playing.</div>
</div>
<div class="paragraph">
<p>We can include a button labeled “Stop Sound” that stops the playback
of sounds when clicked. When it starts, the GUI will look like
<a href="chap15.html#animalSoundsFigure">Figure 15.8</a>(a). Note that the “Stop Sound” button is gray,
showing that it’s disabled. The complete program is shown below.</p>
</div>
<div id="AnimalSoundsProgram" class="listingblock">
<div class="title">Program 15.7 Animal sounds</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">java.io.*</span><span class="o">;</span>  <i class="conum" data-value="1"></i><b>(1)</b>
<span class="kn">import</span> <span class="nn">java.awt.event.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.sound.sampled.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AnimalSounds</span> <span class="o">{</span> 
  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span> <span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
    <span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">(</span><span class="s">"Animal Sounds"</span><span class="o">);</span>
    <span class="nc">JPanel</span> <span class="n">panel</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JPanel</span><span class="o">();</span>
    <span class="nc">JButton</span> <span class="n">chirpButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"Chirp"</span><span class="o">);</span>
    <span class="nc">JButton</span> <span class="n">barkButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"Bark"</span><span class="o">);</span>
    <span class="nc">JButton</span> <span class="n">stopButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"Stop Sound"</span><span class="o">);</span>
    <span class="nc">JTextField</span> <span class="n">field</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JTextField</span><span class="o">(</span><span class="s">"Click Chirp or Bark."</span><span class="o">);</span>
    <span class="nc">File</span> <span class="n">chirpFile</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"sounds/chirp.wav"</span><span class="o">);</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="nc">File</span> <span class="n">barkFile</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">File</span><span class="o">(</span><span class="s">"sounds/bark.wav"</span><span class="o">);</span>
    <span class="nc">Clip</span> <span class="n">chirpClip</span> <span class="o">=</span> <span class="nc">AudioSystem</span><span class="o">.</span><span class="na">getClip</span><span class="o">();</span> <i class="conum" data-value="3"></i><b>(3)</b>
	<span class="n">chirpClip</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="nc">AudioSystem</span><span class="o">.</span><span class="na">getAudioInputStream</span><span class="o">(</span><span class="n">chirpFile</span><span class="o">));</span>
    <span class="nc">Clip</span> <span class="n">barkClip</span> <span class="o">=</span> <span class="nc">AudioSystem</span><span class="o">.</span><span class="na">getClip</span><span class="o">();</span>
	<span class="n">barkClip</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="nc">AudioSystem</span><span class="o">.</span><span class="na">getAudioInputStream</span><span class="o">(</span><span class="n">barkFile</span><span class="o">));</span>
    <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">chirpButton</span><span class="o">);</span>
    <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">barkButton</span><span class="o">);</span>
    <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">stopButton</span><span class="o">);</span>
    <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">field</span><span class="o">);</span>
    <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">panel</span><span class="o">);</span>
    <span class="n">stopButton</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span> <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Many import statements are needed to cover all the library classes and
interfaces used to play sounds.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>After creating a number of GUI elements, we define the files
for the two sounds.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Then, we create <code>chirpClip</code> and <code>barkClip</code> and open audio streams
corresponding to their sound files.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Note that we start with the <code>stop</code> button disabled.</td>
</tr>
</tbody></table>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java">    <span class="n">chirpButton</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">ActionListener</span><span class="o">()</span> <span class="o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="nc">ActionEvent</span> <span class="n">e</span><span class="o">){</span>
            <span class="n">field</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Playing chirp."</span><span class="o">);</span>
            <span class="n">barkButton</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
            <span class="n">chirpClip</span><span class="o">.</span><span class="na">loop</span><span class="o">(</span><span class="nc">Clip</span><span class="o">.</span><span class="na">LOOP_CONTINUOUSLY</span><span class="o">);</span>
            <span class="n">stopButton</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">});</span>
    <span class="n">barkButton</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">ActionListener</span><span class="o">(){</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="nc">ActionEvent</span> <span class="n">e</span><span class="o">){</span>
            <span class="n">field</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Playing bark."</span><span class="o">);</span>
            <span class="n">chirpButton</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
            <span class="n">barkClip</span><span class="o">.</span><span class="na">loop</span><span class="o">(</span><span class="nc">Clip</span><span class="o">.</span><span class="na">LOOP_CONTINUOUSLY</span><span class="o">);</span>
            <span class="n">stopButton</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">});</span>
    <span class="n">stopButton</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">ActionListener</span><span class="o">(){</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="nc">ActionEvent</span> <span class="n">e</span><span class="o">){</span>
            <span class="n">field</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Click Chirp or Bark."</span><span class="o">);</span>
            <span class="n">chirpClip</span><span class="o">.</span><span class="na">stop</span><span class="o">();</span>            
            <span class="n">barkClip</span><span class="o">.</span><span class="na">stop</span><span class="o">();</span>
			<span class="n">barkButton</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
            <span class="n">chirpButton</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
            <span class="n">stopButton</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
      <span class="o">}</span>
    <span class="o">});</span>

    <span class="n">frame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">275</span><span class="o">,</span><span class="mi">200</span><span class="o">);</span> <span class="c1">// Set size in pixels</span>
    <span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="nc">JFrame</span><span class="o">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="o">);</span>
    <span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span> <span class="c1">// Display it      </span>
  <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Here we define the action listener for <code>chirpButton</code>, which
disables <code>barkButton</code>, tells the user that the chirp sound is playing, plays
the sound, and enables the <code>stop</code> button.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The action listener for <code>barkButton</code> button is similar.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The action listener for <code>stopButton</code> doesn’t know which sound is playing,
so it stops both sounds and then disables the <code>stopButton</code>.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>When <code>chirpButton</code> is clicked, the GUI looks like <a href="chap15.html#animalSoundsFigure">Figure 15.8</a>(b).</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap15.html#animalSoundsExercise">Exercise 15.9</a><br>
<a href="chap15.html#stopPlayingSoundExercise">Exercise 15.10</a></p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_images_and_icons">Images and icons</h5>
<div class="paragraph">
<p>Images are often useful when creating GUIs. In this section we show you
how to use images to create icons and then use those icons to decorate
buttons and labels. First, let’s see how an icon object can be created.
Suppose we have a picture file named <code>smile.jpg</code> in a directory named
<code>pictures</code>. Note that the <code>pictures</code> directory should be located in same
directory as the class files for your program. The following statement
creates an object of type <code>ImageIcon</code> from this picture.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">ImageIcon</span> <span class="n">smileIcon</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ImageIcon</span><span class="o">(</span><span class="s">"pictures/smile.jpg"</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The file name, along with its path, is passed to the
<code>ImageIcon</code> constructor as a string. Now we can add the image to a
button.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">JButton</span> <span class="n">smile</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">();</span>
<span class="n">smile</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">smileIcon</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Similarly, you can add an image to a label. The next example gives a
simple program that creates a button with an image.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap15.html#selfieExercise">Exercise 15.8</a></p>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 15.10 Icon example</div>
<div class="content">
<div class="paragraph">
<p><a href="chap15.html#IconExampleFigure">Figure 15.9</a> shows a GUI with a button decorated with a
picture. <a href="chap15.html#IconExampleProgram">Program 15.8</a> gives the code to create this
GUI using the <code>ImageIcon</code> class.</p>
</div>
<div id="IconExampleFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/iconExampleFigure.png" alt="iconExampleFigure" width="40%">
</div>
<div class="title">Figure 15.9 A GUI with a button decorated by an image icon.</div>
</div>
<div id="IconExampleProgram" class="listingblock">
<div class="title">Program 15.8 Creates a GUI with a button decorated by a picture.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">IconExample</span> <span class="o">{</span>   
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">(</span><span class="s">"Icon Example"</span><span class="o">);</span>     
        <span class="nc">ImageIcon</span> <span class="n">smileIcon</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ImageIcon</span><span class="o">(</span><span class="s">"pictures/smile.jpg"</span><span class="o">);</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="nc">JButton</span> <span class="n">smileButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="n">smileIcon</span><span class="o">);</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">smileButton</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">325</span><span class="o">,</span><span class="mi">250</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="nc">JFrame</span><span class="o">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
  <span class="o">}</span>  
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>An image icon is created from a JPEG file named <code>smile.jpg</code> located in
the <code>pictures</code> directory.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We create a button named <code>smileButton</code> and decorate it with an icon
by supplying it as an argument to the <code>JButton</code> constructor. If
the file can’t be found, the program will fail <em>quietly</em>. This means that
no exception is thrown. Instead, the button will appear without an image.</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap15.html#iconSoundsExercise">Exercise 15.7</a></p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_labels_icons_and_text">Labels, icons, and text</h5>
<div class="paragraph">
<p>In some applications you might want to show a picture with an attached
text label. For example, a shopping cart application for an online clothing
store might shows pictures of clothes, each labeled with a name
and a price. The <code>JLabel</code> class is flexible, able to display text alone,
an image alone, or both. However, a <code>JLabel</code> is designed for displaying
information and can’t read user input.</p>
</div>
<div class="paragraph">
<p>Here are three different ways to create a label.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">ImageIcon</span> <span class="n">hibiscus</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ImageIcon</span><span class="o">(</span><span class="s">"pictures/hibiscus.jpg"</span><span class="o">)</span>
<span class="nc">JLabel</span> <span class="n">textOnly</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JLabel</span><span class="o">(</span><span class="s">"Text only"</span><span class="o">);</span>
<span class="nc">JLabel</span> <span class="n">flower</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JLabel</span><span class="o">(</span><span class="n">hibiscus</span><span class="o">);</span>
<span class="nc">JLabel</span> <span class="n">labeledflower</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JLabel</span><span class="o">(</span><span class="s">"Red Hibiscus"</span><span class="o">,</span> <span class="n">hibiscus</span><span class="o">,</span> <span class="nc">JLabel</span><span class="o">.</span><span class="na">CENTER</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The first <code>JLabel</code> constructor above creates a label displaying only
text, namely, “Text only.” The second constructor creates a label
decorated with an icon created from a picture. The third constructor
creates a label with the same icon and additional text. The last
argument in this third case is <code>JLabel.CENTER</code>, a constant that
specifies that the content of the label (both the image and the text)
should be placed horizontally in the center of the label. A horizontal
alignment of left or right could also be specified using the constants
<code>JLabel.LEFT</code> or <code>JLabel.RIGHT</code>, respectively.</p>
</div>
<div class="paragraph">
<p>Sometimes you might want to place the text below the icon that decorates
the label. To do so, you could set the horizontal and vertical positions
of the text as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="n">flower</span><span class="o">.</span><span class="na">setVerticalTextPosition</span><span class="o">(</span><span class="nc">JLabel</span><span class="o">.</span><span class="na">BOTTOM</span><span class="o">);</span>
<span class="n">flower</span><span class="o">.</span><span class="na">setHorizontalTextPosition</span><span class="o">(</span><span class="nc">JLabel</span><span class="o">.</span><span class="na">CENTER</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 15.11 Label example</div>
<div class="content">
<div class="paragraph">
<p><a href="chap15.html#labelExampleFigure">Figure 15.10</a>(a) is generated by <a href="chap15.html#LabelExampleProgram">Program 15.9</a>.</p>
</div>
<div id="labelExampleFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/labelExampleFigure.svg" alt="labelExampleFigure" width="85%">
</div>
<div class="title">Figure 15.10 (a) A GUI with a label decorated by an image icon and a title beneath it. (b) The GUI with unaligned text.</div>
</div>
<div id="LabelExampleProgram" class="listingblock">
<div class="title">Program 15.9 Creates a GUI with a label decorated by a picture and text.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">LabelExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">(</span><span class="s">"Label Example"</span><span class="o">);</span>
        <span class="nc">ImageIcon</span> <span class="n">hibiscusIcon</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ImageIcon</span><span class="o">(</span><span class="s">"pictures/hibiscus.jpg"</span><span class="o">);</span>
        <span class="nc">JLabel</span> <span class="n">flower</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JLabel</span><span class="o">(</span><span class="s">"Red Hibiscus"</span><span class="o">,</span> <span class="n">hibiscusIcon</span><span class="o">,</span> <span class="nc">JLabel</span><span class="o">.</span><span class="na">CENTER</span><span class="o">);</span>
        <span class="n">flower</span><span class="o">.</span><span class="na">setVerticalTextPosition</span><span class="o">(</span><span class="nc">JLabel</span><span class="o">.</span><span class="na">BOTTOM</span><span class="o">);</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="n">flower</span><span class="o">.</span><span class="na">setHorizontalTextPosition</span><span class="o">(</span><span class="nc">JLabel</span><span class="o">.</span><span class="na">CENTER</span><span class="o">);</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">flower</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">300</span><span class="o">,</span><span class="mi">250</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="nc">JFrame</span><span class="o">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
  <span class="o">}</span>  
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Vertically position the text on the bottom of the label.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Horizontally center the text on the label.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>You will see the GUI shown in
<a href="chap15.html#labelExampleFigure">Figure 15.10</a>(b) if the alignment instructions on these two lines are omitted.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_layout_managers">15.3.5. Layout managers</h4>
<div class="paragraph">
<p>Java provides a number of <em>layout managers</em> to assist with the design of
GUIs. A layout manager controls the placement of
components on a frame or panel. Every container has a default layout
manager, but it’s possible to change that manager to a different one.
In this section we’ll introduce the three layout managers <code>FlowLayout</code>,
<code>GridLayout</code>, and <code>BorderLayout</code>. Java also provides several other layout
managers, each designed for different situations.</p>
</div>
<div class="sect4">
<h5 id="_flowlayout"><code>FlowLayout</code></h5>
<div class="paragraph">
<p>The <code>FlowLayout</code> manager is one of simplest. When a
container is using the <code>FlowLayout</code> manager, components will be added in
order from left to right. When there’s no more space, subsequent
components will be added starting on the next row. In addition, each row of
components is centered within the container. The <code>JPanel</code> container uses
<code>FlowLayout</code> by default, but it’s possible to set it explicitly as
well.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">JPanel</span> <span class="n">panel</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JPanel</span><span class="o">(</span><span class="k">new</span> <span class="nc">FlowLayout</span><span class="o">());</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When we’ve added more than one component to a <code>JFrame</code> in previous
examples, we’ve first added them to a <code>JPanel</code>. The reason we did so is
because <code>FlowLayout</code> is the default layout manager for
<code>JPanel</code> containers. Although every <code>JFrame</code> has a container, it uses
the <code>BorderLayout</code> manager by default, which would have complicated our
earlier examples. The next example illustrates <code>FlowLayout</code> further.</p>
</div>
<div class="exampleblock">
<div class="title">Example 15.12 <code>FlowLayout</code></div>
<div class="content">
<div class="paragraph">
<p><a href="chap15.html#FlowLayoutExampleProgram">Program 15.10</a> creates a GUI with several
buttons.</p>
</div>
<div id="FlowLayoutExampleProgram" class="listingblock">
<div class="title">Program 15.10 Adds several buttons using <code>FlowLayout</code>.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FlowLayoutExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">(</span><span class="s">"FlowLayout Example"</span><span class="o">);</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="nc">JPanel</span> <span class="n">panel</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JPanel</span><span class="o">(</span><span class="k">new</span> <span class="nc">FlowLayout</span><span class="o">());</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="kd">final</span> <span class="kt">int</span> <span class="no">MAX_BUTTONS</span> <span class="o">=</span> <span class="mi">6</span><span class="o">;</span>    
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="no">MAX_BUTTONS</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <i class="conum" data-value="3"></i><b>(3)</b>
            <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"   "</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="s">"   "</span><span class="o">));</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">panel</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">300</span><span class="o">,</span><span class="mi">200</span><span class="o">);</span>    
        <span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="nc">JFrame</span><span class="o">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="o">);</span>    
        <span class="n">frame</span><span class="o">.</span><span class="na">setResizable</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>       
    <span class="o">}</span>  
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We first create a frame.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We create a panel and set its layout manager to <code>FlowLayout</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>This <code>for</code> loop is used to create new buttons, label them appropriately, and add them to the panel.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The <code>FlowLayout</code> manager places the buttons along a number of rows depending on the width of the frame.
If the container changes size, the components will react by "'flowing'" into different rows, hence the name.
The GUI created is shown in <a href="chap15.html#FlowLayoutFigure">Figure 15.11</a>.</p>
</div>
<div id="FlowLayoutFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/flowLayoutFigure.png" alt="flowLayoutFigure" width="40%">
</div>
<div class="title">Figure 15.11 Using the <code>FlowLayout</code> manager to generate a GUI containing six buttons.</div>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap15.html#resizingGUIExercise">Exercise 15.16</a><br>
<a href="chap15.html#packedGUIExercise">Exercise 15.17</a></p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_gridlayout"><code>GridLayout</code></h5>
<div class="paragraph">
<p>The <code>GridLayout</code> manager lays out components in a grid with a set number
of rows and columns. As with other layout managers, <code>GridLayout</code> can be
applied to frames and panels.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">(</span><span class="s">"Grid Layout Example"</span><span class="o">);</span>
<span class="n">frame</span><span class="o">.</span><span class="na">setLayout</span><span class="o">(</span><span class="k">new</span> <span class="nc">GridLayout</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">5</span><span class="o">,</span> <span class="mi">5</span><span class="o">));</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This snippet creates a frame named <code>frame</code> and sets its layout manager
to <code>GridLayout</code>. The first two arguments to <code>GridLayout</code> give the number
of rows and columns, respectively. The last two arguments (which are optional)
give the horizontal and vertical gaps between the neighboring cells in the
grid. In this example the frame will contain a total of six cells organized
into three rows with two columns.</p>
</div>
<div id="GridLayoutFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/gridLayoutFigure.png" alt="gridLayoutFigure" width="40%">
</div>
<div class="title">Figure 15.12 A 3 × 2 grid layout containing six buttons.</div>
</div>
<div class="paragraph">
<p><a href="chap15.html#GridLayoutFigure">Figure 15.12</a> shows how <code>frame</code> will look after six
buttons, labeled 0 through 5, have been added to it in order. The buttons
were created in the same way as the buttons in <a href="chap15.html#FlowLayoutExampleProgram">Program 15.10</a>, but
they look different because of the <code>GridLayout</code> manager. A key
feature of using <code>GridLayout</code> is that all cells in the grid will be
the same size and will stretch to fill the entire container. Also note
the equal spacing between the neighboring cells. It’s possible to add
more cells or fewer cells than specified in the <code>GridLayout</code> constructor, but
the layout manager will be forced to guess at your intentions.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap15.html#GridLayoutExercise">Exercise 15.18</a></p>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 15.13 Animal identifier</div>
<div class="content">
<div class="paragraph">
<p>We can write a program to display pictures of animals and identify
which animal the mouse is current hovering over. The animal’s name will
be displayed in the title of the frame.
<a href="chap15.html#animalIdentifierFigure">Figure 15.13</a> shows this GUI.</p>
</div>
<div id="animalIdentifierFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/animalIdentifierFigure.png" alt="animalIdentifierFigure" width="50%">
</div>
<div class="title">Figure 15.13 A GUI for an animal identifier. Note that the bison is identified according to the frame title.</div>
</div>
<div class="paragraph">
<p><a href="chap15.html#AnimalIdentifierProgram">Program 15.11</a> creates the GUI shown in
<a href="chap15.html#animalIdentifierFigure">Figure 15.13</a>.</p>
</div>
<div id="AnimalIdentifierProgram" class="listingblock">
<div class="title">Program 15.11 Identifies which animal is in various images when the mouse hovers over the image. Images are laid out using a <code>GridLayout</code> manager.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AnimalIdentifier</span> <span class="kd">extends</span> <span class="nc">MouseAdapter</span> <span class="o">{</span>  <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="kd">private</span> <span class="nc">JLabel</span> <span class="n">bison</span><span class="o">,</span> <span class="n">dove</span><span class="o">,</span> <span class="n">gecko</span><span class="o">,</span> <span class="n">spider</span><span class="o">;</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="kd">private</span> <span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">(</span><span class="s">"Animal Identifier"</span><span class="o">);</span>

    <span class="kd">public</span> <span class="nf">AnimalIdentifier</span><span class="o">()</span> <span class="o">{</span> 
        <span class="nc">JPanel</span> <span class="n">panel</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JPanel</span><span class="o">(</span><span class="k">new</span> <span class="nc">GridLayout</span><span class="o">(</span><span class="mi">2</span><span class="o">,</span><span class="mi">2</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">5</span><span class="o">));</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="nc">ImageIcon</span> <span class="n">bisonIcon</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ImageIcon</span><span class="o">(</span><span class="s">"pictures/bison.jpg"</span><span class="o">);</span>
        <span class="nc">ImageIcon</span> <span class="n">doveIcon</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ImageIcon</span><span class="o">(</span><span class="s">"pictures/dove.jpg"</span><span class="o">);</span>
        <span class="nc">ImageIcon</span> <span class="n">geckoIcon</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ImageIcon</span><span class="o">(</span><span class="s">"pictures/gecko.jpg"</span><span class="o">);</span>
        <span class="nc">ImageIcon</span> <span class="n">spiderIcon</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ImageIcon</span><span class="o">(</span><span class="s">"pictures/spider.jpg"</span><span class="o">);</span>
        <span class="n">bison</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JLabel</span><span class="o">(</span><span class="n">bisonIcon</span><span class="o">);</span> <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="n">bison</span><span class="o">.</span><span class="na">addMouseListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span> 
        <span class="n">dove</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JLabel</span><span class="o">(</span><span class="n">doveIcon</span><span class="o">);</span>
        <span class="n">dove</span><span class="o">.</span><span class="na">addMouseListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">gecko</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JLabel</span><span class="o">(</span><span class="n">geckoIcon</span><span class="o">);</span>
        <span class="n">gecko</span><span class="o">.</span><span class="na">addMouseListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">spider</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JLabel</span><span class="o">(</span><span class="n">spiderIcon</span><span class="o">);</span>
        <span class="n">spider</span><span class="o">.</span><span class="na">addMouseListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">bison</span><span class="o">);</span> <i class="conum" data-value="5"></i><b>(5)</b>
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">dove</span><span class="o">);</span> 
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">gecko</span><span class="o">);</span>
        <span class="n">panel</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">spider</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">panel</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">400</span><span class="o">,</span><span class="mi">400</span><span class="o">);</span> <i class="conum" data-value="6"></i><b>(6)</b>
        <span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="nc">JFrame</span><span class="o">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span> 
    <span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Class <code>AnimalIdentifier</code> extends <code>MouseAdapter</code> so that it can
be added as a <code>MouseListener</code> without the need to implement all of its methods.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We declare four labels and a frame as fields. The labels are named <code>bison</code>, <code>dove</code>, <code>gecko</code>, and <code>spider</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Inside the constructor, we create a panel with a 2 × 2 <code>GridLayout</code>. Then, we create four image icons, one to decorate each label.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Each of the four labels is created with its respective icon. We also add the <code>AnimalIdentifier</code> object we’re constructing as  a <code>MouseListener</code> for each label.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>The buttons are added to the panel, and the panel is added to the frame.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>The last few lines set the size of the frame, set its close operation, and make it visible.</td>
</tr>
</tbody></table>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java">	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">mouseEntered</span><span class="o">(</span><span class="nc">MouseEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="nc">Object</span> <span class="n">label</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="na">getSource</span><span class="o">();</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="k">if</span><span class="o">(</span><span class="n">label</span> <span class="o">==</span> <span class="n">bison</span><span class="o">)</span>
          <span class="n">frame</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="s">"Animal Identifier: Bison"</span><span class="o">);</span>
        <span class="k">else</span> <span class="nf">if</span><span class="o">(</span><span class="n">label</span> <span class="o">==</span> <span class="n">dove</span><span class="o">)</span>
          <span class="n">frame</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="s">"Animal Identifier: Dove"</span><span class="o">);</span>
        <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">label</span> <span class="o">==</span> <span class="n">gecko</span><span class="o">)</span>
          <span class="n">frame</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="s">"Animal Identifier: Gecko"</span><span class="o">);</span>    
        <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="n">label</span> <span class="o">==</span> <span class="n">spider</span><span class="o">)</span>
          <span class="n">frame</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="s">"Animal Identifier: Spider"</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="k">new</span> <span class="nf">AnimalIdentifier</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Since <code>AnimalIdentifier</code> extends <code>MouseListener</code>, we only need to implement the single <code>MouseListener</code> method we care about, <code>mouseEntered()</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We get the label the mouse entered. We compare this label to the four labels and change the frame title correspondingly.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>main()</code> method creates a new instance of
class <code>AnimalIdentifier</code>, launching the GUI.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Play with <a href="chap15.html#AnimalIdentifierProgram">Program 15.11</a>. What happens when you
resize the window?</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap15.html#hoverSoundExercise">Exercise 15.11</a></p>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_borderlayout"><code>BorderLayout</code></h5>
<div class="paragraph">
<p>The <code>BorderLayout</code> manager is the default one for a <code>JFrame</code>. It allows
components to be laid out spatially in regions of a container. These
regions are north, south, east, west, and center. This layout is
intuitively easy to understand, but it’s difficult to describe
precisely.</p>
</div>
<div class="paragraph">
<p>You can only add one component to each region of the layout, and adding
a component to any region is optional. The regions will stretch or
shrink to accommodate the components inside. The north and south regions
will only be as tall as needed to hold their contents, but their width
will stretch as wide as the entire container. The east and west regions
will only be as wide as needed to hold their contents, but their height
will stretch as tall as needed to fit the remaining height of the
container. Both the height and the width of the center region will
stretch as big as it needs to fill the container.</p>
</div>
<div class="exampleblock">
<div class="title">Example 15.14 <code>BorderLayout</code></div>
<div class="content">
<div class="paragraph">
<p>Here’s an example of a frame using <code>BorderLayout</code>. Five buttons have
been added, one to each region, using the program shown below.  Since the default layout manager of a  <code>JFrame</code> is a <code>BorderLayout</code>,
we don’t need to state it explicitly, although we do in this case.</p>
</div>
<div id="BorderLayoutExampleProgram" class="listingblock">
<div class="title">Program 15.12 Shows buttons laid out in each of the five regions of a <code>BorderLayout</code>.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BorderLayoutExample</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">(</span><span class="s">"BorderLayout Example"</span><span class="o">);</span>	
		<span class="n">frame</span><span class="o">.</span><span class="na">setLayout</span><span class="o">(</span><span class="k">new</span> <span class="nc">BorderLayout</span><span class="o">());</span>
		<span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"North"</span><span class="o">),</span> <span class="nc">BorderLayout</span><span class="o">.</span><span class="na">NORTH</span><span class="o">);</span>
		<span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"South"</span><span class="o">),</span> <span class="nc">BorderLayout</span><span class="o">.</span><span class="na">SOUTH</span><span class="o">);</span>
		<span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"East"</span><span class="o">),</span> <span class="nc">BorderLayout</span><span class="o">.</span><span class="na">EAST</span><span class="o">);</span>
		<span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"West"</span><span class="o">),</span> <span class="nc">BorderLayout</span><span class="o">.</span><span class="na">WEST</span><span class="o">);</span>
		<span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"Center"</span><span class="o">),</span> <span class="nc">BorderLayout</span><span class="o">.</span><span class="na">CENTER</span><span class="o">);</span>
		<span class="n">frame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">400</span><span class="o">,</span><span class="mi">250</span><span class="o">);</span>
		<span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="nc">JFrame</span><span class="o">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="o">);</span>    
		<span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>       
	<span class="o">}</span>  
<span class="o">}</span></code></pre>
</div>
</div>
<div id="borderLayoutFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/borderLayoutFigure.png" alt="borderLayoutFigure" width="50%">
</div>
<div class="title">Figure 15.14 A GUI demonstrating <code>BorderLayout</code> generated by <a href="chap15.html#BorderLayoutExampleProgram">Program 15.12</a>.</div>
</div>
<div class="paragraph">
<p>Unlike <code>FlowLayout</code> or <code>GridLayout</code>, the location must be specified to
add a component to a <code>BorderLayout</code>. To do so, the <code>add()</code> method
takes a second parameter, which is one of the constants <code>BorderLayout.NORTH</code>,
<code>BorderLayout.SOUTH</code>, <code>BorderLayout.EAST</code>, <code>BorderLayout.WEST</code>, or
<code>BorderLayout.CENTER</code>, depending on where you want to add the component.
If you don’t specify a second parameter, the component will be added to
the center region. Since only one component can be in each region,
adding a component to a region that’s already occupied will replace the
old component with the new one.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>At first glance, <code>BorderLayout</code> seems that it would rarely be useful.
However, this layout is frequently used because it establishes a spatial
relationship between different parts of a GUI. A
container with a <code>BorderLayout</code> generally has other containers with
their own layouts added to its regions, as shown in the following
example.</p>
</div>
<div class="exampleblock">
<div class="title">Example 15.15 Calculator layout</div>
<div class="content">
<div class="paragraph">
<p>We can make a GUI application that functions as a simple calculator. The
calculator has the ten digits 0-9, a plus button, a minus button, and an
enter button. At the top is a display that shows the current value.</p>
</div>
<div class="paragraph">
<p>We create ten <code>JButton</code> objects for the digits and three more <code>JButton</code>
objects for plus, minus, and enter. The display is a <code>JLabel</code>. The code
is given below.</p>
</div>
<div id="CalculatorLayoutProgram" class="listingblock">
<div class="title">Program 15.13 Lays out a simple calculator.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CalculatorLayout</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">(</span><span class="s">"Calculator Layout"</span><span class="o">);</span> 
		<span class="n">frame</span><span class="o">.</span><span class="na">setLayout</span><span class="o">(</span><span class="k">new</span> <span class="nc">BorderLayout</span><span class="o">());</span>
		<span class="nc">JPanel</span> <span class="n">numbers</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JPanel</span><span class="o">(</span><span class="k">new</span> <span class="nc">GridLayout</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span><span class="mi">3</span><span class="o">));</span>
		<span class="n">numbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"7"</span><span class="o">));</span>
		<span class="n">numbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"8"</span><span class="o">));</span>
		<span class="n">numbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"9"</span><span class="o">));</span>
		<span class="n">numbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"4"</span><span class="o">));</span>
		<span class="n">numbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"5"</span><span class="o">));</span>
		<span class="n">numbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"6"</span><span class="o">));</span>
		<span class="n">numbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"1"</span><span class="o">));</span>
		<span class="n">numbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"2"</span><span class="o">));</span>
		<span class="n">numbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"3"</span><span class="o">));</span>
		<span class="n">numbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"0"</span><span class="o">));</span>
		<span class="n">numbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"+"</span><span class="o">));</span>
		<span class="n">numbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"-"</span><span class="o">));</span>
		<span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">numbers</span><span class="o">,</span> <span class="nc">BorderLayout</span><span class="o">.</span><span class="na">CENTER</span><span class="o">);</span>
		<span class="nc">JButton</span> <span class="n">enter</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"Enter"</span><span class="o">);</span>
		<span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">enter</span><span class="o">,</span> <span class="nc">BorderLayout</span><span class="o">.</span><span class="na">SOUTH</span><span class="o">);</span>
		<span class="nc">JLabel</span> <span class="n">display</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JLabel</span><span class="o">(</span><span class="s">"0"</span><span class="o">);</span>
		<span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">display</span><span class="o">,</span> <span class="nc">BorderLayout</span><span class="o">.</span><span class="na">NORTH</span><span class="o">);</span>
		<span class="n">frame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">300</span><span class="o">,</span><span class="mi">350</span><span class="o">);</span>
		<span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="nc">JFrame</span><span class="o">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="o">);</span>    
		<span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>       
	<span class="o">}</span>  
<span class="o">}</span></code></pre>
</div>
</div>
<div id="calculatorLayoutFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/calculatorLayoutFigure.png" alt="calculatorLayoutFigure" width="40%">
</div>
<div class="title">Figure 15.15 GUI generated by <a href="chap15.html#CalculatorLayoutProgram">Program 15.13</a>.</div>
</div>
<div class="paragraph">
<p>This program uses a frame with a <code>BorderLayout</code> to arrange components around
a central panel with a <code>GridLayout</code>. First, we
put the ten digit buttons in a panel with a <code>GridLayout</code> having 4 rows
and 3 columns. We put the plus button and the minus button in the
remaining two cells of the grid. We add this grid panel to the center region
of the frame. We put the enter button in the south region
and the display in the north region.</p>
</div>
<div class="paragraph">
<p>Note that this program only creates the layout of a simple calculator,
not the functionality.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap15.html#calculatorFunctionalityExercise">Exercise 15.19</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>There’s no limit to how deeply you can nest containers within each
other. Sometimes you must use many <code>BorderLayout</code> managers to achieve the
appearance you want.  The value of establishing these spatial relationships
is that they’re still valid even when the GUI is resized. Even so, it’s
challenging to make a usable GUI that looks attractive no matter how
the user resizes it or what the resolution of the user’s screen is.</p>
</div>
<div class="paragraph">
<p>Although there’s not enough space here to discuss strategies for
developing attractive GUIs, it’s worth noting the value of the
<code>setPreferredSize()</code> method that all components have. This method is
one of the best ways to suggest a size for particular components,
especially if other components and containers are going to stretch
as needed.  When key components have their sizes set using
<code>setPreferredSize()</code>, the entire frame can be packed using the
<code>pack()</code> method, which sizes the frame to fit its components.</p>
</div>
<div class="paragraph">
<p>The three layout managers discussed in this section are the simplest,
but there are others. The <code>BoxLayout</code> manager is a useful tool for
laying out components in a line, whether horizontal like a row or
vertical like a column. The <code>GridBagLayout</code>
manager can be used to create complex layouts in a single container
using a grid-based framework that’s much more flexible than
<code>GridLayout</code>, but the complexity of programming <code>GridBagLayout</code> is
significant. The <code>SpringLayout</code> and <code>GroupLayout</code> managers are also
powerful, but they’re designed for use with a GUI builder utility.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_menus">15.3.6. Menus</h4>
<div class="paragraph">
<p>Menus provide a useful form of interface that’s expected from most GUI
applications. In this section we show how to create menus and respond to
the selection of menu items. Menus are placed on a menu bar. Each menu
usually consists of several menu items that could be selected by the
user. In addition to simple text, a menu item can be a button, a radio
button, check box, or an icon. A menu can have one or more sub-menus
opening out of a menu item.</p>
</div>
<div class="sect4">
<h5 id="_creating_menus">Creating menus</h5>
<div class="paragraph">
<p>To use menus we have to create a menu bar.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">JMenuBar</span> <span class="n">menuBar</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JMenuBar</span><span class="o">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This statement creates an object of type <code>JMenuBar</code> named <code>menuBar</code> which
can hold menus. A <code>JFrame</code> has only one menu bar. We can create several
menus and add them to the menu bar.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">JMenu</span> <span class="n">frenchMenu</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JMenu</span><span class="o">(</span><span class="s">"French Menu"</span><span class="o">);</span>
<span class="nc">JMenu</span> <span class="n">germanMenu</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JMenu</span><span class="o">(</span><span class="s">"German Menu"</span><span class="o">);</span>
<span class="n">menuBar</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">frenchMenu</span><span class="o">);</span>
<span class="n">menuBar</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">germanMenu</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>These statements create two menus named <code>frenchMenu</code> and <code>germanMenu</code> labeled
“French Menu” and “German Menu,” respectively. The two menus can be added to the existing menu bar using the <code>add()</code> method. Menus can be populated
with menu items as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">JMenuItem</span> <span class="n">coqAuVin</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JMenuItem</span><span class="o">(</span><span class="s">"Coq au vin"</span><span class="o">);</span>
<span class="nc">JMenuItem</span> <span class="n">moulesFrites</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JMenuItem</span><span class="o">(</span><span class="s">"Moules-frites"</span><span class="o">);</span>
<span class="n">frenchMenu</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">coqAuVin</span><span class="o">);</span>
<span class="n">frenchMenu</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">moulesFrites</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>These statements create two menu items named <code>coqAuVin</code> and
<code>moulesFrites</code>. These menu items are then added to the menu <code>frenchMenu</code>.
After having created a menu bar together with its menus and their
respective menu items, we need a frame so that we can set its menu bar
to the one we created.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">(</span><span class="s">"Menu Example"</span><span class="o">);</span>
<span class="n">frame</span><span class="o">.</span><span class="na">setJMenuBar</span><span class="o">(</span><span class="n">menuBar</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>These statements create a frame and set its menu bar to <code>menuBar</code>. It’s
possible to use the <code>add()</code> method instead of the <code>setJMenuBar()</code> method
to add a <code>JMenuBar</code> to a <code>JFrame</code>. However, doing so will add the
<code>JMenuBar</code> to the regular content area, <strong>not</strong> to the menu area.</p>
</div>
<div class="paragraph">
<p><a href="chap15.html#menuFigure">Figure 15.16</a> shows a GUI with the menus and menu items added above.</p>
</div>
<div id="menuFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/menuFigure.png" alt="menuFigure" width="40%">
</div>
<div class="title">Figure 15.16 GUI showing menus.</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap15.html#JMenuBarExercise">Exercise 15.3</a><br>
<a href="chap15.html#addMenuBarExercise">Exercise 15.20</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Sometimes you might need to disable a menu item and enable it only under
certain conditions.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">JMenuItem</span> <span class="n">unusable</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JMenuItem</span><span class="o">(</span><span class="s">"Currently unusable"</span><span class="o">);</span>
<span class="n">unusable</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>These statements create a menu item named <code>unusable</code> and disable it.
A disabled menu item shows as a gray item and doesn’t respond to
attempts to select it. As we showed in <a href="chap15.html#animalSoundsExample">Example 15.9</a>, <code>JButton</code>
objects, like many other components, can be disabled in the same way.</p>
</div>
</div>
<div class="sect4">
<h5 id="_adding_events_to_menus">Adding events to menus</h5>
<div class="paragraph">
<p>An action listener can be added to each menu item, just like a
<code>JButton</code>. Then, when a menu item is clicked by the user, an action
event is generated. A <code>JCheckBoxMenuItem</code> object can be added to a
<code>JMenu</code> as well. This object will have a check box which can be selected
or unselected. A regular <code>JMenuItem</code> object generates an <code>ActionEvent</code>
which is handled by an <code>ActionListener</code>. Like a <code>JCheckBox</code>, a
<code>JCheckBoxMenuItem</code> can also generate an <code>ItemEvent</code> handled by an
<code>ItemListener</code>. Here are examples of both situations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="nc">JMenuItem</span> <span class="n">clickHere</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JMenuItem</span><span class="o">(</span><span class="s">"Click here"</span><span class="o">);</span>
<span class="nc">JCheckBoxMenuItem</span> <span class="n">checkBox</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JCheckBoxMenuItem</span><span class="o">(</span><span class="s">"Check yourself"</span><span class="o">);</span>
<span class="n">clickHere</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
<span class="n">checkBox</span><span class="o">.</span><span class="na">addItemListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A <code>JMenuItem</code> works just like a <code>JButton</code>. In fact, the same action
listener code could handle events for both buttons and menu items.
Similar to <code>JCheckBox</code> objects, a <code>JCheckBoxMenuItem</code> can be handled with an <code>ActionListener</code> if you only want to know when it’s clicked on.  However, you can add an <code>ItemListener</code> if you want to write an event handler that runs whenever the state of its check box changes.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_solution_math_tutor">15.4. Solution: Math tutor</h3>
<div class="paragraph">
<p>Here we give the code to generate the GUI shown in
<a href="chap15.html#MathTutorFigure">Figure 15.1</a> which displays basic (addition and
subtraction) as well as advanced (multiplication and division) problems.</p>
</div>
<div class="paragraph">
<p>As shown in <a href="chap15.html#MathTutorFigure">Figure 15.1</a>, this GUI has a menu bar
consisting of two menus labeled “Type” and “Operations.” The
“Type” menu contains a check box labeled “Advanced” while the
“Operations” menu contains four menu items labeled “Add,”
“Subtract,” “Multiply,” and “Divide.” Note that the “Multiply”
and “Divide” menu items start disabled. They’ll be enabled when the
user selects the “Advanced” check box.</p>
</div>
<div class="paragraph">
<p>Before we introduce the program that creates this GUI, we need a helper
class called <code>ProblemGenerator</code> that can randomly generate arithmetic
problems. The class is designed so that the answers are always positive
integers.</p>
</div>
<div id="ProblemGeneratorProgram" class="listingblock">
<div class="title">Program 15.14 Utility class to generate random addition, subtraction, multiplication, and division problems.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">java.util.Random</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ProblemGenerator</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">Random</span> <span class="n">random</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Random</span><span class="o">();</span>
    
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">addPractice</span><span class="o">(</span><span class="nc">JLabel</span> <span class="n">label</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">12</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">12</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="n">label</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">a</span> <span class="o">+</span> <span class="s">" + "</span> <span class="o">+</span> <span class="n">b</span> <span class="o">+</span> <span class="s">" = "</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">;</span>       
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">subtractPractice</span><span class="o">(</span><span class="nc">JLabel</span> <span class="n">label</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">12</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">random</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">12</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="n">label</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">b</span> <span class="o">+</span> <span class="s">" - "</span> <span class="o">+</span> <span class="n">a</span> <span class="o">+</span> <span class="s">" = "</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">b</span> <span class="o">-</span> <span class="n">a</span><span class="o">;</span>       
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">multiplyPractice</span><span class="o">(</span><span class="nc">JLabel</span> <span class="n">label</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">12</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">12</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="n">label</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">a</span> <span class="o">+</span> <span class="s">" \u00D7 "</span> <span class="o">+</span> <span class="n">b</span> <span class="o">+</span> <span class="s">" = "</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span><span class="o">;</span>       
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">dividePractice</span><span class="o">(</span><span class="nc">JLabel</span> <span class="n">label</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">12</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">*(</span><span class="n">random</span><span class="o">.</span><span class="na">nextInt</span><span class="o">(</span><span class="mi">12</span><span class="o">)</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
        <span class="n">label</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">b</span> <span class="o">+</span> <span class="s">" \u00F7 "</span> <span class="o">+</span> <span class="n">a</span> <span class="o">+</span> <span class="s">" = "</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">b</span> <span class="o">/</span> <span class="n">a</span><span class="o">;</span>       
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The code listed above has methods <code>addPractice()</code>,
<code>subtractPractice()</code>, <code>multiplyPractice()</code>, and <code>dividePractice()</code>. Each
method generates an appropriate math problem, sets an input <code>JLabel</code> to
display the problem, and returns the solution. Note that <code>\u00D7</code> and
<code>\u00F7</code> are the Unicode values for the multiplication (×) and division (÷)
symbols.</p>
</div>
<div class="paragraph">
<p><a href="chap15.html#MathTutorProgram">Program 15.15</a> generates the GUI in
<a href="chap15.html#MathTutorFigure">Figure 15.1</a>.</p>
</div>
<div id="MathTutorProgram" class="listingblock">
<div class="title">Program 15.15 Uses menus to generate math problems.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MathTutor</span> <span class="kd">implements</span> <span class="nc">ActionListener</span><span class="o">,</span> <span class="nc">ItemListener</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">JMenuItem</span> <span class="n">add</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JMenuItem</span><span class="o">(</span><span class="s">"Addition"</span><span class="o">);</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="kd">private</span> <span class="nc">JMenuItem</span> <span class="n">subtract</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JMenuItem</span><span class="o">(</span><span class="s">"Subtraction"</span><span class="o">);</span>
    <span class="kd">private</span> <span class="nc">JMenuItem</span> <span class="n">multiply</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JMenuItem</span><span class="o">(</span><span class="s">"Multiply"</span><span class="o">);</span>
    <span class="kd">private</span> <span class="nc">JMenuItem</span> <span class="n">divide</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JMenuItem</span> <span class="o">(</span><span class="s">"Divide"</span><span class="o">);</span>
    <span class="kd">private</span> <span class="nc">JLabel</span> <span class="n">score</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JLabel</span><span class="o">(</span><span class="s">"Score: 0 Correct 0 Incorrect"</span><span class="o">);</span>
    <span class="kd">private</span> <span class="nc">JLabel</span> <span class="n">label</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JLabel</span><span class="o">();</span>
    <span class="kd">private</span> <span class="nc">JTextField</span> <span class="n">field</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JTextField</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
    <span class="kd">private</span> <span class="nc">JButton</span> <span class="n">submitButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"Submit"</span><span class="o">);</span>
	<span class="kd">private</span> <span class="nc">ProblemGenerator</span> <span class="n">generator</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ProblemGenerator</span><span class="o">();</span> <i class="conum" data-value="2"></i><b>(2)</b>
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">correct</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>	<i class="conum" data-value="3"></i><b>(3)</b>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">incorrect</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">answer</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We begin by creating the GUI components that need to interact with event handlers: four menu items, a label, a text field, and a button.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>We also create a <code>ProblemGenerator</code> object to help create new problems.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Next, we add <code>int</code> fields to store the number of correct and incorrect answers as well as the answer to the current problem.</td>
</tr>
</tbody></table>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java">    <span class="kd">public</span> <span class="nf">MathTutor</span><span class="o">()</span> <span class="o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">(</span><span class="s">"Math Tutor"</span><span class="o">);</span>
        <span class="nc">JMenuBar</span> <span class="n">menuBar</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JMenuBar</span><span class="o">();</span>
        <span class="nc">JMenu</span> <span class="n">typeMenu</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JMenu</span><span class="o">(</span><span class="s">"Type"</span><span class="o">);</span>
        <span class="nc">JMenu</span> <span class="n">operationsMenu</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JMenu</span><span class="o">(</span><span class="s">"Operations"</span><span class="o">);</span>    
        <span class="nc">JCheckBoxMenuItem</span> <span class="n">advanced</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JCheckBoxMenuItem</span><span class="o">(</span><span class="s">"Advanced"</span><span class="o">);</span>
        <span class="c1">// Add listeners to menu items </span><i class="conum" data-value="2"></i><b>(2)</b>
        <span class="n">add</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">subtract</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">multiply</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">divide</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
		<span class="n">advanced</span><span class="o">.</span><span class="na">addItemListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span> <i class="conum" data-value="3"></i><b>(3)</b>
		<span class="c1">//Add anonymous ActionListener to submitButton </span><i class="conum" data-value="4"></i><b>(4)</b>
		<span class="n">submitButton</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">ActionListener</span><span class="o">()</span> <span class="o">{</span>
			<span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="nc">ActionEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
				<span class="kt">int</span> <span class="n">response</span> <span class="o">=</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">field</span><span class="o">.</span><span class="na">getText</span><span class="o">());</span>
				<span class="k">if</span><span class="o">(</span><span class="n">response</span> <span class="o">==</span> <span class="n">answer</span><span class="o">)</span>
					<span class="n">correct</span><span class="o">++;</span>
				<span class="k">else</span>
					<span class="n">incorrect</span><span class="o">++;</span>                        
				<span class="n">label</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>
				<span class="n">score</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Score: "</span> <span class="o">+</span> <span class="n">correct</span> <span class="o">+</span> <span class="s">" Correct "</span> <span class="o">+</span>
					<span class="n">incorrect</span> <span class="o">+</span> <span class="s">" Incorrect"</span><span class="o">);</span>
				<span class="n">submitButton</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
			<span class="o">}</span>			
		<span class="o">});</span>        </code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Inside the <code>MathTutor</code> constructor, we create the frame and the remaining components.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Action listeners are added to the four operations menu items.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>An item listener is added to the “Advanced” check box menu item because it requires a different kind of event handler. Note that <code>MathTutor</code> implements both the <code>ActionListener</code> and <code>ItemListener</code> interfaces, allowing it to handle both kinds of events.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Next, we add an anonymous <code>ActionListener</code> just for the submit button. It
reads the response from the text field, converts it into an integer, and checks against the answer.  If the response is correct, it increments the counter for correct answers.  Otherwise, it increments the counter for incorrect answers. Finally, it updates the score label and disables the submit
button until another operation is chosen from the menu.</td>
</tr>
</tbody></table>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java">        <span class="n">typeMenu</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">advanced</span><span class="o">);</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="n">operationsMenu</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">add</span><span class="o">);</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="n">operationsMenu</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">subtract</span><span class="o">);</span>
        <span class="n">operationsMenu</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">multiply</span><span class="o">);</span>
        <span class="n">operationsMenu</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">divide</span><span class="o">);</span>  
        <span class="n">multiply</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="n">divide</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
        <span class="n">menuBar</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">typeMenu</span><span class="o">);</span> <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="n">menuBar</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">operationsMenu</span><span class="o">);</span>        
        <span class="n">frame</span><span class="o">.</span><span class="na">setJMenuBar</span><span class="o">(</span><span class="n">menuBar</span><span class="o">);</span>
        <span class="c1">// Add components to frame and display GUI </span><i class="conum" data-value="5"></i><b>(5)</b>
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">score</span><span class="o">,</span> <span class="nc">BorderLayout</span><span class="o">.</span><span class="na">NORTH</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">label</span><span class="o">,</span> <span class="nc">BorderLayout</span><span class="o">.</span><span class="na">WEST</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">field</span><span class="o">,</span> <span class="nc">BorderLayout</span><span class="o">.</span><span class="na">EAST</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">submitButton</span><span class="o">,</span> <span class="nc">BorderLayout</span><span class="o">.</span><span class="na">SOUTH</span><span class="o">);</span>
		<span class="n">submitButton</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">300</span><span class="o">,</span> <span class="mi">150</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="nc">JFrame</span><span class="o">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span> 
    <span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>We add the <code>advanced</code> menu item to the type menu.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Then, we add the four kinds of operations to the operations menu.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>multiply</code> and <code>divide</code> menu items are disabled because the application starts in basic mode.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The menus are then added to the menu bar, and the menu bar is set on the frame.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Finally, the labels and text field are added to the frame, which is made visible. Note that these components can be added directly to the frame with the parameters <code>BorderLayout.NORTH</code>, <code>BorderLayout.EAST</code>, and <code>BorderLayout.WEST</code> because <code>JFrame</code> objects use the <code>BorderLayout</code> manager by default.</td>
</tr>
</tbody></table>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">itemStateChanged</span><span class="o">(</span><span class="nc">ItemEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getStateChange</span><span class="o">()</span> <span class="o">==</span> <span class="nc">ItemEvent</span><span class="o">.</span><span class="na">SELECTED</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">add</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span> 
            <span class="n">subtract</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
            <span class="n">multiply</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span> 
            <span class="n">divide</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">else</span> <span class="o">{</span>
            <span class="n">add</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
            <span class="n">subtract</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span> 
            <span class="n">multiply</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span> 
            <span class="n">divide</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>itemStateChanged()</code> method enables the <code>multiply</code> and <code>divide</code> menus and
disables the <code>add</code> and <code>subtract</code> menus if the <code>advanced</code> check box is
selected and does the reverse if it’s been unselected.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="nc">ActionEvent</span> <span class="n">e</span><span class="o">){</span>
        <span class="nc">Object</span> <span class="n">menuItem</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="na">getSource</span><span class="o">();</span>	
		<span class="k">if</span><span class="o">(</span><span class="n">menuItem</span> <span class="o">==</span> <span class="n">add</span><span class="o">)</span>
			<span class="n">answer</span> <span class="o">=</span> <span class="n">generator</span><span class="o">.</span><span class="na">addPractice</span><span class="o">(</span><span class="n">label</span><span class="o">);</span>
		<span class="k">else</span> <span class="nf">if</span><span class="o">(</span><span class="n">menuItem</span> <span class="o">==</span> <span class="n">subtract</span><span class="o">)</span>
			<span class="n">answer</span> <span class="o">=</span> <span class="n">generator</span><span class="o">.</span><span class="na">subtractPractice</span><span class="o">(</span><span class="n">label</span><span class="o">);</span>
		<span class="k">else</span> <span class="nf">if</span><span class="o">(</span><span class="n">menuItem</span> <span class="o">==</span> <span class="n">multiply</span><span class="o">)</span>
			<span class="n">answer</span> <span class="o">=</span> <span class="n">generator</span><span class="o">.</span><span class="na">multiplyPractice</span><span class="o">(</span><span class="n">label</span><span class="o">);</span>
		<span class="k">else</span> <span class="nf">if</span><span class="o">(</span><span class="n">menuItem</span> <span class="o">==</span> <span class="n">divide</span><span class="o">)</span>
			<span class="n">answer</span> <span class="o">=</span> <span class="n">generator</span><span class="o">.</span><span class="na">dividePractice</span><span class="o">(</span><span class="n">label</span><span class="o">);</span>
		<span class="n">submitButton</span><span class="o">.</span><span class="na">setEnabled</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>	
		<span class="n">field</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">""</span><span class="o">);</span>		
    <span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Depending on which menu item fired the event, the <code>actionPerformed()</code> method calls the
appropriate method from the <code>ProblemGenerator</code> object to create and then
display a math problem on <code>label</code>.  The correct answer is stored in <code>answer</code>.
Note that this <code>actionPerformed()</code> method doesn’t handle the submit button
because it has its own anonymous class handler.  We use both styles of listener
to keep the code simpler: Handling the submit button separately makes sense
because it’s different, but handling the operations menu items together makes
sense because they’re similar.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">){</span>       
        <span class="k">new</span> <span class="nf">MathTutor</span><span class="o">();</span>
    <span class="o">}</span>  
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Last but not least, the <code>main()</code> method creates an instance of <code>MathTutor</code>, initiating GUI construction and display.</p>
</div>
</div>
<div class="sect2">
<h3 id="_concurrency_guis">15.5. Concurrency: GUIs</h3>
<div class="paragraph">
<p>Stand-alone Java programs have at least one thread, the main thread.
Applications with GUIs create additional
threads to manage the GUI behind the scenes.</p>
</div>
<div class="paragraph">
<p>Although a GUI will create several threads, the most relevant of these
is the <em>event dispatch thread</em> (EDT). This thread handles events like
button clicks. When you write <code>actionPerformed()</code> methods, remember
that the EDT is the one that will actually execute the code inside.</p>
</div>
<div class="paragraph">
<p>If you’re writing a complex program, the EDT may interact with many
other threads, and the synchronization issues discussed in
<a href="chap14.html">Chapter 14</a> will become important. However, only
the EDT is allowed to change the state of components in a GUI. Using other
threads to do so will work some of the time, but it’s not thread-safe
and violates the design of Swing.</p>
</div>
<div class="sect3">
<h4 id="_worker_threads">15.5.1. Worker threads</h4>
<div class="paragraph">
<p>Thread safety is not the most common multi-threaded GUI problem,
however. Unresponsive GUIs can be found on almost every platform, as you’ve
no doubt experienced. In Java, unresponsive GUIs usually happen
when the programmer uses the event dispatch thread to perform some
task that takes too long. Because the EDT is responsible for updating
the GUI, the GUI freezes, and the user has to wait.</p>
</div>
<div class="paragraph">
<p>This problem presents quite a conundrum. On the one hand, the EDT is the
only thread allowed to update components. On the other, it has to do its
work quickly so that the GUI is responsive. The solution is to spawn <em>worker threads</em>
to do the job. When they’re done, they can tell the EDT to update the GUI.</p>
</div>
<div class="paragraph">
<p>Let’s look at a GUI with two <code>JButton</code> components and two <code>JLabel</code> components.
When one button’s pressed, the EDT goes to sleep for 5 seconds before
displaying an answer on the first label (in this case, approximately
the square root of 2). When the other button’s pressed, it increments
a counter and displays the value in the second label.</p>
</div>
<div id="UnresponsiveGUIProgram" class="listingblock">
<div class="title">Program 15.16 GUI that becomes unresponsive when the “Compute” button is pressed.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UnresponsiveGUI</span> <span class="kd">implements</span> <span class="nc">ActionListener</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">JLabel</span> <span class="n">answerLabel</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JLabel</span><span class="o">(</span><span class="s">"Answer:"</span><span class="o">);</span>
    <span class="kd">private</span> <span class="nc">JButton</span> <span class="n">computeButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"Compute"</span><span class="o">);</span>
    <span class="kd">private</span> <span class="nc">JLabel</span> <span class="n">countLabel</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JLabel</span><span class="o">(</span><span class="s">"0"</span><span class="o">);</span>
    <span class="kd">private</span> <span class="nc">JButton</span> <span class="n">incrementButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"Increment"</span><span class="o">);</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
        
    <span class="kd">public</span> <span class="nf">UnresponsiveGUI</span><span class="o">()</span> <span class="o">{</span>
        <span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">(</span><span class="s">"Unresponsive GUI"</span><span class="o">);</span>
		<span class="n">frame</span><span class="o">.</span><span class="na">setLayout</span><span class="o">(</span><span class="k">new</span> <span class="nc">GridLayout</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span><span class="mi">1</span><span class="o">));</span>               
        <span class="n">computeButton</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
		<span class="n">incrementButton</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
		<span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">answerLabel</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">computeButton</span><span class="o">);</span>       
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">countLabel</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">incrementButton</span><span class="o">);</span>
		<span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="nc">JFrame</span><span class="o">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">300</span><span class="o">,</span><span class="mi">150</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>		
    <span class="o">}</span>   
    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="nc">ActionEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getSource</span><span class="o">()</span> <span class="o">==</span> <span class="n">computeButton</span><span class="o">)</span> <span class="o">{</span>            
            <span class="n">answerLabel</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Computing..."</span><span class="o">);</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="nc">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">5000</span><span class="o">);</span>
            <span class="o">}</span>
			<span class="k">catch</span><span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">ignore</span><span class="o">)</span> <span class="o">{</span> <span class="o">}</span>
            <span class="n">answerLabel</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Answer: "</span> <span class="o">+</span> <span class="nc">Math</span><span class="o">.</span><span class="na">sqrt</span><span class="o">(</span><span class="mf">2.0</span><span class="o">));</span>
        <span class="o">}</span>
        <span class="k">else</span> <span class="o">{</span>
            <span class="n">count</span><span class="o">++;</span>
            <span class="n">countLabel</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">""</span> <span class="o">+</span> <span class="n">count</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>	
	
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span> <span class="n">args</span><span class="o">[])</span> <span class="o">{</span>
        <span class="k">new</span> <span class="nf">UnresponsiveGUI</span><span class="o">();</span>              
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div id="unresponsiveGUIFigure" class="imageblock text-center">
<div class="content">
<img src="chapters/15-gui/images/unresponsiveGUIFigure.png" alt="unresponsiveGUIFigure" width="35%">
</div>
<div class="title">Figure 15.17 GUI generated by <a href="chap15.html#UnresponsiveGUIProgram">Program 15.16</a>.</div>
</div>
<div class="paragraph">
<p>If you click the “Compute” button, the GUI becomes unresponsive.
Specifically, nothing will happen when you click the “Increment” button, but you
should still be able to move the frame around the desktop on most
systems. Furthermore, some thread in the GUI is registering the clicks
you do on the “Increment” button, though events triggered by those clicks
aren’t handled until <strong>after</strong> the EDT wakes up. At that point, the counter
will shoot up in value unpredictably.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap15.html#unresponsiveGUIExercise">Exercise 15.21</a><br>
<a href="chap15.html#calculatingGUIExercise">Exercise 15.22</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>One solution is to create an anonymous inner class that extends
<code>SwingWorker</code>. The <code>SwingWorker</code> class is abstract, but it’s also
<em>generic</em>, meaning that it has type parameters (given in angle brackets)
which specify what type of objects it interacts with. Generic classes
are often containers like <code>LinkedList</code> where the type parameter says
what kind of objects will be kept in the list.
<a href="chap18.html">Chapter 18</a> covers generics
in some depth. The reason we need generics for <code>SwingWorker</code> is so that it
can specify what kinds of answers it produces.
The first type parameter specifies the type that the worker will return when
it completes its work. The second specifies the type that the worker will return
periodically in the process of doing work (which can be useful for
updating progress bars). Examine the following program which has added a
<code>SwingWorker</code> to its <code>actionPerformed()</code> method but is otherwise the
same as <a href="chap15.html#UnresponsiveGUIProgram">Program 15.16</a>.</p>
</div>
<div id="WorkerGUIProgram" class="listingblock">
<div class="title">Program 15.17 GUI that uses <code>SwingWorker</code> to avoid becoming unresponsive.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">javax.swing.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.awt.event.*</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WorkerGUI</span> <span class="kd">implements</span> <span class="nc">ActionListener</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">JLabel</span> <span class="n">answerLabel</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JLabel</span><span class="o">(</span><span class="s">"Answer:"</span><span class="o">);</span>
    <span class="kd">private</span> <span class="nc">JButton</span> <span class="n">computeButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"Compute"</span><span class="o">);</span>
    <span class="kd">private</span> <span class="nc">JLabel</span> <span class="n">countLabel</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JLabel</span><span class="o">(</span><span class="s">"0"</span><span class="o">);</span>
    <span class="kd">private</span> <span class="nc">JButton</span> <span class="n">incrementButton</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JButton</span><span class="o">(</span><span class="s">"Increment"</span><span class="o">);</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>  
       
    <span class="kd">public</span> <span class="nf">WorkerGUI</span><span class="o">()</span> <span class="o">{</span>
		<span class="nc">JFrame</span> <span class="n">frame</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">JFrame</span><span class="o">(</span><span class="s">"Worker GUI"</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setLayout</span><span class="o">(</span><span class="k">new</span> <span class="nc">GridLayout</span><span class="o">(</span><span class="mi">4</span><span class="o">,</span><span class="mi">1</span><span class="o">));</span>
        <span class="n">computeButton</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">incrementButton</span><span class="o">.</span><span class="na">addActionListener</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">answerLabel</span><span class="o">);</span>     
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">computeButton</span><span class="o">);</span>       
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">countLabel</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">incrementButton</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setDefaultCloseOperation</span><span class="o">(</span><span class="nc">JFrame</span><span class="o">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setSize</span><span class="o">(</span><span class="mi">300</span><span class="o">,</span><span class="mi">150</span><span class="o">);</span>
        <span class="n">frame</span><span class="o">.</span><span class="na">setVisible</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>		
    <span class="o">}</span>
    
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">actionPerformed</span><span class="o">(</span><span class="nc">ActionEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getSource</span><span class="o">()</span> <span class="o">==</span> <span class="n">computeButton</span><span class="o">)</span> <span class="o">{</span>
            <span class="nc">SwingWorker</span> <span class="n">worker</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">SwingWorker</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span> <span class="nc">Void</span><span class="o">&gt;()</span> <span class="o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
                <span class="kd">public</span> <span class="nc">String</span> <span class="nf">doInBackground</span><span class="o">()</span> <span class="o">{</span> <i class="conum" data-value="2"></i><b>(2)</b>
                    <span class="k">try</span> <span class="o">{</span>
                        <span class="nc">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">5000</span><span class="o">);</span>
                    <span class="o">}</span>
					<span class="k">catch</span><span class="o">(</span><span class="nc">Exception</span> <span class="n">ignore</span><span class="o">)</span> <span class="o">{}</span>
                    <span class="k">return</span> <span class="s">"Answer: "</span> <span class="o">+</span> <span class="nc">Math</span><span class="o">.</span><span class="na">sqrt</span><span class="o">(</span><span class="mf">2.0</span><span class="o">);</span> <i class="conum" data-value="3"></i><b>(3)</b>
                <span class="o">}</span>
                
                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">done</span><span class="o">()</span> <span class="o">{</span> <i class="conum" data-value="4"></i><b>(4)</b>
                    <span class="k">try</span> <span class="o">{</span>
                        <span class="n">answerLabel</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">get</span><span class="o">());</span>
                    <span class="o">}</span>
					<span class="k">catch</span> <span class="o">(</span><span class="nc">Exception</span> <span class="n">ignore</span><span class="o">)</span> <span class="o">{}</span>              
                <span class="o">}</span>
            <span class="o">};</span>            
            <span class="n">worker</span><span class="o">.</span><span class="na">execute</span><span class="o">();</span> <i class="conum" data-value="5"></i><b>(5)</b>
            <span class="n">answerLabel</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Computing..."</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">else</span> <span class="o">{</span>
            <span class="n">count</span><span class="o">++;</span>
            <span class="n">countLabel</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">""</span> <span class="o">+</span> <span class="n">count</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
	
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span> <span class="n">args</span><span class="o">[])</span> <span class="o">{</span>
		<span class="k">new</span> <span class="nf">WorkerGUI</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>In this program, the first type parameter for the <code>SwingWorker</code> is
<code>String</code> because we’re going to set the text in a <code>JLabel</code> with its
result. The second parameter is <code>Void</code>, meaning that we don’t intend to
return any values periodically. Most child classes of <code>SwingWorker</code>
should override the <code>doInBackground()</code> and <code>done()</code> methods.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>doInBackground()</code> method performs the time-consuming work we
want done on another thread. In our example, the “work” is just going to
sleep, but it will generally be some CPU or I/O intensive process.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Afterward, it returns the answer it found.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The <code>done()</code> method is
called automatically by the EDT after <code>doInBackground()</code> finishes. Note that
the <code>get()</code> method automatically returns whatever answer was produced by
the <code>doInBackground()</code> method.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Once the <code>SwingWorker</code> object has been created, the <code>execute()</code> method starts
it running.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>This GUI will look identical to the unresponsive version
(except for the title), but it will remain responsive.</p>
</div>
<div class="paragraph">
<p>This syntax is not particularly elegant, but it accomplishes a complex
task. It spawns a thread transparently and then notifies the EDT when the
thread has its answer ready. Using a <code>SwingWorker</code> isn’t
always required, but it’s a useful tool to have in your arsenal if you
plan on writing industrial-strength, responsive GUIs.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap15.html#SwingWorkerExercise">Exercise 15.23</a></p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_summary_6">15.6. Summary</h3>
<div class="paragraph">
<p>This chapter covers the fundamentals of constructing a GUI to allow
users to interact with an application. We show how to add components such
as buttons and text boxes and use layout managers to organize their
appearance. We show how you can add action listeners and other event
handlers so that user interactions like button clicks can trigger useful tasks.</p>
</div>
<div class="paragraph">
<p>While Java offers a large variety of components and listeners, this
introduction is limited to a few of the most commonly used. Once you
understand the basics of GUI construction as described in this chapter,
it should be easy to understand the extensive Java tutorial at the Oracle
<a href="http://download.oracle.com/javase/tutorial/uiswing/components" target="_blank" rel="noopener">Swing Components tutorial site</a> or other
reference sources.</p>
</div>
</div>
<div class="sect2">
<h3 id="_exercises_15">15.7. Exercises</h3>
<div class="paragraph">
<p><strong>Conceptual Problems</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Both <code>ActionListener</code> and <code>MouseListener</code> interfaces can be used to process
button clicks. Under which circumstances is <code>ActionListener</code> better? Under
which is <code>MouseListener</code> better?</p>
</li>
<li>
<p><a id="MouseAdaptorExercise"></a> Why is the <code>MouseAdapter</code> abstract class useful?</p>
</li>
<li>
<p><a id="JMenuBarExercise"></a> What do you expect will happen if you used
<code>setJMenuBar()</code> to set two different menu bars on a single <code>JFrame</code> object?</p>
</li>
<li>
<p>Describe the situations that the following event listeners are useful for: <code>ActionListener</code>,
<code>MouseListener</code>, and <code>ItemListener</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Programming Practice</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Write a program that creates a
GUI containing two buttons labeled “Start” and “Done.” The GUI frame
should be titled “Start and Done.”</p>
</li>
<li>
<p><a id="mouseEventsExercise"></a> Modify <a href="chap15.html#SimpleMouseEventsProgram">Program 15.5</a> by implementing
the <code>mouseExited()</code>, <code>mousePressed()</code>, and <code>mouseReleased()</code> methods. Each
method must display a suitable message in the text box when the corresponding
event occurs. For example, when the mouse exits button <code>one</code>, the text box
should display “Mouse exits One.”</p>
</li>
<li>
<p><a id="iconSoundsExercise"></a> Modify <a href="chap15.html#IconExampleProgram">Program 15.8</a> such that clicking the
icon-decorated button plays the sound of a bat squeaking. You will need to add
an <code>ActionListener</code> to the button, create an audio clip for the desired
sound, and then play this clip when the button is clicked. Consider
visiting <a href="http://www.freesound.org" target="_blank" rel="noopener">Freesound.org</a> to find free sound files.</p>
</li>
<li>
<p><a id="selfieExercise"></a> Write a Java program that
creates a GUI containing a label with a picture of yourself.</p>
</li>
<li>
<p><a id="animalSoundsExercise"></a> Extend the <code>AnimalSounds</code> class
developed in <a href="chap15.html#animalSoundsExample">Example 15.9</a> to include sounds for
various animals. There are many publicly available sounds
files for use in your program. The Freesound link above is only one
source.</p>
</li>
<li>
<p><a id="stopPlayingSoundExercise"></a> In <a href="chap15.html#animalSoundsExample">Example 15.9</a> we stopped both the
chirp and the bark sounds because the action listener corresponding to the
“Stop Playing” button didn’t know which sound was playing. Modify
<a href="chap15.html#AnimalSoundsProgram">Program 15.7</a> so that only the sound that’s playing is stopped.
You may need to declare another variable to keep track of which is playing.</p>
</li>
<li>
<p><a id="hoverSoundExercise"></a> Modify <a href="chap15.html#AnimalIdentifierProgram">Program 15.11</a> so that it plays
a sound associated with an animal when the mouse is clicked over its label.
Note that this is an example of a situation where a <code>MouseListener</code> can be
used to listen for mouse click events though an <code>ActionListener</code> cannot. As in
<a href="chap15.html#iconSoundsExercise">Exercise 15.7</a> and <a href="chap15.html#animalSoundsExercise">Exercise 15.9</a>, you may need to download
sounds from the Internet.</p>
</li>
<li>
<p>Modify the GUI from <a href="chap15.html#_solution_math_tutor">Section 15.4</a> to display the problem number
the user’s working on. The first problem will be numbered “Problem&nbsp;1” with
subsequent problems 2, 3, and so on. The number should increase each
time the user hits the “Submit” button. Find a suitable place on the GUI
to display this information. You may need to add a panel to reorganize
the GUI.</p>
</li>
<li>
<p>Remove the <code>actionPerformed()</code> and
<code>itemStateChanged()</code> methods from the <code>MathTutor</code> class given in
<a href="chap15.html#_solution_math_tutor">Section 15.4</a>. Move the code from these methods into
individual anonymous inner classes added to the <code>add</code>, <code>subtract</code>,
<code>multiply</code>, <code>divide</code>, and <code>advanced</code> objects.</p>
<div class="paragraph">
<p>Note that you can now remove <code>ActionListener</code> and <code>ItemListener</code>
from the list of implemented interfaces for the <code>MathTutor</code> class.
Reorganizing the code this way should have no impact on the
functionality of the program. Is doing so a good idea? Why or why not?</p>
</div>
</li>
<li>
<p><a id="componentAddingOrderExercise"></a> In
<a href="chap15.html#FrameWithPanelAndActionsProgram">Program 15.3</a> exchange the first two
<code>add()</code> method calls on the <code>panel</code> so that <code>thatButton</code> is added to the
panel before <code>thisButton</code>. Explain how the appearance of the GUI is
changed.</p>
</li>
<li>
<p><a id="multipleAddsExercise"></a> Modify
<a href="chap15.html#FrameWithPanelProgram">Program 15.2</a> by adding a second panel named
<code>secondPanel</code>. Create a new button named <code>otherButton</code> with the label
“The Other.” Add <code>otherButton</code> to <code>secondPanel</code>. Now add <code>secondPanel</code> to
<code>frame</code> and look at the GUI generated. Can you explain why only components
from one of the panels is visible?</p>
</li>
<li>
<p><a id="resizingGUIExercise"></a> Remove the line&nbsp;<code>frame.setResizable(false);</code> from
<a href="chap15.html#FlowLayoutExampleProgram">Program 15.10</a>. Run the modified program and
resize the frame to various sizes. How does the placement of the buttons
change?</p>
</li>
<li>
<p><a id="packedGUIExercise"></a> Modify
<a href="chap15.html#FlowLayoutExampleProgram">Program 15.10</a> by deleting the lines that set the
frame size. What does the resulting GUI look like? Now add the following
code just before the line&nbsp;<code>frame.setResizable(false);</code>:</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="n">frame</span><span class="o">.</span><span class="na">pack</span><span class="o">();</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When you run the modified program, what’s the impact of using the
<code>pack()</code> method?</p>
</div>
</li>
<li>
<p><a id="GridLayoutExercise"></a> Create a GUI with a frame that uses
<code>GridLayout</code> and has a suitable size. Use a 3 × 2
layout with a horizontal and vertical spacing of 5 pixels each. Use a
loop to add eight buttons to your frame, labeled 1 through 8. Observe
how the frame expands to include all the buttons even though the
<code>GridLayout</code> only specified 6 cells. Depending on the
frame size, you might have to resize the window to see all cells and
buttons. What happens if you add fewer than 6?</p>
</li>
<li>
<p><a id="calculatorFunctionalityExercise"></a> Consider the calculator layout from
<a href="chap15.html#CalculatorLayoutProgram">Program 15.13</a>.  Add listeners to all of its buttons so that
clicking on the number buttons, the plus and minus buttons, and the “Enter”
button will make it perform like a calculator capable of addition and
subtraction. Note that you’ll need to add some additional fields to keep
track of the current value and whether or not the user has just pressed
the plus or minus buttons.</p>
</li>
<li>
<p><a id="addMenuBarExercise"></a> Write a Java program that creates
a GUI with a frame and a menu bar containing a single menu. Add a menu
item to this menu. Use the <code>add()</code> method, not the <code>setJMenuBar()</code>
method, to add the menu bar to the frame. What’s the difference between
using the <code>add()</code> method and the <code>setJMenuBar()</code> method to add a menu
bar to a <code>JFrame</code>?</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Experiments</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="21">
<li>
<p><a id="unresponsiveGUIExercise"></a> Recall that <a href="chap15.html#UnresponsiveGUIProgram">Program 15.16</a> is
unresponsive because the event dispatch thread goes to sleep for 5 seconds
(5,000 milliseconds). Experiment with this value to determine how much time
you can block the EDT before the GUI feels unresponsive.</p>
</li>
<li>
<p><a id="calculatingGUIExercise"></a> <a href="chap15.html#UnresponsiveGUIProgram">Program 15.16</a> is
unrealistic because the EDT simply goes to sleep. Normally, a GUI
becomes unresponsive because the EDT is performing extensive
calculations or doing slow I/O operations. Replace the line&nbsp;that sleeps with
a short loop that performs significant calculations. One simple way to spend
a lot of computational time is by summing the sines of random numbers, similar
to the work done in <a href="chap13.html#arraySummationExample">Example 13.10</a>. How many sines do you need to
compute to make the GUI unresponsive for 5 seconds?</p>
</li>
<li>
<p><a id="SwingWorkerExercise"></a> Take the computationally expensive loop
from <a href="chap15.html#calculatingGUIExercise">Exercise 15.22</a> and use it to replace the line that sleeps in
<a href="chap15.html#WorkerGUIProgram">Program 15.17</a>, the <code>SwingWorker</code> version of the program. Does the
program become unresponsive if you run it? If possible, run the program on Windows,
macOS, and Linux environments. If it’s unresponsive in some environments
but not others, why do you think that might be?</p>
</li>
</ol>
</div>
</div>
</div>
</div></div>

<nav>
  <a rel="prev" href="chap14.html" class="nav nav-prev" title="Previous page" aria-label="Previous page" aria-keyshortcuts="Left">
        <i class="fa fa-angle-left"></i>
     </a>
  <a rel="next" href="chap16.html" class="nav nav-next" title="Next page" aria-label="Next page" aria-keyshortcuts="Right">
        <i class="fa fa-angle-right"></i>
     </a>
  <div style="clear: both"></div>
</nav>
<div id="footer">
<div id="footer-text">
Last updated 2024-05-22 11:27:29 -0400
</div>
</div>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-VEDGKRPMMK"></script>
          <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-VEDGKRPMMK');
          </script>

</body>
  <script>
  function isInViewport(ele) {
    const rect = ele.getBoundingClientRect();
    return (
        rect.top >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)
    );
  }
  function yPosition (ele) {
    const rect = ele.getBoundingClientRect();
    return (rect.top - 20); // 20px above
  }
  let curr = document.getElementsByClassName('current');
  if (!isInViewport(curr[curr.length - 1])) {
    document.getElementById('toc').scrollTo({
      top: yPosition(curr[0]),
      left: 0,
      behavior: 'smooth'
    });
  }

  /* For page navigation */
  function gotoPage(selector) {
    const button = document.querySelector(selector);
    if (button)
      window.location.href = button.href;
  }
  document.addEventListener('keydown', e => {
    if (e.shiftKey)
      return;
    switch (e.key) {
      case 'ArrowRight':
        e.preventDefault();
        gotoPage('.nav-next');
        break;
      case 'ArrowLeft':
        e.preventDefault();
        gotoPage('.nav-prev');
        break;
    }
  });
  </script>
  </html>