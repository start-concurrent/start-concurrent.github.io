<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.7.1">
<meta name="author" content="Barry Wittman, Tim Korb, Aditya Mathur">
<title>Start Concurrent: A Gentle Introduction to Concurrent Programming</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote::before{display:none}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{word-spacing:0;line-height:1.6}
.quoteblock.abstract blockquote::before,.quoteblock.abstract p::before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
.listingblock .pygments .hll { background-color: #ffffcc }
.listingblock .pygments, .listingblock .pygments code { background: #f8f8f8; }
.listingblock .pygments .tok-c { color: #408080; font-style: italic } /* Comment */
.listingblock .pygments .tok-err { border: 1px solid #FF0000 } /* Error */
.listingblock .pygments .tok-k { color: #008000; font-weight: bold } /* Keyword */
.listingblock .pygments .tok-o { color: #666666 } /* Operator */
.listingblock .pygments .tok-ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.listingblock .pygments .tok-cm { color: #408080; font-style: italic } /* Comment.Multiline */
.listingblock .pygments .tok-cp { color: #BC7A00 } /* Comment.Preproc */
.listingblock .pygments .tok-cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.listingblock .pygments .tok-c1 { color: #408080; font-style: italic } /* Comment.Single */
.listingblock .pygments .tok-cs { color: #408080; font-style: italic } /* Comment.Special */
.listingblock .pygments .tok-gd { color: #A00000 } /* Generic.Deleted */
.listingblock .pygments .tok-ge { font-style: italic } /* Generic.Emph */
.listingblock .pygments .tok-gr { color: #FF0000 } /* Generic.Error */
.listingblock .pygments .tok-gh { color: #000080; font-weight: bold } /* Generic.Heading */
.listingblock .pygments .tok-gi { color: #00A000 } /* Generic.Inserted */
.listingblock .pygments .tok-go { color: #888888 } /* Generic.Output */
.listingblock .pygments .tok-gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.listingblock .pygments .tok-gs { font-weight: bold } /* Generic.Strong */
.listingblock .pygments .tok-gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.listingblock .pygments .tok-gt { color: #0044DD } /* Generic.Traceback */
.listingblock .pygments .tok-kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.listingblock .pygments .tok-kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.listingblock .pygments .tok-kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.listingblock .pygments .tok-kp { color: #008000 } /* Keyword.Pseudo */
.listingblock .pygments .tok-kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.listingblock .pygments .tok-kt { color: #B00040 } /* Keyword.Type */
.listingblock .pygments .tok-m { color: #666666 } /* Literal.Number */
.listingblock .pygments .tok-s { color: #BA2121 } /* Literal.String */
.listingblock .pygments .tok-na { color: #7D9029 } /* Name.Attribute */
.listingblock .pygments .tok-nb { color: #008000 } /* Name.Builtin */
.listingblock .pygments .tok-nc { color: #0000FF; font-weight: bold } /* Name.Class */
.listingblock .pygments .tok-no { color: #880000 } /* Name.Constant */
.listingblock .pygments .tok-nd { color: #AA22FF } /* Name.Decorator */
.listingblock .pygments .tok-ni { color: #999999; font-weight: bold } /* Name.Entity */
.listingblock .pygments .tok-ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.listingblock .pygments .tok-nf { color: #0000FF } /* Name.Function */
.listingblock .pygments .tok-nl { color: #A0A000 } /* Name.Label */
.listingblock .pygments .tok-nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.listingblock .pygments .tok-nt { color: #008000; font-weight: bold } /* Name.Tag */
.listingblock .pygments .tok-nv { color: #19177C } /* Name.Variable */
.listingblock .pygments .tok-ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.listingblock .pygments .tok-w { color: #bbbbbb } /* Text.Whitespace */
.listingblock .pygments .tok-mb { color: #666666 } /* Literal.Number.Bin */
.listingblock .pygments .tok-mf { color: #666666 } /* Literal.Number.Float */
.listingblock .pygments .tok-mh { color: #666666 } /* Literal.Number.Hex */
.listingblock .pygments .tok-mi { color: #666666 } /* Literal.Number.Integer */
.listingblock .pygments .tok-mo { color: #666666 } /* Literal.Number.Oct */
.listingblock .pygments .tok-sa { color: #BA2121 } /* Literal.String.Affix */
.listingblock .pygments .tok-sb { color: #BA2121 } /* Literal.String.Backtick */
.listingblock .pygments .tok-sc { color: #BA2121 } /* Literal.String.Char */
.listingblock .pygments .tok-dl { color: #BA2121 } /* Literal.String.Delimiter */
.listingblock .pygments .tok-sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.listingblock .pygments .tok-s2 { color: #BA2121 } /* Literal.String.Double */
.listingblock .pygments .tok-se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.listingblock .pygments .tok-sh { color: #BA2121 } /* Literal.String.Heredoc */
.listingblock .pygments .tok-si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.listingblock .pygments .tok-sx { color: #008000 } /* Literal.String.Other */
.listingblock .pygments .tok-sr { color: #BB6688 } /* Literal.String.Regex */
.listingblock .pygments .tok-s1 { color: #BA2121 } /* Literal.String.Single */
.listingblock .pygments .tok-ss { color: #19177C } /* Literal.String.Symbol */
.listingblock .pygments .tok-bp { color: #008000 } /* Name.Builtin.Pseudo */
.listingblock .pygments .tok-fm { color: #0000FF } /* Name.Function.Magic */
.listingblock .pygments .tok-vc { color: #19177C } /* Name.Variable.Class */
.listingblock .pygments .tok-vg { color: #19177C } /* Name.Variable.Global */
.listingblock .pygments .tok-vi { color: #19177C } /* Name.Variable.Instance */
.listingblock .pygments .tok-vm { color: #19177C } /* Name.Variable.Magic */
.listingblock .pygments .tok-il { color: #666666 } /* Literal.Number.Integer.Long */
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Start Concurrent: A Gentle Introduction to Concurrent Programming</h1>
<div class="details">
<span id="author" class="author">Barry Wittman</span><br>
<span id="email" class="email"><a href="mailto:wittman1@otterbein.edu">wittman1@otterbein.edu</a></span><br>
<span id="author2" class="author">Tim Korb</span><br>
<span id="email2" class="email"><a href="mailto:jtk@purdue.edu">jtk@purdue.edu</a></span><br>
<span id="author3" class="author">Aditya Mathur</span><br>
<span id="email3" class="email"><a href="mailto:apm@purdue.edu">apm@purdue.edu</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="index.html#ch01-computer-basics">1. Computer Basics</a>
<ul class="sectlevel2">
<li><a href="index.html#_problem_buying_a_computer">1.1. Problem: Buying a computer</a></li>
<li><a href="index.html#_concepts_hardware_and_software">1.2. Concepts: Hardware and software</a></li>
<li><a href="index.html#_syntax_data_representation">1.3. Syntax: Data representation</a></li>
<li><a href="index.html#_solution_buying_a_computer">1.4. Solution: Buying a computer</a></li>
<li><a href="index.html#_summary">1.5. Summary</a></li>
<li><a href="index.html#_exercises">1.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap1.html#ch02-intro">2. Problem Solving and Programming</a>
<ul class="sectlevel2">
<li><a href="chap1.html#_problem_how_to_solve_problems">2.1. Problem: How to solve problems</a></li>
<li><a href="chap1.html#_concepts_developing_software">2.2. Concepts: Developing software</a></li>
<li><a href="chap1.html#_syntax_java_basics">2.3. Syntax: Java basics</a></li>
<li><a href="chap1.html#_solution_how_to_solve_problems">2.4. Solution: How to solve problems</a></li>
<li><a href="chap1.html#_concurrency_solving_problems_in_parallel">2.5. Concurrency: Solving problems in parallel</a></li>
<li><a href="chap1.html#_summary_2">2.6. Summary</a></li>
<li><a href="chap1.html#_exercises_2">2.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap2.html#ch03-strings-primitive-types">3. Primitive Types and Strings</a>
<ul class="sectlevel2">
<li><a href="chap2.html#_problem_college_cost_calculator">3.1. Problem: College cost calculator</a></li>
<li><a href="chap2.html#_concepts_types">3.2. Concepts: Types</a></li>
<li><a href="chap2.html#_syntax_types_in_java">3.3. Syntax: Types in Java</a></li>
<li><a href="chap2.html#_syntax_useful_libraries">3.4. Syntax: Useful libraries</a></li>
<li><a href="chap2.html#_solution_college_cost_calculator">3.5. Solution: College cost calculator</a></li>
<li><a href="chap2.html#_concurrency_expressions">3.6. Concurrency: Expressions</a></li>
<li><a href="chap2.html#_summary_3">3.7. Summary</a></li>
<li><a href="chap2.html#_exercises_3">3.8. Exercises</a></li>
</ul>
</li>
<li><a href="chap3.html#ch04-selection">4. Selection</a>
<ul class="sectlevel2">
<li><a href="chap3.html#_problem_monty_hall_simulation">4.1. Problem: Monty Hall simulation</a></li>
<li><a href="chap3.html#_concepts_choosing_between_options">4.2. Concepts: Choosing between options</a></li>
<li><a href="chap3.html#_syntax_selection_in_java">4.3. Syntax: Selection in Java</a></li>
<li><a href="chap3.html#_solution_monty_hall">4.4. Solution: Monty Hall</a></li>
<li><a href="chap3.html#_concurrency_selection">4.5. Concurrency: Selection</a></li>
<li><a href="chap3.html#_exercises_4">4.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap4.html#ch05-repetition">5. Repetition</a>
<ul class="sectlevel2">
<li><a href="chap4.html#_problem_dna_searching">5.1. Problem: DNA searching</a></li>
<li><a href="chap4.html#_concepts_repetition">5.2. Concepts: Repetition</a></li>
<li><a href="chap4.html#_syntax_loops_in_java">5.3. Syntax: Loops in Java</a></li>
<li><a href="chap4.html#_solution_dna_searching">5.4. Solution: DNA searching</a></li>
<li><a href="chap4.html#_concurrency_loops">5.5. Concurrency: Loops</a></li>
<li><a href="chap4.html#_exercises_5">5.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap5.html#ch06-arrays">6. Arrays</a>
<ul class="sectlevel2">
<li><a href="chap5.html#_introduction">6.1. Introduction</a></li>
<li><a href="chap5.html#_problem_game_of_life">6.2. Problem: Game of Life</a></li>
<li><a href="chap5.html#_concepts_lists_of_data">6.3. Concepts: Lists of data</a></li>
<li><a href="chap5.html#_syntax_arrays_in_java">6.4. Syntax: Arrays in Java</a></li>
<li><a href="chap5.html#_examples_array_usage">6.5. Examples: Array usage</a></li>
<li><a href="chap5.html#_concepts_multidimensional_lists">6.6. Concepts: Multidimensional lists</a></li>
<li><a href="chap5.html#_syntax_advanced_arrays_in_java">6.7. Syntax: Advanced arrays in Java</a></li>
<li><a href="chap5.html#_examples_two_dimensional_arrays">6.8. Examples: Two-dimensional arrays</a></li>
<li><a href="chap5.html#_advanced_special_array_tools_in_java">6.9. Advanced: Special array tools in Java</a></li>
<li><a href="chap5.html#_solution_game_of_life">6.10. Solution: Game of Life</a></li>
<li><a href="chap5.html#_concurrency_arrays">6.11. Concurrency: Arrays</a></li>
<li><a href="chap5.html#_exercises_6">6.12. Exercises</a></li>
</ul>
</li>
<li><a href="chap6.html#ch07-gui-basics">7. Simple Graphical User Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap6.html#_problem_codon_extractor">7.1. Problem: Codon extractor</a></li>
<li><a href="chap6.html#GUIBasicsIntroductionSection">7.2. Concepts: User interaction</a></li>
<li><a href="chap6.html#_syntax_dialogs_and_the_joptionpane_class">7.3. Syntax: Dialogs and the <code>JOptionPane</code> class</a></li>
<li><a href="chap6.html#_solution_codon_extractor">7.4. Solution: Codon extractor</a></li>
<li><a href="chap6.html#_concurrency_simple_guis">7.5. Concurrency: Simple GUIs</a></li>
<li><a href="chap6.html#_summary_4">7.6. Summary</a></li>
<li><a href="chap6.html#_exercises_7">7.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap7.html#ch08-methods">8. Methods</a>
<ul class="sectlevel2">
<li><a href="chap7.html#_problem_three_card_poker">8.1. Problem: Three card poker</a></li>
<li><a href="chap7.html#_concepts_dividing_work_into_segments">8.2. Concepts: Dividing work into segments</a></li>
<li><a href="chap7.html#_syntax_methods">8.3. Syntax: Methods</a></li>
<li><a href="chap7.html#_examples_defining_methods">8.4. Examples: Defining methods</a></li>
<li><a href="chap7.html#_solution_three_card_poker">8.5. Solution: Three card poker</a></li>
<li><a href="chap7.html#_concurrency_methods">8.6. Concurrency: Methods</a></li>
<li><a href="chap7.html#_exercises_8">8.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap8.html#ch09-classes">9. Classes</a>
<ul class="sectlevel2">
<li><a href="chap8.html#_problem_nested_expressions">9.1. Problem: Nested expressions</a></li>
<li><a href="chap8.html#_concepts_object_oriented_programming">9.2. Concepts: Object-oriented programming</a></li>
<li><a href="chap8.html#_syntax_classes_in_java">9.3. Syntax: Classes in Java</a></li>
<li><a href="chap8.html#_examples_classes">9.4. Examples: Classes</a></li>
<li><a href="chap8.html#_advanced_nested_classes">9.5. Advanced: Nested classes</a></li>
<li><a href="chap8.html#_solution_nested_expressions">9.6. Solution: Nested expressions</a></li>
<li><a href="chap8.html#_concurrency_objects">9.7. Concurrency: Objects</a></li>
<li><a href="chap8.html#_exercises_9">9.8. Exercises</a></li>
</ul>
</li>
<li><a href="chap9.html#ch10-interfaces">10. Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap9.html#_problem_sort_it_out">10.1. Problem: Sort it out</a></li>
<li><a href="chap9.html#_concepts_making_a_promise">10.2. Concepts: Making a promise</a></li>
<li><a href="chap9.html#_syntax_interfaces">10.3. Syntax: Interfaces</a></li>
<li><a href="chap9.html#_advanced_local_and_anonymous_classes">10.4. Advanced: Local and anonymous classes</a></li>
<li><a href="chap9.html#_solution_sort_it_out">10.5. Solution: Sort it out</a></li>
<li><a href="chap9.html#_concurrency_interfaces">10.6. Concurrency: Interfaces</a></li>
<li><a href="chap9.html#_exercises_10">10.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap10.html#ch11-inheritance">11. Inheritance</a>
<ul class="sectlevel2">
<li><a href="chap10.html#_problem_boolean_circuits">11.1. Problem: Boolean circuits</a></li>
<li><a href="chap10.html#_concepts_refining_classes">11.2. Concepts: Refining classes</a></li>
<li><a href="chap10.html#_syntax_inheritance_in_java">11.3. Syntax: Inheritance in Java</a></li>
<li><a href="chap10.html#_examples_problem_solving_with_inheritance">11.4. Examples: Problem solving with inheritance</a></li>
<li><a href="chap10.html#_solution_boolean_circuits">11.5. Solution: Boolean circuits</a></li>
<li><a href="chap10.html#_concurrency_inheritance">11.6. Concurrency: Inheritance</a></li>
<li><a href="chap10.html#_exercises_11">11.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap11.html#ch12-exceptions">12. Exceptions</a>
<ul class="sectlevel2">
<li><a href="chap11.html#_problem_bank_burglary">12.1. Problem: Bank burglary</a></li>
<li><a href="chap11.html#_concepts_error_handling">12.2. Concepts: Error handling</a></li>
<li><a href="chap11.html#_syntax_exceptions_in_java">12.3. Syntax: Exceptions in Java</a></li>
<li><a href="chap11.html#_solution_bank_burglary">12.4. Solution: Bank burglary</a></li>
<li><a href="chap11.html#_concurrency_exceptions">12.5. Concurrency: Exceptions</a></li>
<li><a href="chap11.html#_exercises_12">12.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap12.html#ch13-concurrency">13. Concurrent Programming</a>
<ul class="sectlevel2">
<li><a href="chap12.html#_introduction_2">13.1. Introduction</a></li>
<li><a href="chap12.html#_problem_deadly_virus">13.2. Problem: Deadly virus</a></li>
<li><a href="chap12.html#_concepts_splitting_up_work">13.3. Concepts: Splitting up work</a></li>
<li><a href="chap12.html#_syntax_threads_in_java">13.4. Syntax: Threads in Java</a></li>
<li><a href="chap12.html#_examples_concurrency_and_speedup">13.5. Examples: Concurrency and speedup</a></li>
<li><a href="chap12.html#_concepts_thread_scheduling">13.6. Concepts: Thread scheduling</a></li>
<li><a href="chap12.html#_syntax_thread_states">13.7. Syntax: Thread states</a></li>
<li><a href="chap12.html#_solution_deadly_virus">13.8. Solution: Deadly virus</a></li>
<li><a href="chap12.html#_summary_5">13.9. Summary</a></li>
<li><a href="chap12.html#_exercises_13">13.10. Exercises</a></li>
</ul>
</li>
<li><a href="chap13.html#ch14-synchronization">14. Synchronization</a>
<ul class="sectlevel2">
<li><a href="chap13.html#_introduction_3">14.1. Introduction</a></li>
<li><a href="chap13.html#_problem_dining_philosophers">14.2. Problem: Dining philosophers</a></li>
<li><a href="chap13.html#_concepts_thread_interaction">14.3. Concepts: Thread interaction</a></li>
<li><a href="chap13.html#_syntax_thread_synchronization">14.4. Syntax: Thread synchronization</a></li>
<li><a href="chap13.html#_pitfalls_synchronization_challenges">14.5. Pitfalls: Synchronization challenges</a></li>
<li><a href="chap13.html#_solution_dining_philosophers">14.6. Solution: Dining philosophers</a></li>
<li><a href="chap13.html#_exercises_14">14.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap14.html#ch15-gui">15. Constructing Graphical User Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap14.html#_problem_math_applet">15.1. Problem: Math applet</a></li>
<li><a href="chap14.html#_concepts_graphical_user_interfaces">15.2. Concepts: Graphical user interfaces</a></li>
<li><a href="chap14.html#_syntax_guis_in_java">15.3. Syntax: GUIs in Java</a></li>
<li><a href="chap14.html#_solution_math_applet">15.4. Solution: Math applet</a></li>
<li><a href="chap14.html#_concurrency_guis">15.5. Concurrency: GUIs</a></li>
<li><a href="chap14.html#_summary_6">15.6. Summary</a></li>
<li><a href="chap14.html#_exercises_15">15.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap15.html#ch16-testing-and-debugging">16. Testing and Debugging</a>
<ul class="sectlevel2">
<li><a href="chap15.html#_fixing_bugs">16.1. Fixing bugs</a></li>
<li><a href="chap15.html#_concepts_approaches_to_debugging">16.2. Concepts: Approaches to debugging</a></li>
<li><a href="chap15.html#_syntax_java_debugging_tools">16.3. Syntax: Java debugging tools</a></li>
<li><a href="chap15.html#_concurrency_parallel_bugs">16.4. Concurrency: Parallel bugs</a></li>
<li><a href="chap15.html#_finding_and_avoiding_bugs">16.5. Finding and avoiding bugs</a></li>
<li><a href="chap15.html#_concepts_design_implementation_and_testing">16.6. Concepts: Design, implementation, and testing</a></li>
<li><a href="chap15.html#_syntax_java_testing_tools">16.7. Syntax: Java testing tools</a></li>
<li><a href="chap15.html#_concurrency_testing_tools">16.8. Concurrency: Testing tools</a></li>
<li><a href="chap15.html#_examples_testing_a_class">16.9. Examples: Testing a class</a></li>
<li><a href="chap15.html#_exercises_16">16.10. Exercises</a></li>
</ul>
</li>
<li><a href="chap16.html#ch17-polymorphism">17. Polymorphism</a>
<ul class="sectlevel2">
<li><a href="chap16.html#_problem_banking_account_with_a_vengeance">17.1. Problem: Banking account with a vengeance</a></li>
<li><a href="chap16.html#_concepts_polymorphism">17.2. Concepts: Polymorphism</a></li>
<li><a href="chap16.html#_syntax_inheritance_tools_in_java">17.3. Syntax: Inheritance tools in Java</a></li>
<li><a href="chap16.html#_solution_banking_account_with_a_vengeance">17.4. Solution: Banking account with a vengeance</a></li>
<li><a href="chap16.html#_concurrency_atomic_libraries">17.5. Concurrency: Atomic libraries</a></li>
<li><a href="chap16.html#_exercises_17">17.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap17.html#ch18-dynamic-data-structures">18. Dynamic Data Structures</a>
<ul class="sectlevel2">
<li><a href="chap17.html#_problem_infix_conversion">18.1. Problem: Infix conversion</a></li>
<li><a href="chap17.html#_concepts_dynamic_data_structures">18.2. Concepts: Dynamic data structures</a></li>
<li><a href="chap17.html#_syntax_dynamic_arrays_and_linked_lists">18.3. Syntax: Dynamic arrays and linked lists</a></li>
<li><a href="chap17.html#_syntax_abstract_data_types_adt">18.4. Syntax: Abstract data types (ADT)</a></li>
<li><a href="chap17.html#_advanced_generic_data_structures">18.5. Advanced: Generic data structures</a></li>
<li><a href="chap17.html#_solution_infix_conversion">18.6. Solution: Infix conversion</a></li>
<li><a href="chap17.html#_concurrency_linked_lists_and_thread_safety">18.7. Concurrency: Linked lists and thread safety</a></li>
<li><a href="chap17.html#_concurrency_thread_safe_libraries">18.8. Concurrency: Thread-safe libraries</a></li>
<li><a href="chap17.html#_exercises_18">18.9. Exercises</a></li>
</ul>
</li>
<li><a href="#ch19-recursion">19. Recursion</a>
<ul class="sectlevel2">
<li><a href="#_problem_maze_of_doom">19.1. Problem: Maze of doom</a></li>
<li><a href="#_concepts_recursive_problem_solving">19.2. Concepts: Recursive problem solving</a></li>
<li><a href="#_syntax_recursive_methods">19.3. Syntax: Recursive methods</a></li>
<li><a href="#_syntax_recursive_data_structures">19.4. Syntax: Recursive data structures</a></li>
<li><a href="#_solution_maze_of_doom">19.5. Solution: Maze of doom</a></li>
<li><a href="#_concurrency_futures">19.6. Concurrency: Futures</a></li>
<li><a href="#_exercises_19">19.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap19.html#ch20-file-io">20. File I/O</a>
<ul class="sectlevel2">
<li><a href="chap19.html#_problem_a_picture_is_worth_1000_bytes">20.1. Problem: A picture is worth 1,000 bytes</a></li>
<li><a href="chap19.html#_concepts_file_io">20.2. Concepts: File I/O</a></li>
<li><a href="chap19.html#_syntax_file_operations_in_java">20.3. Syntax: File operations in Java</a></li>
<li><a href="chap19.html#_examples_file_examples">20.4. Examples: File examples</a></li>
<li><a href="chap19.html#_solution_a_picture_is_worth_1000_bytes">20.5. Solution: A picture is worth 1,000 bytes</a></li>
<li><a href="chap19.html#_concurrency_file_io">20.6. Concurrency: File I/O</a></li>
<li><a href="chap19.html#_exercises_20">20.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap20.html#ch21-network-communication">21. Network Communication</a>
<ul class="sectlevel2">
<li><a href="chap20.html#_problem_web_server">21.1. Problem: Web server</a></li>
<li><a href="chap20.html#_concepts_tcpip_communication">21.2. Concepts: TCP/IP communication</a></li>
<li><a href="chap20.html#_syntax_networking_in_java">21.3. Syntax: Networking in Java</a></li>
<li><a href="chap20.html#_solution_web_server">21.4. Solution: Web server</a></li>
<li><a href="chap20.html#_concurrency_networking">21.5. Concurrency: Networking</a></li>
<li><a href="chap20.html#_exercises_21">21.6. Exercises</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content"><div class="sect1">
<h2 id="ch19-recursion">19. Recursion</h2>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>In order to understand recursion, you must first understand recursion.</p>
</div>
</blockquote>
<div class="attribution">
 Anonymous
</div>
</div>
<div class="sect2">
<h3 id="_problem_maze_of_doom">19.1. Problem: Maze of doom</h3>
<div class="paragraph">
<p>The evil mastermind from <a href="chap12.html#ch13-concurrency">Chapter 13</a> has
returned with a new attempt at world domination. Since he now knows that
you can use concurrency to crack his security code, this time he has
hidden his deadly virus in a secret location protected by a complex maze
of walls and passageways. Fortunately, youve been able to get a copy of
the maze floor plan, but now you must write a program to find a path
through the maze so you can steal the deadly virus before the evil
mastermind releases it on the world.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="chapters/19-recursion/images/maze.svg" alt="maze" width="50%">
</div>
<div class="title">Figure 77. Example of a maze to solve.</div>
</div>
<div class="paragraph">
<p>Finding a path through a maze involves systematically exploring twists
and turns, keeping track of where youve been, backtracking out of dead
ends, and producing a resulting path once you make it through. You
already have the basic tools necessary to solve this problem. You can,
for example, represent the maze with a two-dimensional array of
characters, where a plus ( <code>'+'</code> ) represents a wall and a space ( <code>' '</code> )
represents a passageway. You could create a path through the maze by
replacing a contiguous (vertical and horizontal but not diagonal)
sequence of <code>' '</code> characters by <code>'*'</code> characters, that lead from the
starting square to the final square where the deadly virus is located.</p>
</div>
<div class="paragraph">
<p>The difficulty is dead ends or, worse, loops. How do you keep track of
which paths youve tried that didnt work? While you could use
additional data structures to store this additional information,
<em>recursion</em> is a solution technique that makes solving problems like
this one surprisingly straightforward.</p>
</div>
</div>
<div class="sect2">
<h3 id="_concepts_recursive_problem_solving">19.2. Concepts: Recursive problem solving</h3>
<div class="paragraph">
<p>The idea that we use to solve this maze problem is called recursion.
Imagine that you are in a maze and have the choice to go right, left, or
straight. No matter which of the three paths you take, you will probably
be confronted by more choices of going right, left, or straight. You
need to explore them all systematically. The process of systematically
exploring the right path is similar to the process of systematically
exploring the left path. The choice at this moment between left, right,
and straight is in fact part of the same systematic process that you
want to follow when you are in the left, right, or straight branches of
the maze.</p>
</div>
<div class="paragraph">
<p>Solutions that can be described in terms of themselves are recursive.
But what is recursion? How can describing something in terms of itself
be useful? Since recursion sounds circular, how can it be applied to
problem solving in Java? How does the computer keep track of these
self-references? The following subsections address precisely these
questions.</p>
</div>
<div class="sect3">
<h4 id="_what_is_recursion">19.2.1. What is recursion?</h4>
<div class="paragraph">
<p>In the context of computer science and mathematics, recursion means
describing some repetitive process in terms of itself. Many complex
things can be described elegantly using recursion.</p>
</div>
<div class="paragraph">
<p>Consider the question, How old are you now? If you were 27, you
could answer, I am one year older than I was last year. If then
asked, Well, how old were you last year? Again, you could answer,
I was one year older than I was the year before. Assuming that the
person who wanted to wanted to know your age was very patient, you could
repeat this answer over and over, explaining that each year you have
been one year older than the previous year. However, after asking you 27
times about your age on the previous year, you would run out of years of
life and be forced to answer, Zero years old.</p>
</div>
<div class="paragraph">
<p>This absurd dialog shows an important feature of useful recursive
definitions: They have at least one <em>base case</em> and at least one
<em>recursive case</em>. The base case is the part of the definition that is
not described in terms of itself. It is a concrete answer. Without the
base case, the process would never end, and the definition would be
meaningless. The recursive case is the part of the definition that is
defined in terms of itself. Without the recursive case, the definition
could only describe a finite set of things.</p>
</div>
<div class="paragraph">
<p>In the example above, the base case is the age of zero years old. You
have no age before that. The recursive case is any age greater than zero
years old. We can use mathematical notation to describe your age in a
given year. Here \(age(year)\) is a function that gives the
age you were during year \(year\).</p>
</div>
<div class="paragraph">
<p>\(age(year) =
\begin{cases} 0 &amp; \text{if you were born in $year$} &amp; \text{(Base Case)}
\\
  1 + age(year-1) &amp; \text{if you were born before $year$} &amp; \text{(Recursive Case)}
\end{cases}\)</p>
</div>
<div class="paragraph">
<p>To be meaningful, recursive cases should be defined in terms of simpler
or smaller values. In English, it is equally correct to say that you are
now a year younger than youll be next year. Unfortunately, the age that
youll be next year is not any closer to a base case, making that
recursion useless.</p>
</div>
<div id="recursiveTreeFigure" class="imageblock">
<div class="content">
<img src="chapters/19-recursion/images/trees.svg" alt="trees" width="100%">
</div>
<div class="title">Figure 78. Recursive refinement generating a tree-like image.</div>
</div>
<div class="paragraph">
<p>A recursive definition of your age suggests that recursion is all around
us. It takes some work to write it down in formal notation, but
self-similarity is a constant theme in art and nature. The branching of
a trunk of a tree is similar to the branching of its limbs, which is
similar to the branching of its branches, which in turn is similar to
the branching of its twigs. In fact, we borrow the idea of the branching
of a tree to define a recursive data structure in
<a href="#_syntax_recursive_data_structures">Section 19.4</a>. <a href="#recursiveTreeFigure">Figure 78</a>
starts with a simple Y-shaped branching. By successively replacing the
branches with the previous shape, a tree is generated recursively.
<em>Fractals</em> are images generated by similar recursive techniques.
Although many real trees exhibit recursive tendencies, they do not
follow rules consistently or rigidly.</p>
</div>
</div>
<div class="sect3">
<h4 id="_recursive_definitions">19.2.2. Recursive definitions</h4>
<div class="paragraph">
<p>Although recursion has many fascinating applications, certain forms of
recursion are more useful for solving problems. As with many aspects of
programming, there is a strong connection to mathematical principles.</p>
</div>
<div class="paragraph">
<p>In mathematics, a <em>recursive definition</em> is one that is defined in terms
of itself. It is common to define functions and sequences (and also
sets) recursively. Functions (such as \(f(n)\)) are usually
defined in relation to the same function with a smaller input (such as
\(f(n - 1)\)). Sequences (such as \(s_n\)) are
usually defined in relation to earlier elements in the sequence (such as
\(s_{n - 1}\)).</p>
</div>
<div id="multiplicationDefinedRecursivelyExample" class="exampleblock">
<div class="title">Example 149. Multiplication defined recursively</div>
<div class="content">
<div class="paragraph">
<p>Even very common functions can be defined recursively. Consider the
multiplication \(x \times y\). This multiplication means
repeatedly adding the \(x\) a total of \(y\) times.
If \(y\) is a positive integer, we can describe this
multiplication with the following recursive definition. Note the base
case and recursive case.</p>
</div>
<div class="paragraph">
<p>\(x \times y =
\begin{cases} x &amp; \text{if  $y = 1$} &amp; \text{(Base Case)}
\\
x + \left(x \times (y - 1)\right) &amp; \text{if $y &gt; 1$} &amp; \text{(Recursive Case)}
\end{cases}\)</p>
</div>
<div class="paragraph">
<p>Multiplication seems like such a basic operation that there would be no
need to have such a definition. Yet mathematicians often use multiple
equivalent definitions to prove results. Furthermore, this elementary
definition provides intuition for creating more complex definitions.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#ex19-1">Exercise 19.1</a></p>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 150. Factorial defined recursively</div>
<div class="content">
<div class="paragraph">
<p>Another mathematical function with a natural recursive definition is the
factorial function, often written \(n!\). The factorial
function is used heavily in probability and counting. The value of
\(n! = n
\cdot(n - 1)\cdot(n - 2) \ldots 3 \cdot 2 \cdot 1\). Mathematicians
like recursive definitions because they are able to describe functions
and sequences precisely without using ellipses (\(\ldots\)).</p>
</div>
<div class="paragraph">
<p>\(n! =
\begin{cases} 1 &amp; \text{if  $n = 0$} &amp; \text{(Base Case)}
\\
n \cdot (n-1)! &amp; \text{if $n&gt;0$} &amp; \text{(Recursive Case)}
\end{cases}\)</p>
</div>
<div class="paragraph">
<p>Note that the base case gives \(1\) as the answer when
\(n = 0\). By convention \(0! = 1\). Thus, this
definition correctly gives \(0! = 1\),
\(1! = 1\cdot 0!
= 1\), \(2! = 2\cdot 1! = 2\),
\(3! = 3\cdot 2! = 6\), and so on.</p>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 151. Fibonacci defined recursively</div>
<div class="content">
<div class="paragraph">
<p>The Fibonacci sequence is an infinite sequence of integers starting with
1, 1, 2, 3, 5, 8, 13, 21, \(\ldots\). Each term after the two
initial 1s is the sum of the previous two terms in the sequence.
Fibonacci has many interesting properties and crops up in surprisingly
diverse areas of mathematics. It was originally used to model the growth
of rabbit populations.</p>
</div>
<div class="paragraph">
<p>The Fibonacci sequence also has a natural recursive mathematical
definition. Indeed, you may have noticed that we described each term as
the sum of the two previous terms. We can formally define the
\(n\)<sup>th</sup> Fibonacci number \(F_n\) as follows,
starting with \(n=0\). \(F_n=
\begin{cases} 1 &amp; \text{if  $n=0$ or  $n = 1$} &amp; \text{(Base
Cases)}
\\
F_{n-1}+F_{n-2} &amp; \text{if $n&gt;1$} &amp; \text{(Recursive Case)}
\end{cases}\)</p>
</div>
<div class="paragraph">
<p>Since the \(F_n\) depends on the two previous terms, it is
necessary to have two base cases. The Fibonacci sequence is a special
kind of Lucas sequence. Other Lucas sequences specify different values
for the two base cases (and sometimes coefficients to multiply the
previous terms by).</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_iteration_vs_recursion">19.2.3. Iteration vs. recursion</h4>
<div class="paragraph">
<p>These mathematical definitions are interesting, but what is their
relationship to Java code? So far, we have considered algorithms that
are iterative in nature: processing is performed as a sequence of
operations on elements of a sequential data structure. We sum the
elements of an array by iterating through them from first to last. We
multiply two matrices by using nested <code>for</code> loops to sequence through
the matrix contents in the proper order. Similarly, one method may make
a sequence of one or more calls to other methods. Were confident that
such computations terminate because we start at the beginning and work
to the end of a finite structure. But what if the structure is not a
simple linear or multidimensional array? The path were trying to find
through the maze is of unknown length and may not take a straight
line through the array.</p>
</div>
<div class="paragraph">
<p>A method may call other methods to complete its operation. For example,
a method that sorts a list of <code>String</code> values calls another method to do
pairwise comparison of the values in the list. A method that calls
<strong>itself</strong>, either directly or indirectly, is called a <em>recursive</em> method.</p>
</div>
<div class="paragraph">
<p>A recursive method may seem like a circular argument that never ends. In
fact, a recursive method only calls itself under certain circumstances.
Other times, it does not. A recursive method has the same two parts that
a mathematical recursive definition has.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Base case</dt>
<dd>
<p>The operation being computed is done without any recursive calls.</p>
</dd>
<dt class="hdlist1">Recursive case</dt>
<dd>
<p>The operation is broken down into smaller pieces, one or more of which
results in a recursive call to the method itself.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Each time a method calls itself recursively, it does so on a smaller
problem. Eventually it reaches a base case, and the recursion
terminates.</p>
</div>
<div class="paragraph">
<p>A recursive method is useful when a problem can be broken down into
smaller subproblems where each subproblem has the same structure as the
original, complete problem. These subproblems can be solved by recursive
calls and the results of those calls assembled to create a larger
solution.</p>
</div>
<div class="paragraph">
<p>Recursive methods are often surprisingly small given their complexity.
Each recursive call only makes a single step forward in the process of
solving the problem. In fact, it can appear that the problem is never
solved. The code has something like a leap of faith inside of it.
Assuming that you can solve a smaller subproblem, how do you put the
solutions together to solve the full problem? This assumption is the
leap of faith, but it works out as long as the subproblems get broken
down into smaller and smaller pieces that eventually reach a base case.</p>
</div>
<div class="paragraph">
<p>From a theoretical standpoint, any problem that can be solved
iteratively can be solved recursively, and vice versa. Iteration and
recursion are equivalent in computational power. Sometimes it is more
efficient or more elegant to use one approach or the other, and some
languages are designed to work better with a given approach.</p>
</div>
</div>
<div class="sect3">
<h4 id="_call_stack">19.2.4. Call stack</h4>
<div class="paragraph">
<p>Many programmers who are new to recursion feel uncomfortable about the
syntax. How can a method call itself? What does that even mean?</p>
</div>
<div class="paragraph">
<p>Recursion in Java is grounded in the idea of a call stack. We discuss
the stack abstract data type in <a href="chap17.html#ch18-dynamic-data-structures">Chapter 18</a>. A similar structure is used to control the flow of control
of a program as it calls methods.</p>
</div>
<div class="paragraph">
<p>Recall that a stack is a first in, last out (FILO) data structure. Each
time a method is called, its local variables are put on the call stack.
As the method executes, a pointer to the current operation it is
executing is kept on the call stack as well. This collection of local
variables and execution details for a method call is called the <em>stack
frame</em> or <em>activation record</em>. When another method is called, it pushes
its own stack frame onto the call stack as well, and its caller
remembers what it was executing before the call. When a method returns,
it pops its stack frame (the variables and state associated with its
execution) off the call stack.</p>
</div>
<div class="paragraph">
<p>A recursive method is called in exactly the same way. It puts another
copy of its stack frame on the call stack. Each call of the method has
its own stack frame and operates independently. There is no way to
access the variables from one call to the next, other than by passing in
parameters or returning values.</p>
</div>
<div class="paragraph">
<p><a href="#figure-recursive_calls">Figure 79</a> shows the stack frames being pushed
onto the call stack as the <code>main()</code> method calls the <code>factorial()</code>
method, starting with the argument <code>4</code>. The <code>factorial()</code> method
recursively calls itself with successively smaller values.</p>
</div>
<div id="figure-recursive_calls" class="imageblock">
<div class="content">
<img src="chapters/19-recursion/images/recursivecalls.svg" alt="recursivecalls" width="100%">
</div>
<div class="title">Figure 79. Successive recursive method calls getting added to the call stack.</div>
</div>
<div class="paragraph">
<p><a href="#figure-recursive_returns">Figure 80</a> shows the stack frames popping off
the call stack as each call to <code>factorial()</code> returns. As the answers are
returned, they are incorporated into the answer that is generated and
returned to the next caller in the sequence until the final answer <code>24</code>
(\(4!\)) is returned to <code>main()</code>.</p>
</div>
<div id="figure-recursive_returns" class="imageblock">
<div class="content">
<img src="chapters/19-recursion/images/recursivereturns.svg" alt="recursivereturns" width="100%">
</div>
<div class="title">Figure 80. Recursive methods returning results to their callers.</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_syntax_recursive_methods">19.3. Syntax: Recursive methods</h3>
<div class="paragraph">
<p>Unlike many <strong>Syntax</strong> sections in other chapters, there is no new Java
syntax to introduce here. Any method that calls itself, directly or
indirectly, is a recursive method. Recursive methods are simply methods
like any others, called in the normal way.</p>
</div>
<div class="paragraph">
<p>The real difficulty in learning to program recursively lies in breaking
out of the way you are used to thinking about program control flow. All
that you have learned about solving problems with iteration in previous
chapters may make it harder for you to embrace recursion.</p>
</div>
<div class="paragraph">
<p>Iteration views the whole problem at once and tries to sequence all the
pieces of the solution in some organized way. Recursion is only
concerned with the current step in the solution. If the current step is
one in which the answer is clear, youre in a base case. Otherwise, the
solution takes one step toward the answer and then makes the leap of
faith, allowing the recursion to take care of the rest. Programmers who
are new to recursion are often tempted to do too much in each recursive
call. Dont rush it!</p>
</div>
<div class="paragraph">
<p>The use of recursion in languages like Java owes much to the development
of <em>functional programming</em>. In many functional languages (such as
Scheme), there are no loops, and <strong>only</strong> recursion is allowed. In a
number of these languages, there is no assignment either. Each variable
has one value for its entire lifetime, and that value comes as a
parameter from whatever method called the current method.</p>
</div>
<div class="paragraph">
<p>It may seem odd to you, but this approach is a good one to follow when
writing recursive methods. Try <strong>not</strong> to assign variables inside your
methods. See if the work done in each method can be passed on as an
argument to the next method rather than changing the state inside the
current method. In that way, each recursive method is a frozen snapshot
of some part of the process of solving the problem. Of course, this
guideline is only a suggestion. Many practical recursive methods need to
assign variables internally, but a surprisingly large number do not.</p>
</div>
<div class="paragraph">
<p>Because the data inside these methods is tied so closely to the input
parameters and the return values given back to the caller, these methods
are often made <code>static</code>. Ideally, recursive methods do not change the
state of fields or class variables. Again, sometimes changing external
state is necessary, but recursive methods are meant to take in only
their input parameters and give back only return values. Recursive code
that reads and writes variables inside of objects or classes can be
difficult to understand and debug, since it depends on outside data.</p>
</div>
<div class="paragraph">
<p>With this information as background, we focus on examples for the rest
of this section. Because recursion is a new way of thinking, approach
these examples with an open mind. Many students have the experience that
recursion makes no sense until they see the right example. Then, the way
it works suddenly clicks. Do not be discouraged if recursion seems
difficult at first.</p>
</div>
<div class="paragraph">
<p>In this section, we work through examples of factorial computation,
Fibonacci numbers, the classic Tower of Hanoi problem, exponentiation.
These problems are mathematical in nature because the mathematical
recursion is easy to model in code. The next section applies recursion
to processing data structures.</p>
</div>
<div class="exampleblock">
<div class="title">Example 152. Factorial implemented recursively</div>
<div class="content">
<div class="paragraph">
<p>In our first example of a recursive implementation, we return to the
factorial function. Recall the recursive definition that describes the
function.</p>
</div>
<div class="paragraph">
<p>\(n! =
\begin{cases} 1 &amp; \text{if $n = 0$} &amp; \text{(Base Case)}
\\
n \cdot (n-1)! &amp; \text{if $n&gt;0$} &amp; \text{(Recursive Case)}
\end{cases}\)</p>
</div>
<div class="paragraph">
<p>By translating this mathematical definition almost directly into Java,
we can generate a method that computes the factorial function.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">long</span> <span class="tok-nf">factorial</span><span class="tok-o">(</span><span class="tok-kt">int</span> <span class="tok-n">n</span><span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">n</span> <span class="tok-o">==</span> <span class="tok-mi">0</span><span class="tok-o">)</span>     <span class="tok-c1">//base case</span>
            <span class="tok-k">return</span> <span class="tok-mi">1</span><span class="tok-o">;</span>
        <span class="tok-k">else</span>            <span class="tok-c1">//recursive case</span>
            <span class="tok-k">return</span> <span class="tok-n">n</span> <span class="tok-o">*</span> <span class="tok-n">factorial</span><span class="tok-o">(</span><span class="tok-n">n</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-o">);</span>
    <span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note the base case and recursive case are exactly the same as in the
recursive definition. The return type of the method is <code>long</code> because
factorial grows so quickly that only the first few values are small
enough to fit inside of an <code>int</code>.</p>
</div>
</div>
</div>
<div id="fibonacciImplementedRecursivelyExample" class="exampleblock">
<div class="title">Example 153. Fibonacci implemented recursively</div>
<div class="content">
<div class="paragraph">
<p>Let us return to the recursive definition of Fibonacci.</p>
</div>
<div class="paragraph">
<p>\(F_n=
\begin{cases} 1 &amp; \text{if  $n=0$ or $n = 1$} &amp; \text{(Base
Cases)}
\\
F_{n-1}+F_{n-2} &amp; \text{if  $n&gt;1$} &amp; \text{(Recursive Case)}
\end{cases}\)</p>
</div>
<div class="paragraph">
<p>Like factorial, this definition translates naturally into a recursive
method in Java.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">int</span> <span class="tok-nf">fibonacci</span><span class="tok-o">(</span><span class="tok-kt">int</span> <span class="tok-n">n</span><span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">n</span> <span class="tok-o">==</span> <span class="tok-mi">0</span> <span class="tok-o">||</span> <span class="tok-n">n</span> <span class="tok-o">==</span> <span class="tok-mi">1</span> <span class="tok-o">)</span>  <span class="tok-c1">//base cases</span>
        <span class="tok-k">return</span> <span class="tok-mi">1</span><span class="tok-o">;</span>
    <span class="tok-k">else</span>                    <span class="tok-c1">//recursive case</span>
        <span class="tok-k">return</span> <span class="tok-n">fibonacci</span><span class="tok-o">(</span><span class="tok-n">n</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-o">)</span> <span class="tok-o">+</span> <span class="tok-n">fibonacci</span><span class="tok-o">(</span><span class="tok-n">n</span><span class="tok-o">-</span><span class="tok-mi">2</span><span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>One significant problem with this example is performance. In this case,
the double recursion performs a great deal of redundant computation.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#ex19-3">Exercise 19.3</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>One technique for eliminating redundant computation in recursion is
called <em>memoization</em>. Whenever the value for a subproblem is computed,
we note down the result (like a memo). When we go to compute a value, we
first check to see if we have already found it.</p>
</div>
<div class="paragraph">
<p>To perform memoization for Fibonacci, we can pass an array of <code>int</code>
values of length <code>n + 1</code>. The values in this array all begin with a
value of <code>0</code>. When computing the Fibonacci value for a particular <code>n</code>,
we first check to see if its value is in the array. If not, we perform
the recursion and store the result in the array.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">int</span> <span class="tok-nf">fibonacci</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">n</span><span class="tok-o">,</span> <span class="tok-kt">int</span><span class="tok-o">[]</span> <span class="tok-n">results</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">results</span><span class="tok-o">[</span><span class="tok-n">n</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-mi">0</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">n</span> <span class="tok-o">==</span> <span class="tok-mi">0</span> <span class="tok-o">||</span> <span class="tok-n">n</span> <span class="tok-o">==</span> <span class="tok-mi">1</span> <span class="tok-o">)</span>
            <span class="tok-n">results</span><span class="tok-o">[</span><span class="tok-n">n</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-mi">1</span><span class="tok-o">;</span>
        <span class="tok-k">else</span>
            <span class="tok-n">results</span><span class="tok-o">[</span><span class="tok-n">n</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-n">fibonacci</span><span class="tok-o">(</span><span class="tok-n">n</span><span class="tok-o">-</span><span class="tok-mi">1</span><span class="tok-o">)</span> <span class="tok-o">+</span> <span class="tok-n">fibonacci</span><span class="tok-o">(</span><span class="tok-n">n</span><span class="tok-o">-</span><span class="tok-mi">2</span><span class="tok-o">);</span>
    <span class="tok-o">}</span>
    <span class="tok-k">return</span> <span class="tok-n">results</span><span class="tok-o">[</span><span class="tok-n">n</span><span class="tok-o">];</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This change makes the computation of the \(n\)<sup>th</sup> Fibonacci
number much more efficient; however, even more efficient approaches are
described in the exercises.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#ex19-6">Exercise 19.6</a><br>
<a href="#ex19-8">Exercise 19.8</a></p>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 154. Tower of Hanoi</div>
<div class="content">
<div class="paragraph">
<p>The famous Tower of Hanoi puzzle is another example commonly used to
illustrate recursion. In this puzzle, there are three poles containing a
number of different sized disks. The puzzle begins with all disks
arranged in a tower on one pole in decreasing size, with the smallest
diameter disk on top and the largest on the bottom.
<a href="#figure-hanoi">Figure 81</a> shows an example of the puzzle. The goal is to
move all the disks from the initial pole to the final pole, with two
restrictions:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>only one disk can be moved at a time</p>
</li>
<li>
<p>a larger disk can never be placed on top of a smaller disk</p>
</li>
</ol>
</div>
<div id="figure-hanoi" class="imageblock">
<div class="content">
<img src="chapters/19-recursion/images/hanoi.svg" alt="hanoi" width="100%">
</div>
<div class="title">Figure 81. Tower of Hanoi puzzle with 4 disks on the initial pole.</div>
</div>
<div class="paragraph">
<p>The extra pole is used as a holder for intermediate moves. The idea
behind the recursive solution follows.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Base Case</dt>
<dd>
<p>Moving one disk is easy. Just move it from the pole its on to the
destination pole.</p>
</dd>
<dt class="hdlist1">Recursive Case</dt>
<dd>
<p>In order to move \(n &gt; 1\) disks from one pole to another,
we can move \(n - 1\) disks to an intermediate pole, move
the \(n\)<sup>th</sup> disk to the destination pole, then move the
\(n - 1\) disks from the intermediate pole to the
destination pole.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The Tower of Hanoi solution in Java translates this outline into code.</p>
</div>
<div id="TowerOfHanoiProgram" class="listingblock">
<div class="title">Program 102. Recursive solution to the Tower of Hanoi with four disks and poles named <code>'A'</code>, <code>'B'</code>, and <code>'C'</code>.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">TowerOfHanoi</span> <span class="tok-o">{</span>
<span class="lineno"> 2 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 3 </span>        <span class="tok-n">move</span><span class="tok-o">(</span><span class="tok-mi">4</span><span class="tok-o">,</span> <span class="tok-sc">'A'</span><span class="tok-o">,</span> <span class="tok-sc">'C'</span><span class="tok-o">,</span> <span class="tok-sc">'B'</span><span class="tok-o">);</span>
<span class="lineno"> 4 </span>    <span class="tok-o">}</span>
<span class="lineno"> 5 </span>
<span class="lineno"> 6 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">move</span><span class="tok-o">(</span><span class="tok-kt">int</span> <span class="tok-n">n</span><span class="tok-o">,</span> <span class="tok-kt">char</span> <span class="tok-n">fromPole</span><span class="tok-o">,</span> <span class="tok-kt">char</span> <span class="tok-n">toPole</span><span class="tok-o">,</span>
<span class="lineno"> 7 </span>        <span class="tok-kt">char</span> <span class="tok-n">viaPole</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 8 </span>        <span class="tok-k">if</span> <span class="tok-o">(</span><span class="tok-n">n</span> <span class="tok-o">==</span> <span class="tok-mi">1</span><span class="tok-o">)</span>
<span class="lineno"> 9 </span>            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">format</span><span class="tok-o">(</span>
<span class="lineno">10 </span>                <span class="tok-s">&quot;Move disk from pole %c to pole %c.\n&quot;</span><span class="tok-o">,</span>
<span class="lineno">11 </span>                <span class="tok-n">fromPole</span><span class="tok-o">,</span> <span class="tok-n">toPole</span><span class="tok-o">);</span>
<span class="lineno">12 </span>        <span class="tok-k">else</span> <span class="tok-o">{</span>
<span class="lineno">13 </span>            <span class="tok-n">move</span><span class="tok-o">(</span><span class="tok-n">n</span> <span class="tok-o">-</span> <span class="tok-mi">1</span><span class="tok-o">,</span> <span class="tok-n">fromPole</span><span class="tok-o">,</span> <span class="tok-n">viaPole</span><span class="tok-o">,</span> <span class="tok-n">toPole</span><span class="tok-o">);</span>
<span class="lineno">14 </span>            <span class="tok-n">move</span><span class="tok-o">(</span><span class="tok-mi">1</span><span class="tok-o">,</span> <span class="tok-n">fromPole</span><span class="tok-o">,</span> <span class="tok-n">toPole</span><span class="tok-o">,</span> <span class="tok-n">viaPole</span><span class="tok-o">);</span>
<span class="lineno">15 </span>            <span class="tok-n">move</span><span class="tok-o">(</span><span class="tok-n">n</span> <span class="tok-o">-</span> <span class="tok-mi">1</span><span class="tok-o">,</span> <span class="tok-n">viaPole</span><span class="tok-o">,</span> <span class="tok-n">toPole</span><span class="tok-o">,</span> <span class="tok-n">fromPole</span><span class="tok-o">);</span>
<span class="lineno">16 </span>        <span class="tok-o">}</span>
<span class="lineno">17 </span>    <span class="tok-o">}</span>
<span class="lineno">18 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A legend tells of monks that are solving the Tower of Hanoi puzzle with
64 disks. The legend predicts that the world will end when they finish.
Run the implementation above with different numbers of disks to see how
long the sequence of moves is. Try small numbers of disks, since large
numbers of disks takes a very long time.</p>
</div>
</div>
</div>
<div id="exponentiationExample" class="exampleblock">
<div class="title">Example 155. Exponentiation</div>
<div class="content">
<div class="paragraph">
<p>Both Fibonacci and the Tower of Hanoi have natural recursive structures.
In the case of Fibonacci, one way to implement its natural recursive
definition results in very wasteful computation. In the case of the
Tower of Hanoi, the <strong>only</strong> way to solve the problem takes an
excruciatingly long amount of time.</p>
</div>
<div class="paragraph">
<p>However, we can apply recursion to many practical problems and get
efficient solutions. Consider the problem of exponentiation, which looks
trivial: Given a rational number \(a\) and a positive integer
\(n\), find the value of \(a^n\).</p>
</div>
<div class="paragraph">
<p>Its tempting to call <code>Math.pow(a, n)</code> or to use a short <code>for</code> loop to
compute this value, but what if neither tool existed in Java? A simple
recursive formulation can describe exponentiation.</p>
</div>
<div class="paragraph">
<p>\(a^n =
\begin{cases} a &amp; \text{if $n=1$} &amp; \text{(Base case)}
\\
a \cdot a^{n - 1} &amp; \text{if $n&gt;1$} &amp; \text{(Recursive case)}
\end{cases}\)</p>
</div>
<div class="paragraph">
<p>As with factorial and Fibonacci, directly converting the recursive
definition into Java syntax yields a method that computes the correct
value.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">double</span> <span class="tok-nf">power</span><span class="tok-o">(</span><span class="tok-kt">double</span> <span class="tok-n">a</span><span class="tok-o">,</span> <span class="tok-kt">int</span> <span class="tok-n">n</span><span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">n</span> <span class="tok-o">==</span> <span class="tok-mi">1</span> <span class="tok-o">)</span>    <span class="tok-c1">//base case</span>
        <span class="tok-k">return</span> <span class="tok-n">a</span><span class="tok-o">;</span>
    <span class="tok-k">else</span>            <span class="tok-c1">//recursive case</span>
        <span class="tok-k">return</span> <span class="tok-n">a</span><span class="tok-o">*</span><span class="tok-n">power</span><span class="tok-o">(</span><span class="tok-n">a</span><span class="tok-o">,</span> <span class="tok-n">n</span> <span class="tok-o">-</span> <span class="tok-mi">1</span><span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Admittedly, this method only works for positive integer values of
\(n\). Ignoring that limitation, what can we say about its
efficiency? For any legal value of \(n\), the method is called
\(n\) times. If \(n\) has a small value, like 2 or
3, the process is quick. But if \(n\) is 1,000,000 or so, the
method might take a while to finish. Another problem is that stack size
is limited. On most systems, the JVM crashes with a <code>StackOverflowError</code>
if a method tries to call itself recursively a 1,000,000 times.</p>
</div>
<div class="paragraph">
<p>If we limit \(n\) to a power of 2, we can do something clever
that makes the method much more efficient with many fewer recursive
calls. Consider this alternative recursion definition of exponentiation.</p>
</div>
<div class="paragraph">
<p>\(a^n =
\begin{cases} a &amp; \text{if  $n=1$} &amp; \text{(Base Case)}
\\
\left(a^{\frac{n}{2}}\right)^2 &amp; \text{if  $n&gt;1$} &amp; \text{(Base Case)}
\end{cases}\)</p>
</div>
<div class="paragraph">
<p>Recalling basic rules of exponents,
\(a^n = \left(a^{\frac{n}{2}}\right)^2\), but what does that
buy us? If we structure our method correctly, we cut the size of
\(n\) in half at each recursive step instead of only reducing
\(n\) by 1.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">double</span> <span class="tok-nf">power</span><span class="tok-o">(</span><span class="tok-kt">double</span> <span class="tok-n">a</span><span class="tok-o">,</span> <span class="tok-kt">int</span> <span class="tok-n">n</span><span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">n</span> <span class="tok-o">==</span> <span class="tok-mi">1</span> <span class="tok-o">)</span>    <span class="tok-c1">//base case</span>
        <span class="tok-k">return</span> <span class="tok-n">a</span><span class="tok-o">;</span>
    <span class="tok-k">else</span> <span class="tok-o">{</span>          <span class="tok-c1">//recursive case</span>
        <span class="tok-kt">double</span> <span class="tok-n">temp</span> <span class="tok-o">=</span> <span class="tok-n">power</span><span class="tok-o">(</span><span class="tok-n">a</span><span class="tok-o">,</span> <span class="tok-n">n</span><span class="tok-o">/</span><span class="tok-mi">2</span><span class="tok-o">);</span>
        <span class="tok-k">return</span> <span class="tok-n">temp</span><span class="tok-o">*</span><span class="tok-n">temp</span><span class="tok-o">;</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that we only make the recursive call once and save it in <code>temp</code>. If
we made two recursive calls, we would no longer be more efficient than
the previous method. That version took \(n\) recursive calls.
How efficient is this version? The answer is the number of times you
have to cut \(n\) in half before you get 1. Lets call that
value \(x\). Recall that \(n\) is a power of 2,
meaning that \(n = 2^k\) for some integer
\(k \geq 0\).</p>
</div>
<div class="paragraph">
<p>\(\begin{aligned}
\left(\frac{1}{2}\right)^x \cdot n &amp;= 1\\
2^x\left(\frac{1}{2}\right)^x \cdot n &amp;= 2^x\\
n &amp;= 2^x\\
2^k &amp;= 2^x\\
k &amp;= x\\
\log_2 n &amp;= x\\\end{aligned}\)</p>
</div>
<div class="paragraph">
<p>In other words, the number of times you have to divide \(n\)
in half to get 1 is the logarithm base 2 of \(n\), written
\(\log_2 n\). The logarithm function is the inverse of
exponentiation. It cuts any number down to size very quickly (just as
exponentiation blows up the value of a number very quickly). For
example, \(2^{20} = 1,048,576\). Thus,
\(\log_2 1,048,576 = 20\). The original version of <code>power()</code>
would have to make 1,048,576 calls to raise a number to that power. This
second version would only have to make 20 calls.</p>
</div>
<div class="paragraph">
<p>It is critical that \(n\) is a power of 2 (1, 2, 4, 8, ),
otherwise the process of repeatedly cutting \(n\) in half
loses some data due to integer division. The problem is that, at some
point in the recursion, the value of \(n\) is odd unless you
start with a power of 2. There is a way to extend this clever approach
to all values of \(n\), even and odd, but we leave it as an
exercise.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#ex19-7">Exercise 19.7</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Recursion offers elegant ways to compute mathematical functions like
those we have explored in this section. Recursion also offers powerful
ways to manipulate data structures. As we show in the next section,
recursive methods are especially well suited to use with recursive data
structures.</p>
</div>
</div>
<div class="sect2">
<h3 id="_syntax_recursive_data_structures">19.4. Syntax: Recursive data structures</h3>
<div class="paragraph">
<p>Because recursion can be used to do anything that iteration can do, it
is clear that data structures can be processed recursively. For example,
the following recursive method reverses the contents of an array. It
keeps track of the position in the array it is swapping with the
<code>position</code> parameter. This method is initially called with a value of
<code>0</code> passed as an argument for <code>position</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">reverse</span><span class="tok-o">(</span> <span class="tok-kt">int</span><span class="tok-o">[]</span> <span class="tok-n">array</span><span class="tok-o">,</span> <span class="tok-kt">int</span> <span class="tok-n">position</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">position</span> <span class="tok-o">&lt;</span> <span class="tok-n">array</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">/</span><span class="tok-mi">2</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-kt">int</span> <span class="tok-n">temp</span> <span class="tok-o">=</span> <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">position</span><span class="tok-o">];</span>
        <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">position</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">array</span><span class="tok-o">.</span><span class="tok-na">length</span> <span class="tok-o">-</span> <span class="tok-n">position</span> <span class="tok-o">-</span> <span class="tok-mi">1</span><span class="tok-o">];</span>
        <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">array</span><span class="tok-o">.</span><span class="tok-na">length</span> <span class="tok-o">-</span> <span class="tok-n">position</span> <span class="tok-o">-</span> <span class="tok-mi">1</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-n">temp</span><span class="tok-o">;</span>
        <span class="tok-n">reverse</span><span class="tok-o">(</span> <span class="tok-n">array</span><span class="tok-o">,</span> <span class="tok-n">position</span> <span class="tok-o">+</span> <span class="tok-mi">1</span> <span class="tok-o">);</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that nothing is done in the base case for this recursive method.
The recursion swaps the first element of the array (at index <code>0</code>) with
the last (at index <code>array.length - 1</code>). Recursion continues until
<code>position</code> has reached half the length of <code>array</code>. If execution
continued past the halfway point, it would begin to swap elements that
had already been swapped.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#ex19-5">Exercise 19.5</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Although it is possible to reverse an array recursively, there is
usually no advantage in doing so. We introduced bubble sort and selection
sort in previous chapters, but neither of these algorithms is very fast.
Many of the best sorting algorithms are recursive, as in the following
example of merge sort.</p>
</div>
<div id="mergeSortExample" class="exampleblock">
<div class="title">Example 156. Merge sort</div>
<div class="content">
<div class="paragraph">
<p>Merge sort is an efficient sorting algorithm that is usually implemented
recursively. The idea of the sort is to break a list of items in half
and recursively merge sort each half. Then, these two sorted halves are
merged back together into the final sorted list. The base case of the
recursion is when theres only a single item in the list, since a list
with only one thing in it is, by definition, sorted.</p>
</div>
<div class="paragraph">
<p>Here is a method that recursively sorts an <code>int</code> array using the merge
sort algorithm.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">mergeSort</span><span class="tok-o">(</span> <span class="tok-kt">int</span><span class="tok-o">[]</span> <span class="tok-n">array</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">array</span><span class="tok-o">.</span><span class="tok-na">length</span> <span class="tok-o">&gt;</span> <span class="tok-mi">1</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-kt">int</span><span class="tok-o">[]</span> <span class="tok-n">a</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-kt">int</span><span class="tok-o">[</span><span class="tok-n">array</span><span class="tok-o">.</span><span class="tok-na">length</span> <span class="tok-o">/</span> <span class="tok-mi">2</span><span class="tok-o">];</span>
        <span class="tok-kt">int</span><span class="tok-o">[]</span> <span class="tok-n">b</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-kt">int</span><span class="tok-o">[</span><span class="tok-n">array</span><span class="tok-o">.</span><span class="tok-na">length</span> <span class="tok-o">-</span> <span class="tok-n">a</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">];</span>
        <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">a</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">;</span> <span class="tok-o">++</span><span class="tok-n">i</span> <span class="tok-o">)</span>
            <span class="tok-n">a</span><span class="tok-o">[</span><span class="tok-n">i</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">i</span><span class="tok-o">];</span>
        <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">b</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">;</span> <span class="tok-o">++</span><span class="tok-n">i</span> <span class="tok-o">)</span>
            <span class="tok-n">b</span><span class="tok-o">[</span><span class="tok-n">i</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">a</span><span class="tok-o">.</span><span class="tok-na">length</span> <span class="tok-o">+</span> <span class="tok-n">i</span><span class="tok-o">];</span>
        <span class="tok-n">mergeSort</span><span class="tok-o">(</span> <span class="tok-n">a</span> <span class="tok-o">);</span>
        <span class="tok-n">mergeSort</span><span class="tok-o">(</span> <span class="tok-n">b</span> <span class="tok-o">);</span>
        <span class="tok-n">merge</span><span class="tok-o">(</span> <span class="tok-n">array</span><span class="tok-o">,</span> <span class="tok-n">a</span><span class="tok-o">,</span> <span class="tok-n">b</span> <span class="tok-o">);</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>mergeSort()</code> method is quite short and appears to do very little.
It starts by creating arrays <code>a</code> and <code>b</code> and copying roughly half of the
elements in <code>array</code> into each. We make <code>a</code> half the size of <code>array</code>, but
we cant do the same thing for <code>b</code> because an odd length for <code>array</code>
would leave us without enough space in <code>a</code> and <code>b</code> to hold everything
from <code>array</code>. Instead, we let <code>b</code> hold however much is leftover after
the elements for <code>a</code> have been accounted for.</p>
</div>
<div class="paragraph">
<p>Then, arrays <code>a</code> and <code>b</code> are recursively sorted. Finally, these two
sorted arrays are merged back into <code>array</code> in sorted order using a
helper method called <code>merge()</code>. This method is non-recursive and does
much of the real work in the algorithm.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">merge</span><span class="tok-o">(</span> <span class="tok-kt">int</span><span class="tok-o">[]</span> <span class="tok-n">array</span><span class="tok-o">,</span> <span class="tok-kt">int</span><span class="tok-o">[]</span> <span class="tok-n">a</span><span class="tok-o">,</span> <span class="tok-kt">int</span><span class="tok-o">[]</span> <span class="tok-n">b</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
    <span class="tok-kt">int</span> <span class="tok-n">aIndex</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
    <span class="tok-kt">int</span> <span class="tok-n">bIndex</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
    <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">array</span><span class="tok-o">.</span><span class="tok-na">length</span><span class="tok-o">;</span> <span class="tok-o">++</span><span class="tok-n">i</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">bIndex</span> <span class="tok-o">&gt;=</span> <span class="tok-n">b</span><span class="tok-o">.</span><span class="tok-na">length</span> <span class="tok-o">)</span>
            <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">i</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-n">a</span><span class="tok-o">[</span><span class="tok-n">aIndex</span><span class="tok-o">++];</span>
        <span class="tok-k">else</span> <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">aIndex</span> <span class="tok-o">&gt;=</span> <span class="tok-n">a</span><span class="tok-o">.</span><span class="tok-na">length</span> <span class="tok-o">)</span>
            <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">i</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-n">b</span><span class="tok-o">[</span><span class="tok-n">bIndex</span><span class="tok-o">++];</span>
        <span class="tok-k">else</span> <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">a</span><span class="tok-o">[</span><span class="tok-n">aIndex</span><span class="tok-o">]</span> <span class="tok-o">&lt;=</span> <span class="tok-n">b</span><span class="tok-o">[</span><span class="tok-n">bIndex</span><span class="tok-o">]</span> <span class="tok-o">)</span>
            <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">i</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-n">a</span><span class="tok-o">[</span><span class="tok-n">aIndex</span><span class="tok-o">++];</span>
        <span class="tok-k">else</span>
            <span class="tok-n">array</span><span class="tok-o">[</span><span class="tok-n">i</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-n">b</span><span class="tok-o">[</span><span class="tok-n">bIndex</span><span class="tok-o">++];</span>
    <span class="tok-o">}</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>merge()</code> method loops through all the elements in <code>array</code>, filling
them in. We keep two indexes, <code>aIndex</code> and <code>bIndex</code>, that keep track of
our current positions in the <code>a</code> and <code>b</code> arrays, respectively. This
method assumes that <code>a</code> and <code>b</code> are sorted and that the sum of their
lengths is the length of <code>array</code>. We want to compare each element in <code>a</code>
and <code>b</code>, always taking the smaller and putting it into the next
available location in <code>array</code>. Since the next smallest item could be in
either <code>a</code> or <code>b</code>, we never know when well run out of elements in
either array. Thats why the first two <code>if</code> statements in the <code>merge()</code>
method check to see if the <code>bIndex</code> or the <code>aIndex</code> is already past the
last element in its respective array. If so, the next element from the
other array is automatically used. By the time the third <code>if</code> statement
is reached, we are certain that both indexes are valid and can compare
the elements at those locations to see which is smaller.</p>
</div>
<div class="paragraph">
<p>Sorting lists using the merge sort algorithm seems more complicated than
using bubble sort or selection sort, but this additional complication
pays dividends. For large lists, merge sort performs much faster than
either of those sorts. In fact, it is comparable in speed to the best
general sorting algorithms that are possible.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#ex19-15">Exercise 19.15</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>Although recursive sorting algorithms are useful for arrays, recursion
really shines when manipulating <em>recursive data structures</em>. A recursive
data structure is one that is defined in terms of itself. For example,
class <code>X</code> is recursive if there is a field inside <code>X</code> with type <code>X</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">X</span> <span class="tok-o">{</span>
    <span class="tok-kd">private</span> <span class="tok-kt">int</span> <span class="tok-n">a</span><span class="tok-o">,</span> <span class="tok-n">b</span><span class="tok-o">;</span>
    <span class="tok-kd">private</span> <span class="tok-n">X</span> <span class="tok-n">x</span><span class="tok-o">;</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The linked list examples from <a href="chap17.html#ch18-dynamic-data-structures">Chapter 18</a> are recursive data structures, since a linked list node is
defined in terms of itself. You may not have thought of the linked list
<code>Node</code> class as being recursive since it simply has a reference to
another <code>Node</code> inside it. However, this self-reference is the essence of
a recursive data structure.</p>
</div>
<div class="paragraph">
<p>Data structures are often defined recursively. We typically need to
represent an unbounded collection of data, but we always write bounded
programs to describe the data. A recursive data structure allows us to
bridge the gap between a compile-time, fixed length definition and a
run-time, unbounded collection of objects.</p>
</div>
<div class="paragraph">
<p>Recursive data structures have a base case to end the recursion.
Typically, the end of the recursion is indicated by a link with a <code>null</code>
value. For example, in the last node of a linked list, the link field is
<code>null</code>. Unsurprisingly, recursive methods are frequently used to
manipulate recursive data structures.</p>
</div>
<div id="recursiveLinkedListSizeExample" class="exampleblock">
<div class="title">Example 157. Recursive linked list size</div>
<div class="content">
<div class="paragraph">
<p>How would you get the size of a linked list? The implementation in
<a href="chap17.html#LinkedListProgram">Program 83</a> keeps track of its size as it grows, but
what if it didnt? A standard way to count the elements in the list
would be to start with a reference to the head of the list and a counter
with value zero. As long as the reference is not <code>null</code>, add one to the
counter and set the reference to the next element on the list.
<a href="#IterativeListSizeProgram">Program 103</a> counts the elements in this way.</p>
</div>
<div id="IterativeListSizeProgram" class="listingblock">
<div class="title">Program 103. Linked list implementation whose <code>size()</code> method counts its elements iteratively.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">IterativeListSize</span> <span class="tok-o">{</span>
<span class="lineno"> 2 </span>    <span class="tok-kd">private</span> <span class="tok-kd">static</span> <span class="tok-kd">class</span> <span class="tok-nc">Node</span> <span class="tok-o">{</span>
<span class="lineno"> 3 </span>        <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-n">value</span><span class="tok-o">;</span>
<span class="lineno"> 4 </span>        <span class="tok-kd">public</span> <span class="tok-n">Node</span> <span class="tok-n">next</span><span class="tok-o">;</span>
<span class="lineno"> 5 </span>    <span class="tok-o">}</span>
<span class="lineno"> 6 </span>
<span class="lineno"> 7 </span>    <span class="tok-kd">private</span> <span class="tok-n">Node</span> <span class="tok-n">head</span> <span class="tok-o">=</span> <span class="tok-kc">null</span><span class="tok-o">;</span>
<span class="lineno"> 8 </span>
<span class="lineno"> 9 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">add</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">value</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">10 </span>        <span class="tok-n">Node</span> <span class="tok-n">temp</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Node</span><span class="tok-o">();</span>
<span class="lineno">11 </span>        <span class="tok-n">temp</span><span class="tok-o">.</span><span class="tok-na">value</span> <span class="tok-o">=</span> <span class="tok-n">value</span><span class="tok-o">;</span>
<span class="lineno">12 </span>        <span class="tok-n">temp</span><span class="tok-o">.</span><span class="tok-na">next</span> <span class="tok-o">=</span> <span class="tok-n">head</span><span class="tok-o">;</span>
<span class="lineno">13 </span>        <span class="tok-n">head</span> <span class="tok-o">=</span> <span class="tok-n">temp</span><span class="tok-o">;</span>
<span class="lineno">14 </span>    <span class="tok-o">}</span>
<span class="lineno">15 </span>
<span class="lineno">16 </span>    <span class="tok-kd">public</span> <span class="tok-kt">int</span> <span class="tok-nf">size</span><span class="tok-o">()</span> <span class="tok-o">{</span>
<span class="lineno">17 </span>        <span class="tok-n">Node</span> <span class="tok-n">current</span> <span class="tok-o">=</span> <span class="tok-n">head</span><span class="tok-o">;</span>
<span class="lineno">18 </span>        <span class="tok-kt">int</span> <span class="tok-n">counter</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
<span class="lineno">19 </span>        <span class="tok-k">while</span><span class="tok-o">(</span> <span class="tok-n">current</span> <span class="tok-o">!=</span> <span class="tok-kc">null</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">20 </span>            <span class="tok-n">current</span> <span class="tok-o">=</span> <span class="tok-n">current</span><span class="tok-o">.</span><span class="tok-na">next</span><span class="tok-o">;</span>
<span class="lineno">21 </span>            <span class="tok-n">counter</span><span class="tok-o">++;</span>
<span class="lineno">22 </span>        <span class="tok-o">}</span>
<span class="lineno">23 </span>        <span class="tok-k">return</span> <span class="tok-n">counter</span><span class="tok-o">;</span>
<span class="lineno">24 </span>    <span class="tok-o">}</span>
<span class="lineno">25 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>An alternative way to count the number of elements in a linked list is
to use the natural recursion of the linked list itself. We can say that
the length of a linked list is 0 if the list is empty (the current link
is <code>null</code>), otherwise, it is one more than the size of the rest of the
list.</p>
</div>
<div class="paragraph">
<p><a href="#RecursiveListSizeProgram">Program 104</a> counts the elements in a linked
list using this recursive procedure. Note that there is a non-recursive
<code>size()</code> method that calls the recursive <code>size()</code> method. This
non-recursive method is called a <em>proxy method</em>. The recursive method
requires access to the internals of the data structure. The proxy method
calls the recursive method with the appropriate starting point (<code>head</code>),
while providing a public way to get the lists size without exposing its
internals.</p>
</div>
<div id="RecursiveListSizeProgram" class="listingblock">
<div class="title">Program 104. Linked list implementation with a recursive <code>size()</code> method for counting its elements.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">RecursiveListSize</span> <span class="tok-o">{</span>
<span class="lineno"> 2 </span>    <span class="tok-kd">private</span> <span class="tok-kd">static</span> <span class="tok-kd">class</span> <span class="tok-nc">Node</span> <span class="tok-o">{</span>
<span class="lineno"> 3 </span>        <span class="tok-kd">public</span> <span class="tok-n">String</span> <span class="tok-n">value</span><span class="tok-o">;</span>
<span class="lineno"> 4 </span>        <span class="tok-kd">public</span> <span class="tok-n">Node</span> <span class="tok-n">next</span><span class="tok-o">;</span>
<span class="lineno"> 5 </span>    <span class="tok-o">}</span>
<span class="lineno"> 6 </span>
<span class="lineno"> 7 </span>    <span class="tok-kd">private</span> <span class="tok-n">Node</span> <span class="tok-n">head</span> <span class="tok-o">=</span> <span class="tok-kc">null</span><span class="tok-o">;</span>
<span class="lineno"> 8 </span>
<span class="lineno"> 9 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">add</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">value</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">10 </span>        <span class="tok-n">Node</span> <span class="tok-n">temp</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Node</span><span class="tok-o">();</span>
<span class="lineno">11 </span>        <span class="tok-n">temp</span><span class="tok-o">.</span><span class="tok-na">value</span> <span class="tok-o">=</span> <span class="tok-n">value</span><span class="tok-o">;</span>
<span class="lineno">12 </span>        <span class="tok-n">temp</span><span class="tok-o">.</span><span class="tok-na">next</span> <span class="tok-o">=</span> <span class="tok-n">head</span><span class="tok-o">;</span>
<span class="lineno">13 </span>        <span class="tok-n">head</span> <span class="tok-o">=</span> <span class="tok-n">temp</span><span class="tok-o">;</span>
<span class="lineno">14 </span>    <span class="tok-o">}</span>
<span class="lineno">15 </span>
<span class="lineno">16 </span>    <span class="tok-c1">//proxy method</span>
<span class="lineno">17 </span>    <span class="tok-kd">public</span> <span class="tok-kt">int</span> <span class="tok-nf">size</span><span class="tok-o">()</span> <span class="tok-o">{</span>
<span class="lineno">18 </span>        <span class="tok-k">return</span> <span class="tok-n">size</span><span class="tok-o">(</span> <span class="tok-n">head</span> <span class="tok-o">);</span>
<span class="lineno">19 </span>    <span class="tok-o">}</span>
<span class="lineno">20 </span>
<span class="lineno">21 </span>    <span class="tok-kd">private</span> <span class="tok-kd">static</span> <span class="tok-kt">int</span> <span class="tok-nf">size</span><span class="tok-o">(</span><span class="tok-n">Node</span> <span class="tok-n">list</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">22 </span>        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">list</span> <span class="tok-o">==</span> <span class="tok-kc">null</span> <span class="tok-o">)</span> <span class="tok-c1">//base case</span>
<span class="lineno">23 </span>            <span class="tok-k">return</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
<span class="lineno">24 </span>        <span class="tok-c1">//recursive case</span>
<span class="lineno">25 </span>        <span class="tok-k">return</span> <span class="tok-mi">1</span> <span class="tok-o">+</span> <span class="tok-n">size</span><span class="tok-o">(</span> <span class="tok-n">list</span><span class="tok-o">.</span><span class="tok-na">next</span> <span class="tok-o">);</span>
<span class="lineno">26 </span>    <span class="tok-o">}</span>
<span class="lineno">27 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#ex19-9">Exercise 19.9</a><br>
<a href="#ex19-10">Exercise 19.10</a></p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_trees">19.4.1. Trees</h4>
<div class="paragraph">
<p>A linked list models a linear, one-to-one relationship between its
elements. Each item in the list is linked to a maximum of one following
element. Another useful relationship to model is a hierarchical,
one-to-many relationship: parent to children, boss to employees,
directory to files, and so on. These relationships can be modeled using
a <em>tree</em> structure, which begins with a single <em>root</em>, and proceeds
through <em>branches</em>, to the <em>leaves</em>. Typically, the elements of a tree
are also called <em>nodes</em>, with three special cases:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Root node</dt>
<dd>
<p>The root of the tree has no parents.</p>
</dd>
<dt class="hdlist1">Leaf node</dt>
<dd>
<p>A leaf is at the edge of a tree and has no children.</p>
</dd>
<dt class="hdlist1">Interior node</dt>
<dd>
<p>An interior node has a parent and at least one child; it is neither
the root nor a leaf.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a href="#figure-tree_visualization">Figure 82</a> shows a visualization of a tree. In
nature, a tree has its root at the bottom and branches upward. Since the
root is the starting point for a tree data structure, it is almost
always drawn at the top.</p>
</div>
<div id="figure-tree_visualization" class="imageblock">
<div class="content">
<img src="chapters/19-recursion/images/treevisualization.svg" alt="treevisualization" width="100%">
</div>
<div class="title">Figure 82. Visualization of a tree. The root is shown in light red. The leaves are shown in blue. The interior nodes are show in light purple.</div>
</div>
<div class="paragraph">
<p>Abstractly, a tree is either empty (the base case) or contains
references to 0 or more other trees (the recursive case). Trees are very
useful for storing and retrieving sortable data efficiently. Some
applications include dictionaries, catalogs, ordered lists, and any
other sorted set of objects. For these purposes, we can define an
abstract data type that includes operations such as <code>add()</code> and
<code>find()</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#ex19-13">Exercise 19.13</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>A special case of a tree that is used frequently is a <em>binary tree</em>, in
which each node references at most two other trees.</p>
</div>
<div id="binarySearchTreeExample" class="exampleblock">
<div class="title">Example 158. Binary search tree</div>
<div class="content">
<div class="paragraph">
<p>A <em>binary search tree</em> is a binary tree with the following three
properties.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The value in the left child of the root is smaller than the value in
the root.</p>
</li>
<li>
<p>The value in the right child of the root is larger than the value in
the root.</p>
</li>
<li>
<p>Both the left and the right subtrees are binary search trees.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This recursive definition describes a tree that makes items with a
natural ordering easy to find. If you are looking for an item, you first
look at the root of the tree. If the item you want is in the root,
youve found it! If the item you want is smaller than the root, go left.
If the item you want is larger than the root, go right. If you ever run
out of tree (hit a <code>null</code>), the item is not in the tree.</p>
</div>
<div class="paragraph">
<p>This example is a simple binary tree that can stores a list of strings
and print them out in alphabetical order. <a href="#TreeProgram">Program 105</a> shows
the <code>Tree</code> class that defines the fields and two public methods, <code>add()</code>
and <code>print()</code> that operate on the tree. Each is a proxy method that
calls its private recursive version, which takes a reference to a <code>Node</code>
object. The <code>Node</code> static nested class contains three fields.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>value</code>: the <code>String</code> value stored at the node</p>
</li>
<li>
<p><code>left</code>: a link to the left subtree</p>
</li>
<li>
<p><code>right</code>: a link to the right subtree</p>
</li>
</ul>
</div>
<div id="TreeProgram" class="listingblock">
<div class="title">Program 105. Class that implements a simple binary search tree ADT for creating a sorted list of strings.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">Tree</span> <span class="tok-o">{</span>
<span class="lineno"> 2 </span>    <span class="tok-kd">private</span> <span class="tok-kd">static</span> <span class="tok-kd">class</span> <span class="tok-nc">Node</span> <span class="tok-o">{</span>
<span class="lineno"> 3 </span>        <span class="tok-n">String</span> <span class="tok-n">value</span><span class="tok-o">;</span>
<span class="lineno"> 4 </span>        <span class="tok-n">Node</span> <span class="tok-n">left</span> <span class="tok-o">=</span> <span class="tok-kc">null</span><span class="tok-o">;</span>
<span class="lineno"> 5 </span>        <span class="tok-n">Node</span> <span class="tok-n">right</span> <span class="tok-o">=</span> <span class="tok-kc">null</span><span class="tok-o">;</span>
<span class="lineno"> 6 </span>    <span class="tok-o">}</span>
<span class="lineno"> 7 </span>
<span class="lineno"> 8 </span>    <span class="tok-kd">private</span> <span class="tok-n">Node</span> <span class="tok-n">root</span> <span class="tok-o">=</span> <span class="tok-kc">null</span><span class="tok-o">;</span>
<span class="lineno"> 9 </span>
<span class="lineno">10 </span>    <span class="tok-c1">//proxy add</span>
<span class="lineno">11 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">add</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">value</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">12 </span>        <span class="tok-n">root</span> <span class="tok-o">=</span> <span class="tok-n">add</span><span class="tok-o">(</span> <span class="tok-n">value</span><span class="tok-o">,</span> <span class="tok-n">root</span> <span class="tok-o">);</span>
<span class="lineno">13 </span>    <span class="tok-o">}</span>
<span class="lineno">14 </span>
<span class="lineno">15 </span>    <span class="tok-kd">private</span> <span class="tok-kd">static</span> <span class="tok-n">Node</span> <span class="tok-nf">add</span><span class="tok-o">(</span><span class="tok-n">String</span> <span class="tok-n">value</span><span class="tok-o">,</span> <span class="tok-n">Node</span> <span class="tok-n">tree</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">16 </span>        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">tree</span> <span class="tok-o">==</span> <span class="tok-kc">null</span> <span class="tok-o">)</span> <span class="tok-o">{</span>    <span class="tok-c1">//base case</span>
<span class="lineno">17 </span>            <span class="tok-n">tree</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Node</span><span class="tok-o">();</span>
<span class="lineno">18 </span>            <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">value</span> <span class="tok-o">=</span> <span class="tok-n">value</span><span class="tok-o">;</span>
<span class="lineno">19 </span>        <span class="tok-o">}</span>
<span class="lineno">20 </span>        <span class="tok-c1">//left recursive case</span>
<span class="lineno">21 </span>        <span class="tok-k">else</span> <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">value</span><span class="tok-o">.</span><span class="tok-na">compareTo</span><span class="tok-o">(</span><span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">value</span><span class="tok-o">)</span> <span class="tok-o">&lt;</span> <span class="tok-mi">0</span> <span class="tok-o">)</span>
<span class="lineno">22 </span>            <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">left</span> <span class="tok-o">=</span> <span class="tok-n">add</span><span class="tok-o">(</span> <span class="tok-n">value</span><span class="tok-o">,</span> <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">left</span> <span class="tok-o">);</span>
<span class="lineno">23 </span>        <span class="tok-c1">//right recursive case</span>
<span class="lineno">24 </span>        <span class="tok-k">else</span> <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">value</span><span class="tok-o">.</span><span class="tok-na">compareTo</span><span class="tok-o">(</span><span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">value</span><span class="tok-o">)</span> <span class="tok-o">&gt;</span> <span class="tok-mi">0</span> <span class="tok-o">)</span>
<span class="lineno">25 </span>            <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">right</span> <span class="tok-o">=</span> <span class="tok-n">add</span><span class="tok-o">(</span> <span class="tok-n">value</span><span class="tok-o">,</span> <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">right</span> <span class="tok-o">);</span>
<span class="lineno">26 </span>        <span class="tok-k">return</span> <span class="tok-n">tree</span><span class="tok-o">;</span>
<span class="lineno">27 </span>    <span class="tok-o">}</span>
<span class="lineno">28 </span>
<span class="lineno">29 </span>    <span class="tok-c1">//proxy print</span>
<span class="lineno">30 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">print</span><span class="tok-o">()</span> <span class="tok-o">{</span>
<span class="lineno">31 </span>        <span class="tok-n">print</span><span class="tok-o">(</span> <span class="tok-n">root</span> <span class="tok-o">);</span>
<span class="lineno">32 </span>    <span class="tok-o">}</span>
<span class="lineno">33 </span>
<span class="lineno">34 </span>    <span class="tok-kd">private</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">print</span><span class="tok-o">(</span><span class="tok-n">Node</span> <span class="tok-n">tree</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">35 </span>        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">tree</span> <span class="tok-o">!=</span> <span class="tok-kc">null</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">36 </span>            <span class="tok-n">print</span><span class="tok-o">(</span> <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">left</span> <span class="tok-o">);</span>
<span class="lineno">37 </span>            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span> <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">value</span> <span class="tok-o">);</span>
<span class="lineno">38 </span>            <span class="tok-n">print</span><span class="tok-o">(</span> <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">right</span> <span class="tok-o">);</span>
<span class="lineno">39 </span>        <span class="tok-o">}</span>
<span class="lineno">40 </span>    <span class="tok-o">}</span>
<span class="lineno">41 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="#figure-tree_classes">Figure 83</a> shows a visualization of the contents of
this implementation of a binary search tree. As with a linked list, an
X is used in place of arrows that point to <code>null</code>.</p>
</div>
<div id="figure-tree_classes" class="imageblock text-center">
<div class="content">
<img src="chapters/19-recursion/images/treeclasses.svg" alt="treeclasses" width="75%">
</div>
<div class="title">Figure 83. Visualization of a tree implementation with classes.</div>
</div>
<div class="paragraph">
<p>The recursive <code>add()</code> method first checks to see if the current subtree
is empty (<code>null</code>). If so, it creates a new <code>Node</code> and puts <code>value</code>
inside it. If the current subtree is not <code>null</code>, it checks to see if
<code>value</code> is smaller or larger than the <code>value</code> at the root of the subtee.
If it is smaller, it recurses down the left subtree. If it is larger, it
recurses down the right subtree. If <code>value</code> is already in the root node,
it does nothing.</p>
</div>
<div class="paragraph">
<p>Remember that all parameters are pass by value in Java. Thus, assigning
a new <code>Node</code> to <code>tree</code> does not by itself change anything at higher
levels of the tree. What does change the links in the parent of the
current subtree is returning the <code>tree</code> pointer. If the recursive call
to <code>add()</code> was made with a left or a right subtree, the <code>left</code> or
<code>right</code> link, respectively, of the parent <code>Node</code> is assigned the return
value. If the call was made with <code>root</code>, the parent of the entire tree,
the non-recursive <code>add()</code> method sets its value when the recursive
<code>add()</code> returns.</p>
</div>
<div class="paragraph">
<p>The recursive <code>print()</code> method starts by walking down the left subtree.
Those values are all alphabetically less than the value of the current
node. When it finishes, it prints the current node value. Finally, it
walks the right subtree to print the values that alphabetically follow
the value in the current node. This path through the nodes of the tree
is called an <em>inorder traversal</em>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="#ex19-11">Exercise 19.11</a><br>
<a href="#ex19-12">Exercise 19.12</a></p>
</div>
</div>
</div>
<div class="paragraph">
<p>With the power of a binary search tree, it takes virtually no code at
all to store a list of <code>String</code> values and then print them out in sorted
order. <a href="#ReadAndSortStringsProgram">Program 106</a> gives an example of this
process using a <code>Tree</code> object for storage.</p>
</div>
<div id="ReadAndSortStringsProgram" class="listingblock">
<div class="title">Program 106. Reads <code>String</code> values, stores them in a binary search tree, and prints the results in sorted order.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">java.util.Scanner</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">ReadAndSortStrings</span> <span class="tok-o">{</span>
<span class="lineno"> 4 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>        <span class="tok-n">Tree</span> <span class="tok-n">tree</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Tree</span><span class="tok-o">();</span>
<span class="lineno"> 6 </span>        <span class="tok-n">Scanner</span> <span class="tok-n">in</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Scanner</span><span class="tok-o">(</span><span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">in</span><span class="tok-o">);</span>
<span class="lineno"> 7 </span>
<span class="lineno"> 8 </span>        <span class="tok-k">while</span><span class="tok-o">(</span> <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">hasNextLine</span><span class="tok-o">()</span> <span class="tok-o">)</span>
<span class="lineno"> 9 </span>                <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span> <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">nextLine</span><span class="tok-o">()</span> <span class="tok-o">);</span>
<span class="lineno">10 </span>
<span class="lineno">11 </span>        <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">();</span>
<span class="lineno">12 </span>    <span class="tok-o">}</span>
<span class="lineno">13 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Binary search trees (and other trees, including heaps, tries, B-trees,
and more) are fundamental data structures that have been studied
heavily. Designing them to have efficient implementations that balance
the size of their left and right subtrees is an important topic that is
beyond the scope of this book.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_generic_dynamic_data_structures_and_recursion">19.4.2. Generic dynamic data structures and recursion</h4>
<div class="paragraph">
<p>Combining dynamic data structures and generics from the previous chapter
and recursion from this chapter gives us the full power of generic
dynamic data structures and recursive methods to process them.</p>
</div>
<div class="exampleblock">
<div class="title">Example 159. Binary search tree to hold integers</div>
<div class="content">
<div class="paragraph">
<p>Consider <a href="#IntegerTreeProgram">Program 107</a>, which implements a tree that
stores values of type <code>Integer</code>. Although it would be more efficient to
store <code>int</code> values, we use the <code>Integer</code> wrapper class to ease our
eventual transition into a parameterized generic type.</p>
</div>
<div id="IntegerTreeProgram" class="listingblock">
<div class="title">Program 107. Variant of <a href="#TreeProgram">Program 105</a> that stores`Integer` values instead of <code>String</code> values.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">IntegerTree</span> <span class="tok-o">{</span>
<span class="lineno"> 2 </span>    <span class="tok-kd">private</span> <span class="tok-kd">static</span> <span class="tok-kd">class</span> <span class="tok-nc">Node</span> <span class="tok-o">{</span>
<span class="lineno"> 3 </span>        <span class="tok-n">Integer</span> <span class="tok-n">value</span><span class="tok-o">;</span>
<span class="lineno"> 4 </span>        <span class="tok-n">Node</span> <span class="tok-n">left</span> <span class="tok-o">=</span> <span class="tok-kc">null</span><span class="tok-o">;</span>
<span class="lineno"> 5 </span>        <span class="tok-n">Node</span> <span class="tok-n">right</span> <span class="tok-o">=</span> <span class="tok-kc">null</span><span class="tok-o">;</span>
<span class="lineno"> 6 </span>    <span class="tok-o">}</span>
<span class="lineno"> 7 </span>
<span class="lineno"> 8 </span>    <span class="tok-kd">private</span> <span class="tok-n">Node</span> <span class="tok-n">root</span> <span class="tok-o">=</span> <span class="tok-kc">null</span><span class="tok-o">;</span>
<span class="lineno"> 9 </span>
<span class="lineno">10 </span>    <span class="tok-c1">//proxy add</span>
<span class="lineno">11 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">add</span><span class="tok-o">(</span><span class="tok-n">Integer</span> <span class="tok-n">value</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">12 </span>        <span class="tok-n">root</span> <span class="tok-o">=</span> <span class="tok-n">add</span><span class="tok-o">(</span> <span class="tok-n">value</span><span class="tok-o">,</span> <span class="tok-n">root</span> <span class="tok-o">);</span>
<span class="lineno">13 </span>    <span class="tok-o">}</span>
<span class="lineno">14 </span>
<span class="lineno">15 </span>    <span class="tok-kd">private</span> <span class="tok-kd">static</span> <span class="tok-n">Node</span> <span class="tok-nf">add</span><span class="tok-o">(</span><span class="tok-n">Integer</span> <span class="tok-n">value</span><span class="tok-o">,</span> <span class="tok-n">Node</span> <span class="tok-n">tree</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">16 </span>        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">tree</span> <span class="tok-o">==</span> <span class="tok-kc">null</span> <span class="tok-o">)</span> <span class="tok-o">{</span>    <span class="tok-c1">//base case</span>
<span class="lineno">17 </span>            <span class="tok-n">tree</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Node</span><span class="tok-o">();</span>
<span class="lineno">18 </span>            <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">value</span> <span class="tok-o">=</span> <span class="tok-n">value</span><span class="tok-o">;</span>
<span class="lineno">19 </span>        <span class="tok-o">}</span>
<span class="lineno">20 </span>        <span class="tok-c1">//left recursive case</span>
<span class="lineno">21 </span>        <span class="tok-k">else</span> <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">value</span><span class="tok-o">.</span><span class="tok-na">compareTo</span><span class="tok-o">(</span><span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">value</span><span class="tok-o">)</span> <span class="tok-o">&lt;</span> <span class="tok-mi">0</span> <span class="tok-o">)</span>
<span class="lineno">22 </span>            <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">left</span> <span class="tok-o">=</span> <span class="tok-n">add</span><span class="tok-o">(</span> <span class="tok-n">value</span><span class="tok-o">,</span> <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">left</span> <span class="tok-o">);</span>
<span class="lineno">23 </span>        <span class="tok-c1">//right recursive case</span>
<span class="lineno">24 </span>        <span class="tok-k">else</span> <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">value</span><span class="tok-o">.</span><span class="tok-na">compareTo</span><span class="tok-o">(</span><span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">value</span><span class="tok-o">)</span> <span class="tok-o">&gt;</span> <span class="tok-mi">0</span> <span class="tok-o">)</span>
<span class="lineno">25 </span>            <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">right</span> <span class="tok-o">=</span> <span class="tok-n">add</span><span class="tok-o">(</span> <span class="tok-n">value</span><span class="tok-o">,</span> <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">right</span> <span class="tok-o">);</span>
<span class="lineno">26 </span>        <span class="tok-k">return</span> <span class="tok-n">tree</span><span class="tok-o">;</span>
<span class="lineno">27 </span>    <span class="tok-o">}</span>
<span class="lineno">28 </span>
<span class="lineno">29 </span>    <span class="tok-c1">//proxy print</span>
<span class="lineno">30 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">print</span><span class="tok-o">()</span> <span class="tok-o">{</span>
<span class="lineno">31 </span>        <span class="tok-n">print</span><span class="tok-o">(</span> <span class="tok-n">root</span> <span class="tok-o">);</span>
<span class="lineno">32 </span>    <span class="tok-o">}</span>
<span class="lineno">33 </span>
<span class="lineno">34 </span>    <span class="tok-kd">private</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">print</span><span class="tok-o">(</span><span class="tok-n">Node</span> <span class="tok-n">tree</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">35 </span>        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">tree</span> <span class="tok-o">!=</span> <span class="tok-kc">null</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">36 </span>            <span class="tok-n">print</span><span class="tok-o">(</span> <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">left</span> <span class="tok-o">);</span>
<span class="lineno">37 </span>            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span> <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">value</span> <span class="tok-o">);</span>
<span class="lineno">38 </span>            <span class="tok-n">print</span><span class="tok-o">(</span> <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">right</span> <span class="tok-o">);</span>
<span class="lineno">39 </span>        <span class="tok-o">}</span>
<span class="lineno">40 </span>    <span class="tok-o">}</span>
<span class="lineno">41 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>It is a waste to create class <code>IntegerTree</code>, which is identical to
<code>Tree</code> except that the type <code>String</code> has been replaced by <code>Integer</code>. As
in <a href="chap17.html#ch18-dynamic-data-structures">Chapter 18</a>, we want our data
structures, recursive or otherwise, to hold any type. In this way, we
can reuse code.</p>
</div>
<div class="exampleblock">
<div class="title">Example 160. Defining a generic binary search tree</div>
<div class="content">
<div class="paragraph">
<p><a href="#GenericTreeProgram">Program 108</a> defines a generic version of the <code>Tree</code>
class. This example is complicated by the fact that we need to be able
to compare the value we want to store with the value in each <code>Node</code>
object. We cant make a tree with any arbitrary type. Objects of the
type <strong>must</strong> have the ability to be compared to each other and ordered.
Thus, we use a <em>bounded type parameter</em> specifying that the type <code>T</code>
stored in each <code>Tree</code> must implement the <code>Comparable</code> interface. This
requirement complicates the generic syntax significantly but guarantees
that any type that cannot be compared with itself is rejected at
compile-time.</p>
</div>
<div id="GenericTreeProgram" class="listingblock">
<div class="title">Program 108. Class that implements a generic tree.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">GenericTree</span><span class="tok-o">&lt;</span><span class="tok-n">T</span> <span class="tok-kd">extends</span> <span class="tok-n">Comparable</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;&gt;</span> <span class="tok-o">{</span>
<span class="lineno"> 2 </span>    <span class="tok-kd">private</span> <span class="tok-kd">static</span> <span class="tok-kd">class</span> <span class="tok-nc">Node</span><span class="tok-o">&lt;</span><span class="tok-n">T</span> <span class="tok-kd">extends</span> <span class="tok-n">Comparable</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;&gt;{</span>
<span class="lineno"> 3 </span>        <span class="tok-n">T</span> <span class="tok-n">value</span><span class="tok-o">;</span>
<span class="lineno"> 4 </span>        <span class="tok-n">Node</span> <span class="tok-n">left</span> <span class="tok-o">=</span> <span class="tok-kc">null</span><span class="tok-o">;</span>
<span class="lineno"> 5 </span>        <span class="tok-n">Node</span> <span class="tok-n">right</span> <span class="tok-o">=</span> <span class="tok-kc">null</span><span class="tok-o">;</span>
<span class="lineno"> 6 </span>    <span class="tok-o">}</span>
<span class="lineno"> 7 </span>
<span class="lineno"> 8 </span>    <span class="tok-kd">private</span> <span class="tok-n">Node</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;</span> <span class="tok-n">root</span> <span class="tok-o">=</span> <span class="tok-kc">null</span><span class="tok-o">;</span>
<span class="lineno"> 9 </span>
<span class="lineno">10 </span>    <span class="tok-c1">//proxy add</span>
<span class="lineno">11 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">add</span><span class="tok-o">(</span><span class="tok-n">T</span> <span class="tok-n">value</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">12 </span>        <span class="tok-n">root</span> <span class="tok-o">=</span> <span class="tok-n">add</span><span class="tok-o">(</span> <span class="tok-n">value</span><span class="tok-o">,</span> <span class="tok-n">root</span> <span class="tok-o">);</span>
<span class="lineno">13 </span>    <span class="tok-o">}</span>
<span class="lineno">14 </span>
<span class="lineno">15 </span>    <span class="tok-kd">private</span> <span class="tok-n">Node</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;</span> <span class="tok-nf">add</span><span class="tok-o">(</span><span class="tok-n">T</span> <span class="tok-n">value</span><span class="tok-o">,</span> <span class="tok-n">Node</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;</span> <span class="tok-n">tree</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">16 </span>        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">tree</span> <span class="tok-o">==</span> <span class="tok-kc">null</span> <span class="tok-o">)</span> <span class="tok-o">{</span>    <span class="tok-c1">//base case</span>
<span class="lineno">17 </span>            <span class="tok-n">tree</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Node</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;();</span>
<span class="lineno">18 </span>            <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">value</span> <span class="tok-o">=</span> <span class="tok-n">value</span><span class="tok-o">;</span>
<span class="lineno">19 </span>        <span class="tok-o">}</span>
<span class="lineno">20 </span>        <span class="tok-c1">//left recursive case</span>
<span class="lineno">21 </span>        <span class="tok-k">else</span> <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">value</span><span class="tok-o">.</span><span class="tok-na">compareTo</span><span class="tok-o">(</span><span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">value</span><span class="tok-o">)</span> <span class="tok-o">&lt;</span> <span class="tok-mi">0</span> <span class="tok-o">)</span>
<span class="lineno">22 </span>            <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">left</span> <span class="tok-o">=</span> <span class="tok-n">add</span><span class="tok-o">(</span> <span class="tok-n">value</span><span class="tok-o">,</span> <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">left</span> <span class="tok-o">);</span>
<span class="lineno">23 </span>        <span class="tok-c1">//right recursive case</span>
<span class="lineno">24 </span>        <span class="tok-k">else</span> <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">value</span><span class="tok-o">.</span><span class="tok-na">compareTo</span><span class="tok-o">(</span><span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">value</span><span class="tok-o">)</span> <span class="tok-o">&gt;</span> <span class="tok-mi">0</span> <span class="tok-o">)</span>
<span class="lineno">25 </span>            <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">right</span> <span class="tok-o">=</span> <span class="tok-n">add</span><span class="tok-o">(</span> <span class="tok-n">value</span><span class="tok-o">,</span> <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">right</span> <span class="tok-o">);</span>
<span class="lineno">26 </span>        <span class="tok-k">return</span> <span class="tok-n">tree</span><span class="tok-o">;</span>
<span class="lineno">27 </span>    <span class="tok-o">}</span>
<span class="lineno">28 </span>
<span class="lineno">29 </span>    <span class="tok-c1">//proxy print</span>
<span class="lineno">30 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">print</span><span class="tok-o">()</span> <span class="tok-o">{</span>
<span class="lineno">31 </span>        <span class="tok-n">print</span><span class="tok-o">(</span> <span class="tok-n">root</span> <span class="tok-o">);</span>
<span class="lineno">32 </span>    <span class="tok-o">}</span>
<span class="lineno">33 </span>
<span class="lineno">34 </span>    <span class="tok-kd">private</span> <span class="tok-kt">void</span> <span class="tok-nf">print</span><span class="tok-o">(</span><span class="tok-n">Node</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;</span> <span class="tok-n">tree</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">35 </span>        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">tree</span> <span class="tok-o">!=</span> <span class="tok-kc">null</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">36 </span>            <span class="tok-n">print</span><span class="tok-o">(</span> <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">left</span> <span class="tok-o">);</span>
<span class="lineno">37 </span>            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span> <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">value</span> <span class="tok-o">);</span>
<span class="lineno">38 </span>            <span class="tok-n">print</span><span class="tok-o">(</span> <span class="tok-n">tree</span><span class="tok-o">.</span><span class="tok-na">right</span> <span class="tok-o">);</span>
<span class="lineno">39 </span>        <span class="tok-o">}</span>
<span class="lineno">40 </span>    <span class="tok-o">}</span>
<span class="lineno">41 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>First, note that the recursive methods are no longer <code>static</code>. The
generic syntax for keeping them <code>static</code> is unnecessarily complex. The
type specifier <code>T extends Comparable&lt;T&gt;</code> guarantees that type <code>T</code>
implements the interface <code>Comparable&lt;T&gt;</code>. The generic <code>Comparable</code>
interface defined in the Java API is as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">interface</span> <span class="tok-nc">Comparable</span><span class="tok-o">&lt;</span><span class="tok-n">T</span><span class="tok-o">&gt;</span> <span class="tok-o">{</span>
    <span class="tok-kt">int</span> <span class="tok-nf">compareTo</span><span class="tok-o">(</span><span class="tok-n">T</span> <span class="tok-n">object</span><span class="tok-o">);</span>
<span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The syntax for generics in Java with type bounds is complex, and we only
scratch the surface here. The good news is that these subtleties are
more important for people designing data structures and libraries and
come up infrequently for programmers who are only using the libraries.</p>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 161. Using a generic class</div>
<div class="content">
<div class="paragraph">
<p><a href="#ReadAndSortGenericsProgram">Program 109</a> uses the generic tree class to
create two kinds of trees, a tree of <code>String</code> objects and a tree of
<code>Integer</code> objects. Java library implementations of binary search trees
are available as the <code>TreeSet</code> and <code>TreeMap</code> classes.</p>
</div>
<div id="ReadAndSortGenericsProgram" class="listingblock">
<div class="title">Program 109. Creates two trees with different underlying types.</div>
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">java.util.Random</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span><span class="tok-kn">import</span> <span class="tok-nn">java.util.Scanner</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">ReadAndSortGenerics</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span><span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 6 </span>        <span class="tok-n">Scanner</span> <span class="tok-n">in</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Scanner</span><span class="tok-o">(</span><span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">in</span><span class="tok-o">);</span>
<span class="lineno"> 7 </span>
<span class="lineno"> 8 </span>        <span class="tok-n">GenericTree</span><span class="tok-o">&lt;</span><span class="tok-n">String</span><span class="tok-o">&gt;</span> <span class="tok-n">stringTree</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">GenericTree</span><span class="tok-o">&lt;</span><span class="tok-n">String</span><span class="tok-o">&gt;();</span>
<span class="lineno"> 9 </span>        <span class="tok-n">GenericTree</span><span class="tok-o">&lt;</span><span class="tok-n">Integer</span><span class="tok-o">&gt;</span> <span class="tok-n">integerTree</span> <span class="tok-o">=</span>
<span class="lineno">10 </span>            <span class="tok-k">new</span> <span class="tok-n">GenericTree</span><span class="tok-o">&lt;</span><span class="tok-n">Integer</span><span class="tok-o">&gt;();</span>
<span class="lineno">11 </span>
<span class="lineno">12 </span>        <span class="tok-k">while</span><span class="tok-o">(</span> <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">hasNextLine</span><span class="tok-o">()</span> <span class="tok-o">)</span>
<span class="lineno">13 </span>            <span class="tok-n">stringTree</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">nextLine</span><span class="tok-o">());</span>
<span class="lineno">14 </span>        <span class="tok-n">stringTree</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">();</span>
<span class="lineno">15 </span>
<span class="lineno">16 </span>        <span class="tok-n">Random</span> <span class="tok-n">random</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Random</span><span class="tok-o">();</span>
<span class="lineno">17 </span>        <span class="tok-k">for</span> <span class="tok-o">(</span><span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-mi">10</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++)</span>
<span class="lineno">18 </span>            <span class="tok-n">integerTree</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span><span class="tok-n">random</span><span class="tok-o">.</span><span class="tok-na">nextInt</span><span class="tok-o">());</span>
<span class="lineno">19 </span>        <span class="tok-n">integerTree</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">();</span>
<span class="lineno">20 </span>    <span class="tok-o">}</span>
<span class="lineno">21 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_solution_maze_of_doom">19.5. Solution: Maze of doom</h3>
<div class="paragraph">
<p>Our algorithm for solving the maze follows the conventional
pencil-and-paper method: trial and error! We mark locations in the maze
with <code>'*'</code> as we explore them. If we come to a dead end, we unmark the
location (by replacing <code>'*'</code> with <code>' '</code>) and return to our previous
location to try a different direction.</p>
</div>
<div class="paragraph">
<p>Start at the beginning square of the maze, which must be a passageway.
Mark that location as part of the path by putting <code>'*'</code> in the cell.
Now, what can we do? There are, in general, four possible directions to
head: up, down, left, or right. If that direction doesnt take you
outside the bounds of the array, then you find either a wall or a
passageway. If you have been walking through the maze, you may also find
a part of the current path (often the square you were on before the
current one).</p>
</div>
<div class="paragraph">
<p>Suppose from your current point in the maze you could send a scout ahead
in each of the four directions. If the direction did not take the scout
out of bounds, he would find either a wall, a part of the current path
(the path that led into that space), or an open passageway. If the scout
doesnt find an open passageway, he reports back that that direction
doesnt work.</p>
</div>
<div class="paragraph">
<p>On the other hand, if the scout finds an open passageway, what does he
do? Brace yourself! He does the exact same thing you just did: Sends out
scouts of his own in each of the four possible directions.</p>
</div>
<div class="paragraph">
<p>With careful, consistent coding, you and the scout follow the exact same
process. And the scouts scouts. And so on. There is, in fact, only one
method and instead of calling a scout method to investigate each of the
squares in the four directions, you call yourself recursively.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">java.util.Scanner</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">MazeSolver</span> <span class="tok-o">{</span>
<span class="lineno"> 4 </span>    <span class="tok-kd">private</span> <span class="tok-kt">char</span><span class="tok-o">[][]</span> <span class="tok-n">maze</span><span class="tok-o">;</span>
<span class="lineno"> 5 </span>    <span class="tok-kd">private</span> <span class="tok-kt">int</span> <span class="tok-n">rows</span><span class="tok-o">,</span> <span class="tok-n">columns</span><span class="tok-o">;</span>
<span class="lineno"> 6 </span>
<span class="lineno"> 7 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span> <span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 8 </span>        <span class="tok-n">MazeSolver</span> <span class="tok-n">solver</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">MazeSolver</span><span class="tok-o">();</span>
<span class="lineno"> 9 </span>        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">solver</span><span class="tok-o">.</span><span class="tok-na">solve</span><span class="tok-o">(</span><span class="tok-mi">0</span><span class="tok-o">,</span> <span class="tok-mi">0</span><span class="tok-o">)</span> <span class="tok-o">)</span>
<span class="lineno">10 </span>            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;\nSolved!&quot;</span><span class="tok-o">);</span>
<span class="lineno">11 </span>        <span class="tok-k">else</span>
<span class="lineno">12 </span>            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;\nNot solvable!&quot;</span><span class="tok-o">);</span>
<span class="lineno">13 </span>        <span class="tok-n">solver</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">();</span>
<span class="lineno">14 </span>    <span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>MazeSolver</code> class needs a two-dimensional array of <code>char</code> values to
store a representation of the maze. Likewise, it is convenient to store
the number of rows and columns in fields.</p>
</div>
<div class="paragraph">
<p>The <code>main()</code> method creates a new <code>MazeSolver</code> object and then calls its
<code>solve()</code> method with a starting location of <code>(0, 0)</code>. It prints an
appropriate message depending on whether or not the maze was solved.
Finally, it prints out the maze, which includes a path marked with <code>'*'</code>
symbols if the maze is solvable.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span>    <span class="tok-kd">public</span> <span class="tok-nf">MazeSolver</span><span class="tok-o">()</span> <span class="tok-o">{</span>
<span class="lineno"> 2 </span>        <span class="tok-n">Scanner</span> <span class="tok-n">in</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-n">Scanner</span><span class="tok-o">(</span><span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">in</span><span class="tok-o">);</span>
<span class="lineno"> 3 </span>        <span class="tok-n">rows</span> <span class="tok-o">=</span> <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">nextInt</span><span class="tok-o">();</span>
<span class="lineno"> 4 </span>        <span class="tok-n">columns</span> <span class="tok-o">=</span> <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">nextInt</span><span class="tok-o">();</span>
<span class="lineno"> 5 </span>        <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">nextLine</span><span class="tok-o">();</span>
<span class="lineno"> 6 </span>        <span class="tok-n">maze</span> <span class="tok-o">=</span> <span class="tok-k">new</span> <span class="tok-kt">char</span><span class="tok-o">[</span><span class="tok-n">rows</span><span class="tok-o">][</span><span class="tok-n">columns</span><span class="tok-o">];</span>
<span class="lineno"> 7 </span>        <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">row</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">row</span> <span class="tok-o">&lt;</span> <span class="tok-n">rows</span><span class="tok-o">;</span> <span class="tok-n">row</span><span class="tok-o">++</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 8 </span>            <span class="tok-n">String</span> <span class="tok-n">line</span> <span class="tok-o">=</span> <span class="tok-n">in</span><span class="tok-o">.</span><span class="tok-na">nextLine</span><span class="tok-o">();</span>
<span class="lineno"> 9 </span>            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-n">line</span><span class="tok-o">);</span>
<span class="lineno">10 </span>            <span class="tok-k">for</span> <span class="tok-o">(</span><span class="tok-kt">int</span> <span class="tok-n">column</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">column</span> <span class="tok-o">&lt;</span> <span class="tok-n">columns</span><span class="tok-o">;</span> <span class="tok-n">column</span><span class="tok-o">++)</span> <span class="tok-o">{</span>
<span class="lineno">11 </span>                <span class="tok-n">maze</span><span class="tok-o">[</span><span class="tok-n">row</span><span class="tok-o">][</span><span class="tok-n">column</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-n">line</span><span class="tok-o">.</span><span class="tok-na">charAt</span><span class="tok-o">(</span><span class="tok-n">column</span><span class="tok-o">);</span>
<span class="lineno">12 </span>            <span class="tok-o">}</span>
<span class="lineno">13 </span>        <span class="tok-o">}</span>
<span class="lineno">14 </span>    <span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The constructor for <code>MazeSolver</code> creates a <code>Scanner</code>. It assumes that
the file describing the maze is redirected from standard input, although
it would be easy to modify the constructor to take a file name and read
from there instead. Next, it reads two integers and sets <code>rows</code> and
<code>columns</code> to those values. It allocates a two-dimensional array of
<code>char</code> values with <code>rows</code> rows and <code>columns</code> columns. Finally, it reads
through the file, storing each line of <code>char</code> values into this array. As
it reads, it prints out each line to the screen, showing the initial
(unsolved) maze.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno">1 </span>    <span class="tok-kd">public</span> <span class="tok-kt">void</span> <span class="tok-nf">print</span><span class="tok-o">()</span> <span class="tok-o">{</span>
<span class="lineno">2 </span>        <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">row</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">row</span> <span class="tok-o">&lt;</span> <span class="tok-n">rows</span><span class="tok-o">;</span> <span class="tok-n">row</span><span class="tok-o">++</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">3 </span>            <span class="tok-k">for</span> <span class="tok-o">(</span><span class="tok-kt">int</span> <span class="tok-n">column</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">column</span> <span class="tok-o">&lt;</span> <span class="tok-n">columns</span><span class="tok-o">;</span> <span class="tok-n">column</span><span class="tok-o">++)</span>
<span class="lineno">4 </span>                <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">print</span><span class="tok-o">(</span><span class="tok-n">maze</span><span class="tok-o">[</span><span class="tok-n">row</span><span class="tok-o">][</span><span class="tok-n">column</span><span class="tok-o">]);</span>
<span class="lineno">5 </span>            <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">();</span>
<span class="lineno">6 </span>        <span class="tok-o">}</span>
<span class="lineno">7 </span>    <span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>print()</code> method is a utility method that prints out the maze. It
iterates through each row, printing out the values for the columns in
that row.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span>    <span class="tok-kd">public</span> <span class="tok-kt">boolean</span> <span class="tok-nf">solve</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">row</span><span class="tok-o">,</span> <span class="tok-kt">int</span> <span class="tok-n">column</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 2 </span>        <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">row</span> <span class="tok-o">&lt;</span> <span class="tok-mi">0</span> <span class="tok-o">||</span> <span class="tok-n">column</span> <span class="tok-o">&lt;</span> <span class="tok-mi">0</span> <span class="tok-o">||</span> <span class="tok-n">row</span> <span class="tok-o">&gt;=</span> <span class="tok-n">rows</span> <span class="tok-o">||</span> <span class="tok-n">column</span> <span class="tok-o">&gt;=</span> <span class="tok-n">columns</span><span class="tok-o">)</span>
<span class="lineno"> 3 </span>            <span class="tok-k">return</span> <span class="tok-kc">false</span><span class="tok-o">;</span>
<span class="lineno"> 4 </span>        <span class="tok-k">else</span> <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">maze</span><span class="tok-o">[</span><span class="tok-n">row</span><span class="tok-o">][</span><span class="tok-n">column</span><span class="tok-o">]</span> <span class="tok-o">==</span> <span class="tok-sc">'E'</span> <span class="tok-o">)</span>
<span class="lineno"> 5 </span>            <span class="tok-k">return</span> <span class="tok-kc">true</span><span class="tok-o">;</span>
<span class="lineno"> 6 </span>        <span class="tok-k">else</span> <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">maze</span><span class="tok-o">[</span><span class="tok-n">row</span><span class="tok-o">][</span><span class="tok-n">column</span><span class="tok-o">]</span> <span class="tok-o">!=</span> <span class="tok-sc">' '</span><span class="tok-o">)</span>
<span class="lineno"> 7 </span>            <span class="tok-k">return</span> <span class="tok-kc">false</span><span class="tok-o">;</span>
<span class="lineno"> 8 </span>        <span class="tok-k">else</span> <span class="tok-o">{</span>
<span class="lineno"> 9 </span>            <span class="tok-n">maze</span><span class="tok-o">[</span><span class="tok-n">row</span><span class="tok-o">][</span><span class="tok-n">column</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-sc">'*'</span><span class="tok-o">;</span>
<span class="lineno">10 </span>            <span class="tok-k">if</span><span class="tok-o">(</span> <span class="tok-n">solve</span><span class="tok-o">(</span><span class="tok-n">row</span> <span class="tok-o">-</span> <span class="tok-mi">1</span><span class="tok-o">,</span> <span class="tok-n">column</span><span class="tok-o">)</span> <span class="tok-o">||</span> <span class="tok-n">solve</span><span class="tok-o">(</span><span class="tok-n">row</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-o">,</span> <span class="tok-n">column</span><span class="tok-o">)</span> <span class="tok-o">||</span>
<span class="lineno">11 </span>                <span class="tok-n">solve</span><span class="tok-o">(</span><span class="tok-n">row</span><span class="tok-o">,</span> <span class="tok-n">column</span> <span class="tok-o">-</span> <span class="tok-mi">1</span><span class="tok-o">)</span> <span class="tok-o">||</span> <span class="tok-n">solve</span><span class="tok-o">(</span><span class="tok-n">row</span><span class="tok-o">,</span> <span class="tok-n">column</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-o">)</span> <span class="tok-o">)</span>
<span class="lineno">12 </span>                <span class="tok-k">return</span> <span class="tok-kc">true</span><span class="tok-o">;</span>
<span class="lineno">13 </span>            <span class="tok-k">else</span> <span class="tok-o">{</span>
<span class="lineno">14 </span>                <span class="tok-n">maze</span><span class="tok-o">[</span><span class="tok-n">row</span><span class="tok-o">][</span><span class="tok-n">column</span><span class="tok-o">]</span> <span class="tok-o">=</span> <span class="tok-sc">' '</span><span class="tok-o">;</span>
<span class="lineno">15 </span>                <span class="tok-k">return</span> <span class="tok-kc">false</span><span class="tok-o">;</span>
<span class="lineno">16 </span>            <span class="tok-o">}</span>
<span class="lineno">17 </span>        <span class="tok-o">}</span>
<span class="lineno">18 </span>    <span class="tok-o">}</span>
<span class="lineno">19 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The heart of the solution is the recursive method <code>solve()</code>. The
<code>solve()</code> method takes two parameters, <code>row</code> and <code>column</code>, and tries to
find a solution to the maze starting at location <code>maze[row][column]</code>. It
assumes that the maze is filled with <code>'+'</code> for walls, <code>' '</code> for
passageways, and may include <code>'*'</code> characters at locations that are part
of the partially completed solution.</p>
</div>
<div class="paragraph">
<p>If <code>solve()</code> is able to find a solution from the current location, it
returns <code>true</code>, otherwise it returns <code>false</code>. There are three base cases
for the current location in the maze.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The current location is outside the maze. Return <code>false</code>.</p>
</li>
<li>
<p>The current location is the final location. We have a winner, return
<code>true</code>!</p>
</li>
<li>
<p>The current location is not a passage (either a wall or a location
in the current path that has already been marked). This call to <code>solve</code>
is not making progress toward the finish. Return <code>false</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If none of the base cases applies, then the current location, which must
contain a <code>' '</code> character, <strong>might</strong> be on a successful path, so <code>solve()</code>
gives it a try. The method tentatively marks the current position with
<code>'*'</code>. Then, it tries to find a path from the current
location to each of the four neighboring cells by recursively calling <code>solve()</code>. If any of those four neighbors returns <code>true</code>, then <code>solve()</code> knows it has found a completed path and returns <code>true</code> to its caller.</p>
</div>
<div class="paragraph">
<p>If none of the four neighbors was on a path to the destination, then the
current location is not on a path. The method unmarks the current
location (by storing a <code>' '</code>) and returns <code>false</code>. Presumably, its
caller figures out what to do next, perhaps calling a different one of
its neighbors or giving up and returning <code>false</code> to its caller.</p>
</div>
<div class="paragraph">
<p>The very first call to <code>solve()</code> from the <code>main()</code> method either returns
<code>true</code> if a complete path through the maze is found or <code>false</code> if no
path exists. Note that this solver has no guarantee of finding the
<strong>shortest</strong> path through the maze, but if there is at least one path to
the goal, it finds one.</p>
</div>
</div>
<div class="sect2">
<h3 id="_concurrency_futures">19.6. Concurrency: Futures</h3>
<div class="paragraph">
<p>This section does not deal explicitly with recursion, but it does deal
with concurrency and methods in an interesting way. When we call a
method in Java, a stack frame for the method is put on the stack, and
the thread of execution begins executing code inside the method. When it
is done, it returns a value (or not), and execution resumes in the
caller. But what if calling the method began executing an independent
thread, and the caller continued on without waiting for the method to
return?</p>
</div>
<div class="paragraph">
<p>This second situation should seem familiar, since it is very much what
happens when the <code>start()</code> method is called on a <code>Thread</code> object: the
<code>start()</code> method returns immediately to its caller, but an independent
thread of execution has begun executing the code in the <code>run()</code> method
of the <code>Thread</code>.</p>
</div>
<div class="paragraph">
<p>What if we only care about the value that is computed by the new thread
of execution? We can think of spawning the thread as an asynchronous
method call, a value that is computed <strong>at some point</strong> rather than one we
have to wait for. The name for such an asynchronous method call is a
<em>future</em>. In some languages, particularly functional languages, all
concurrency is expressed as a future. In Java, only a little bit of code
is needed to create threads that can behave like futures. However, the
idea of futures is pervasive enough that Java API tools were created to
make the process of creating them easy.</p>
</div>
<div class="paragraph">
<p>We introduce three interfaces and a factory method call that can allow
you to use futures in Java. This section is not a complete introduction
to futures, but these tools are enough to get you started with them.</p>
</div>
<div class="paragraph">
<p>The first interface is the <code>Future</code> interface, which allows you to store
a reference to the asynchronous computation while it is computing (and
before you ask for its value). The second interface is the <code>Callable</code>
interface, which is similar to the <code>Runnable</code> interface in that it
allows you to specify a class whose objects can be started as
independent threads. Both the <code>Future</code> interface and the <code>Callable</code> are
generic interfaces that require to specify a type. Remember that futures
are supposed to give back an answer, and thats the type that you supply
as a parameter. For example, when creating a future that returns an
<code>int</code> value, you would create a class that implemented the
<code>Callable&lt;Integer&gt;</code> interface, requiring it to contain a method with the
signature <code>Integer call()</code>. Likewise, you would store a reference to the
future you create in a <code>Future&lt;Integer&gt;</code> reference.</p>
</div>
<div class="paragraph">
<p>And how do you create such a future? Usually, many futures are running
at once to leverage the power of multiple cores. What if you want to
create 100 futures but only have 8 cores? The process of creating
threads is expensive, and it might not be worthwhile to create 100
threads when only 8 are able to run concurrently. To deal with this
problem, the Java API provides classes that implement the
<code>ExecutorService</code> interface, which can maintain a fixed-size <em>pool</em> of
threads. When a thread finishes computing one future, it is
automatically assigned another. To create an object that can manage
threads this way, call the static factory method <code>newFixedThreadPool()</code>
on the <code>Executors</code> class with the size of the thread pool you want
create. For example, we can create an <code>ExecutorService</code> with a pool of 8
threads as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-n">ExecutorService</span> <span class="tok-n">executor</span> <span class="tok-o">=</span> <span class="tok-n">Executors</span><span class="tok-o">.</span><span class="tok-na">newFixedThreadPool</span><span class="tok-o">(</span><span class="tok-mi">8</span><span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Once you have an <code>ExecutorService</code>, you can give it a <code>Callable</code> object
of a particular type (such as <code>Callable&lt;Integer&gt;</code>) as a parameter to its
<code>submit()</code> method, and it returns a <code>Future</code> object of a matching type
(such as <code>Future&lt;Integer&gt;</code>). Then, the future is running (or at least
scheduled to run). At any later point you can call the <code>get()</code> method on
the <code>Future</code> object, which returns the value of its computation. Like
calling <code>join()</code>, calling <code>get()</code> is a blocking call that may have to
wait for the future to finish executing.</p>
</div>
<div class="paragraph">
<p>All of this messy syntax becomes clearer in the following example, which
uses futures to compute the sum of the square roots of the first
100,000,000 integers concurrently.</p>
</div>
<div class="exampleblock">
<div class="title">Example 162. Futures to sum square roots</div>
<div class="content">
<div class="paragraph">
<p>To use futures to sum the square roots of integers, we first need a
worker class that implements <code>Callable</code>. Since the result of the sum of
square roots is a <code>double</code>, it must implement <code>Callable&lt;Double&gt;</code>. Recall
that primitive types such as <code>double</code> cannot be used as generic type
parameters, requiring us to use wrapper classes in those cases.</p>
</div>
<div id="RootSummerProgram" class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">java.util.concurrent.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span>
<span class="lineno"> 3 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">RootSummer</span> <span class="tok-kd">implements</span> <span class="tok-n">Callable</span><span class="tok-o">&lt;</span><span class="tok-n">Double</span><span class="tok-o">&gt;</span> <span class="tok-o">{</span>
<span class="lineno"> 4 </span>    <span class="tok-kd">private</span> <span class="tok-kt">int</span> <span class="tok-n">min</span><span class="tok-o">;</span>
<span class="lineno"> 5 </span>    <span class="tok-kd">private</span> <span class="tok-kt">int</span> <span class="tok-n">max</span><span class="tok-o">;</span>
<span class="lineno"> 6 </span>
<span class="lineno"> 7 </span>    <span class="tok-kd">public</span> <span class="tok-nf">RootSummer</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">min</span><span class="tok-o">,</span> <span class="tok-kt">int</span> <span class="tok-n">max</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 8 </span>        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">min</span> <span class="tok-o">=</span> <span class="tok-n">min</span><span class="tok-o">;</span>
<span class="lineno"> 9 </span>        <span class="tok-k">this</span><span class="tok-o">.</span><span class="tok-na">max</span> <span class="tok-o">=</span> <span class="tok-n">max</span><span class="tok-o">;</span>
<span class="lineno">10 </span>    <span class="tok-o">}</span>
<span class="lineno">11 </span>
<span class="lineno">12 </span>    <span class="tok-kd">public</span> <span class="tok-n">Double</span> <span class="tok-nf">call</span><span class="tok-o">()</span> <span class="tok-o">{</span>
<span class="lineno">13 </span>        <span class="tok-kt">double</span> <span class="tok-n">sum</span> <span class="tok-o">=</span> <span class="tok-mf">0.0</span><span class="tok-o">;</span>
<span class="lineno">14 </span>        <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-n">min</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">max</span><span class="tok-o">;</span> <span class="tok-o">++</span><span class="tok-n">i</span> <span class="tok-o">)</span>
<span class="lineno">15 </span>            <span class="tok-n">sum</span> <span class="tok-o">+=</span> <span class="tok-n">Math</span><span class="tok-o">.</span><span class="tok-na">sqrt</span><span class="tok-o">(</span><span class="tok-n">i</span><span class="tok-o">);</span>
<span class="lineno">16 </span>        <span class="tok-k">return</span> <span class="tok-n">sum</span><span class="tok-o">;</span>
<span class="lineno">17 </span>    <span class="tok-o">}</span>
<span class="lineno">18 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>RootSummer</code> is a simple worker class that takes a <code>min</code> and a <code>max</code>
value in its constructor. Its <code>call()</code> method sums the square roots of
all the <code>int</code> values greater than or equal to <code>min</code> and less than <code>max</code>.
It imports <code>java.util.concurrent.*</code> to have access to the <code>Callable</code>
interface.</p>
</div>
<div class="paragraph">
<p>Of course, we need another class to create the <code>ExecutorService</code>, start
the futures running, and collect the results.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span><span class="tok-kn">import</span> <span class="tok-nn">java.util.concurrent.*</span><span class="tok-o">;</span>
<span class="lineno"> 2 </span><span class="tok-kn">import</span> <span class="tok-nn">java.util.ArrayList</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span>
<span class="lineno"> 4 </span><span class="tok-kd">public</span> <span class="tok-kd">class</span> <span class="tok-nc">RootFutures</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>    <span class="tok-kd">private</span> <span class="tok-kd">static</span> <span class="tok-kd">final</span> <span class="tok-kt">int</span> <span class="tok-n">THREADS</span> <span class="tok-o">=</span> <span class="tok-mi">10</span><span class="tok-o">;</span>
<span class="lineno"> 6 </span>    <span class="tok-kd">private</span> <span class="tok-kd">static</span> <span class="tok-kd">final</span> <span class="tok-kt">int</span> <span class="tok-n">N</span> <span class="tok-o">=</span> <span class="tok-mi">100000000</span><span class="tok-o">;</span>
<span class="lineno"> 7 </span>    <span class="tok-kd">private</span> <span class="tok-kd">static</span> <span class="tok-kd">final</span> <span class="tok-kt">int</span> <span class="tok-n">FUTURES</span> <span class="tok-o">=</span> <span class="tok-mi">1000</span><span class="tok-o">;</span>
<span class="lineno"> 8 </span>
<span class="lineno"> 9 </span>    <span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">void</span> <span class="tok-nf">main</span><span class="tok-o">(</span> <span class="tok-n">String</span><span class="tok-o">[]</span> <span class="tok-n">args</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">10 </span>        <span class="tok-n">ArrayList</span><span class="tok-o">&lt;</span><span class="tok-n">Future</span><span class="tok-o">&lt;</span><span class="tok-n">Double</span><span class="tok-o">&gt;&gt;</span> <span class="tok-n">futures</span> <span class="tok-o">=</span>
<span class="lineno">11 </span>            <span class="tok-k">new</span> <span class="tok-n">ArrayList</span><span class="tok-o">&lt;</span><span class="tok-n">Future</span><span class="tok-o">&lt;</span><span class="tok-n">Double</span><span class="tok-o">&gt;&gt;(</span><span class="tok-n">FUTURES</span><span class="tok-o">);</span>
<span class="lineno">12 </span>        <span class="tok-n">ExecutorService</span> <span class="tok-n">executor</span> <span class="tok-o">=</span>
<span class="lineno">13 </span>            <span class="tok-n">Executors</span><span class="tok-o">.</span><span class="tok-na">newFixedThreadPool</span><span class="tok-o">(</span><span class="tok-n">THREADS</span><span class="tok-o">);</span>
<span class="lineno">14 </span>        <span class="tok-kt">int</span> <span class="tok-n">work</span> <span class="tok-o">=</span> <span class="tok-n">N</span> <span class="tok-o">/</span> <span class="tok-n">FUTURES</span><span class="tok-o">;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The first part of <code>RootFutures</code> is setup. The imports give us the
concurrency tools we need and a list to store our futures in. We have
three constants. <code>THREADS</code> specifies the number of threads to create.
<code>N</code> gives the number we are going up to. <code>FUTURES</code> is the total number
of futures we create, considerably larger than the number of threads
they share.</p>
</div>
<div class="paragraph">
<p>Inside the <code>main()</code> method, we create an <code>ArrayList</code> to hold the
futures. Since we know the number of futures ahead of time, an array
would be ideal. Unfortunately, quirks in the way Java handles generics
makes it illegal to create an array with a generic type. Instead, we
create an <code>ArrayList</code> with the size well need pre-allocated. Next, we
create an <code>ExecutorService</code> with a thread pool of size <code>THREADS</code>.
Finally, we find the amount of work done by each future by dividing <code>N</code>
by <code>FUTURES</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno">1 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Creating futures...&quot;</span><span class="tok-o">);</span>
<span class="lineno">2 </span>        <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-kt">int</span> <span class="tok-n">i</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span> <span class="tok-n">i</span> <span class="tok-o">&lt;</span> <span class="tok-n">FUTURES</span><span class="tok-o">;</span> <span class="tok-n">i</span><span class="tok-o">++</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">3 </span>            <span class="tok-n">Callable</span><span class="tok-o">&lt;</span><span class="tok-n">Double</span><span class="tok-o">&gt;</span> <span class="tok-n">summer</span> <span class="tok-o">=</span>
<span class="lineno">4 </span>                <span class="tok-k">new</span> <span class="tok-n">RootSummer</span><span class="tok-o">(</span> <span class="tok-mi">1</span> <span class="tok-o">+</span> <span class="tok-n">i</span><span class="tok-o">*</span><span class="tok-n">work</span><span class="tok-o">,</span> <span class="tok-mi">1</span> <span class="tok-o">+</span> <span class="tok-o">(</span><span class="tok-n">i</span> <span class="tok-o">+</span> <span class="tok-mi">1</span><span class="tok-o">)*</span><span class="tok-n">work</span> <span class="tok-o">);</span>
<span class="lineno">5 </span>            <span class="tok-n">Future</span><span class="tok-o">&lt;</span><span class="tok-n">Double</span><span class="tok-o">&gt;</span> <span class="tok-n">future</span> <span class="tok-o">=</span> <span class="tok-n">executor</span><span class="tok-o">.</span><span class="tok-na">submit</span><span class="tok-o">(</span> <span class="tok-n">summer</span> <span class="tok-o">);</span>
<span class="lineno">6 </span>            <span class="tok-n">futures</span><span class="tok-o">.</span><span class="tok-na">add</span><span class="tok-o">(</span> <span class="tok-n">future</span> <span class="tok-o">);</span>
<span class="lineno">7 </span>        <span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this section of code, we create each future and start it running.
First, we instantiate a <code>RootSummer</code> object with the appropriate bounds
for the work its going to compute. Then, we supply that object to the
<code>submit()</code> method on the <code>ExecutorService</code>, which returns a <code>Future</code>
object. We could have saved a line of code by storing this return value
directly into the list <code>futures</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="lineno"> 1 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;Getting results from futures...&quot;</span><span class="tok-o">);</span>
<span class="lineno"> 2 </span>        <span class="tok-kt">double</span> <span class="tok-n">sum</span> <span class="tok-o">=</span> <span class="tok-mi">0</span><span class="tok-o">;</span>
<span class="lineno"> 3 </span>        <span class="tok-k">for</span><span class="tok-o">(</span> <span class="tok-n">Future</span><span class="tok-o">&lt;</span><span class="tok-n">Double</span><span class="tok-o">&gt;</span> <span class="tok-n">future</span> <span class="tok-o">:</span> <span class="tok-n">futures</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 4 </span>            <span class="tok-k">try</span> <span class="tok-o">{</span>
<span class="lineno"> 5 </span>                <span class="tok-n">sum</span> <span class="tok-o">+=</span> <span class="tok-n">future</span><span class="tok-o">.</span><span class="tok-na">get</span><span class="tok-o">();</span>
<span class="lineno"> 6 </span>            <span class="tok-o">}</span>
<span class="lineno"> 7 </span>            <span class="tok-k">catch</span><span class="tok-o">(</span> <span class="tok-n">InterruptedException</span> <span class="tok-n">e</span> <span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno"> 8 </span>                <span class="tok-n">e</span><span class="tok-o">.</span><span class="tok-na">printStackTrace</span><span class="tok-o">();</span>
<span class="lineno"> 9 </span>            <span class="tok-o">}</span>
<span class="lineno">10 </span>            <span class="tok-k">catch</span> <span class="tok-o">(</span><span class="tok-n">ExecutionException</span> <span class="tok-n">e</span><span class="tok-o">)</span> <span class="tok-o">{</span>
<span class="lineno">11 </span>                <span class="tok-n">e</span><span class="tok-o">.</span><span class="tok-na">printStackTrace</span><span class="tok-o">();</span>
<span class="lineno">12 </span>            <span class="tok-o">}</span>
<span class="lineno">13 </span>        <span class="tok-o">}</span>
<span class="lineno">14 </span>        <span class="tok-n">executor</span><span class="tok-o">.</span><span class="tok-na">shutdown</span><span class="tok-o">();</span>
<span class="lineno">15 </span>        <span class="tok-n">System</span><span class="tok-o">.</span><span class="tok-na">out</span><span class="tok-o">.</span><span class="tok-na">println</span><span class="tok-o">(</span><span class="tok-s">&quot;The sum of square roots is: &quot;</span> <span class="tok-o">+</span> <span class="tok-n">sum</span><span class="tok-o">);</span>
<span class="lineno">16 </span>    <span class="tok-o">}</span>
<span class="lineno">17 </span><span class="tok-o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>All that remains is to collect the values from each future. We iterate
through the list of futures with a for-each loop and add the return
value each futures <code>get()</code> method to our running total <code>sum</code>. Because
<code>get()</code> is a blocking call, we have to catch an <code>InterruptedException</code>
in case we are interrupted while waiting for the future to respond.
However, we also have to catch an <code>ExecutionException</code> in case an
exception occurred during the execution of the future. This exception
handling mechanism is one of the big advantages of using futures:
Exceptions thrown by the future are propagated back to the thread that
gets the answer from the future. Normal threads simply die if they have
unhandled exceptions.</p>
</div>
<div class="paragraph">
<p>After all the values have been read and summed, we shut the
<code>ExecutorService</code> down. If we had wanted, we could have submitted
additional <code>Callable</code> objects to it to run more futures. Finally, we
print out the result.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_exercises_19">19.7. Exercises</h3>
<div class="paragraph">
<p><strong>Conceptual Problems</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a id="ex19-1"></a> <a href="#multiplicationDefinedRecursivelyExample">Example 149</a> gave a mathematical recursive definition for
\(x \times y\). Give a similar recursive definition for
\(x + y\). The structure is similar to the recursion to
determine your current age given in <a href="#_what_is_recursion">Section 19.2.1</a>.</p>
</li>
<li>
<p><a id="ex19-2"></a> In principle, every problem that can be solved with an iterative
solution can be solved with a recursive one (and vice versa). However,
the limited size of the call stack can present problems for recursive
solutions with very deep recursion. Why? Conversely, are there any
recursive solutions that are impossible to turn into iterative ones?</p>
</li>
<li>
<p><a id="ex19-3"></a> Consider the first (non-memoized)
recursive version of the Fibonacci method given in
<a href="#fibonacciImplementedRecursivelyExample">Example 153</a>. How many times is
<code>fibonacci()</code> called with argument \(1\) to compute
<code>fibonacci(n)</code>? Instrument your program and count the number of calls
for \(n = 2, 3, 4 \ldots 20\).</p>
</li>
<li>
<p><a id="ex19-4"></a> In the recursive <code>solve()</code> method in the <code>MazeSolver</code> program given
in <a href="#_solution_maze_of_doom">Section 19.5</a>, the current location in the maze
array is is set to a blank character (<code>' '</code>) after no solution had been
found. What value was in that location? How would the program behave if
the value was not changed?</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Programming Practice</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p><a id="ex19-5"></a> <a href="chap7.html#ex8-11">Exercise 8.11</a>
from <a href="chap7.html#ch08-methods">Chapter 8</a> challenges you to write a method to
determine whether a <code>String</code> contains a palindrome. Recall that a
palindrome (if punctuation and spaces are ignored) can be described as a
<code>String</code> in which the first and last characters are equal, and all the
characters in between form a palindrome. Write a recursive method to
test if a <code>String</code> is a palindrome, using the following signature.</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">boolean</span> <span class="tok-nf">isPalindrome</span><span class="tok-o">(</span> <span class="tok-n">String</span> <span class="tok-n">text</span><span class="tok-o">,</span> <span class="tok-kt">int</span> <span class="tok-n">start</span><span class="tok-o">,</span>
    <span class="tok-kt">int</span> <span class="tok-n">end</span> <span class="tok-o">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this method, the <code>start</code> parameter is the index of the first
character you are examining, and the <code>end</code> parameter is the index
immediately after the last character you are examining. Thus, it would
initially be called with a <code>String</code>, <code>0</code>, and the length of the
<code>String</code>, as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kt">boolean</span> <span class="tok-n">result</span> <span class="tok-o">=</span>
    <span class="tok-n">isPalindrome</span><span class="tok-o">(</span> <span class="tok-s">&quot;A man, a plan, a canal: Panama&quot;</span><span class="tok-o">,</span> <span class="tok-mi">0</span><span class="tok-o">,</span> <span class="tok-mi">30</span> <span class="tok-o">);</span></code></pre>
</div>
</div>
</li>
<li>
<p><a id="ex19-6"></a> The efficient implementation of
Fibonacci from <a href="#fibonacciImplementedRecursivelyExample">Example 153</a>
eliminates redundant computation through memoization, storing values in
an array as they are found. It is possible to carry along the
computations of the previous two Fibonacci numbers <strong>without</strong> the
overhead of storing an array. Consider the following method signature.</p>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kd">public</span> <span class="tok-kd">static</span> <span class="tok-kt">int</span> <span class="tok-nf">fibonacci</span><span class="tok-o">(</span><span class="tok-kt">int</span> <span class="tok-n">previous</span><span class="tok-o">,</span> <span class="tok-kt">int</span> <span class="tok-n">current</span><span class="tok-o">,</span> <span class="tok-kt">int</span> <span class="tok-n">n</span><span class="tok-o">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The next recursive call to the <code>fibonacci()</code> method passes in <code>n - 1</code>
and suitably altered versions of <code>previous</code> and <code>current</code>. When <code>n</code>
reaches <code>0</code>, the <code>current</code> parameter holds the value of the Fibonacci
number you were originally looking for.</p>
</div>
<div class="paragraph">
<p>The method would be called as follows for any value of <code>n</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="pygments highlight"><code data-lang="java"><span></span><span class="tok-kt">int</span> <span class="tok-n">result</span> <span class="tok-o">=</span> <span class="tok-n">fibonacci</span><span class="tok-o">(</span> <span class="tok-mi">0</span><span class="tok-o">,</span> <span class="tok-mi">1</span><span class="tok-o">,</span> <span class="tok-n">n</span> <span class="tok-o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Complete the implementation of this recursive method.</p>
</div>
</li>
<li>
<p><a id="ex19-7"></a> Write an implementation of
fast exponentiation that works for even and odd \(n\). This
implementation is exactly the same as the one given at the end of
<a href="#exponentiationExample">Example 155</a> except when \(n\) is odd.
Use the following recursive definition of exponentiation to guide your
implementation.</p>
<div class="paragraph">
<p>\(a^n =
\begin{cases} a &amp; \text{if  $n=1$} &amp; \text{(Base Case)}
\\
\left(a^{\frac{n}{2}}\right)^2 &amp; \text{if  $n&gt;1$ and even} &amp; \text{(Base Case)}
\\
a\cdot \left(a^{\frac{n - 1}{2}}\right)^2 &amp; \text{if  $n&gt;1$ and odd} &amp; \text{(Base Case)}
\end{cases}\)</p>
</div>
</li>
<li>
<p><a id="ex19-8"></a> <a href="#fibonacciImplementedRecursivelyExample">Example 153</a> shows two implementations that can be used to
find the \(n\)<sup>th</sup> Fibonacci number. With a little bit of
math, it is possible to show that there is a closed-form equation that
gives the \(n\)<sup>th</sup> Fibonacci number \(F_n\) where
\(F_0 = F_1 = 1\).</p>
<div class="paragraph">
<p>\(F_n = \frac{\left(\frac{1 + \sqrt{5}}{2}\right)^{n+1}  -  \left(\frac{1 -
\sqrt{5}}{2}\right)^{n+1}}{\sqrt{5}}\)</p>
</div>
<div class="paragraph">
<p>Although this math is a bit ugly, you can plug numbers into this
equation and discover the value of \(F_n\) quickly, provided
that you have an efficient way to raise values to the
\(n\)<sup>th</sup> power. Use the recursive algorithm for fast
exponentation from <a href="#ex19-7">Exercise 19.7</a> to
make an implementation that finds the \(n\)<sup>th</sup> Fibonacci
number <strong>very</strong> quickly.</p>
</div>
<div class="paragraph">
<p>Note that this approach uses real numbers (including
\(\sqrt{5}\)) that need to be represented as <code>double</code> values.
There are exact methods that use fast exponentiation of integer matrices
to do this computation without doing any floating-point arithmetic, but
we do not go into those details here.</p>
</div>
</li>
<li>
<p><a id="ex19-9"></a> <a href="#recursiveLinkedListSizeExample">Example 157</a> shows a way to calculate the size of a linked list
recursively. Add a recursive method called <code>print()</code> to the
<code>RecursiveListSize</code> class that prints out the values in the linked list
recursively, on each line.</p>
</li>
<li>
<p><a id="ex19-10"></a> Expand the previous exercise
to add another method called <code>reversePrint()</code> that prints out the values
in the linked list the <strong>opposite</strong> order that they appear. It should take
only a slight modification of the <code>print()</code> method you have already
written.</p>
</li>
<li>
<p><a id="ex19-11"></a> Create a recursive <code>find()</code> method (and a
non-recursive proxy method to call it) for the <code>Tree</code> class given in
<a href="#TreeProgram">Program 105</a>. Its operation is similar to the <code>add()</code>
method. If the subtree it is examining is empty (<code>null</code>), it should
return <code>false</code>. If the value it is looking for is at the root of the
current subtree, it should return <code>true</code>. These are the two base cases.
If the value it is looking for comes earlier in the alphabet than the
value at the root of the current subtree, it should look in the left
subtree. If the value it is looking for comes later in the alphabet than
the value at the root of the current subtree, it should look in the
right subtree. These are the two recursive cases.</p>
</li>
<li>
<p><a id="ex19-12"></a> The height of a binary tree is defined as
the longest path from the root to any leaf node. Thus, the height of a
tree with only a root node in it is 0. By convention, the height of an
empty tree is -1.</p>
<div class="paragraph">
<p>Create a recursive <code>getHeight()</code> method (and a non-recursive proxy
method to call it) for the <code>Tree</code> class given in
<a href="#TreeProgram">Program 105</a>. The base case is an empty tree (a <code>null</code>
pointer), which has a height of -1. For the recursive case of a
non-empty tree, its height is one more than the height of the larger of
its two subtrees.</p>
</div>
</li>
<li>
<p><a id="ex19-13"></a> Create an <code>interface</code> that
describes a tree ADT. Modify the programs in <a href="#binarySearchTreeExample">Example 158</a> to use this <code>interface</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Experiments</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="14">
<li>
<p><a id="ex19-14"></a> Write an iterative version of the factorial function and compare its
speed to the recursive version given in the text. Use the
<code>System.currentTimeMillis()</code> or<br>
<code>System.nanoTime()</code> methods before and after <code>for</code> loops that call the
factorial methods 1,000,000 times each for random values.</p>
</li>
<li>
<p><a id="ex19-15"></a> Write a program that generates four arrays
of random <code>int</code> values with lengths 1,000, 10,000, 100,000, and
1,000,000. Make two additional copies of each array. Then, sort each of
three copies of the array with the selection sort algorithm given in
<a href="chap5.html#selectionSortExample">Example 63</a>, the bubble sort algorithm given in
<a href="chap9.html#_problem_sort_it_out">Section 10.1</a>, and the merge sort algorithm given in
<a href="#mergeSortExample">Example 156</a>, respectively. Use the
<code>System.currentTimeMillis()</code> or <code>System.nanoTime()</code> methods to time each
of the sorts. Note that both selection sort and bubble sort may take
quite a while to sort an array of 1,000,000 elements.</p>
<div class="paragraph">
<p>Run the program several times and find average values for each algorithm
on each array size. Plot those times on a graph. The times needed to run
selection sort and bubble sort should increase quadratically, but the
time to run merge sort should increase linearithmically. In other words,
an array length of \(n\) should take time proportional to
\(n^2\) (multiplied by some constant) for selection sort and
bubble sort, but it should take time proportional to
\(n \log n\) (multiplied by some constant) for merge sort. For
large arrays, the difference in time is significant.</p>
</div>
</li>
<li>
<p><a id="ex19-16"></a> Investigate the performance of using recursion to compute Fibonacci
numbers. Implement the naive recursive solution, the memoization method,
and an iterative solution similar to the memoization method. Use the
<code>System.currentTimeMillis()</code> or <code>System.nanoTime()</code> methods to time the
computations for large values of <code>n</code>. (<strong>Warning:</strong> It may take a very
long time to compute the <code>n</code><sup>th</sup> Fibonacci number with the naive
recursive solution.)</p>
</li>
<li>
<p><a id="ex19-17"></a> <a href="chap5.html#ex6-9">Exercise 6.9</a> from <a href="chap5.html#ch06-arrays">Chapter 6</a> explains how binary search can be used to search for a value in a sorted
array of values. The idea is to play a high-low game, first looking
at the middle value. If the value is the one youre looking for, youre
done. If it is too high, look in the lower half of the array. If it is
too low, look in the upper half of the array. Implement binary search
both iteratively and recursively. Populate an array with 100,000 <code>int</code>
values between 1 and 10,000,000 and sort it. Then, search for 1,000,000
random values generated betwee 1 and 10,000,000 using iterative binary
search and then recursive binary search. Use the
<code>System.currentTimeMillis()</code> or <code>System.nanoTime()</code> methods to time each
process. Was the iterative or recursive approach faster? By how much?</p>
</li>
</ol>
</div>
</div>
</div>
</div></div>
<div id="footer">
<div id="footer-text">
Last updated 2018-12-07 10:07:59 EST
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>