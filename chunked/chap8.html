<!DOCTYPE html><html lang="en"><head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<meta name="author" content="Barry Wittman, Tim Korb, Aditya Mathur">
<title>Start Concurrent: A Gentle Introduction to Concurrent Programming</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="style0.css" type="text/css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="style1.css" type="text/css">
<link rel="stylesheet" href="asciidoctor-chunker.css" type="text/css"></head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Start Concurrent: A Gentle Introduction to Concurrent Programming</h1>
<div class="details">
<span id="author" class="author">Barry Wittman</span><br>
<span id="email" class="email"><a href="mailto:wittman1@otterbein.edu">wittman1@otterbein.edu</a></span><br>
<span id="author2" class="author">Tim Korb</span><br>
<span id="email2" class="email"><a href="mailto:jtk@purdue.edu">jtk@purdue.edu</a></span><br>
<span id="author3" class="author">Aditya Mathur</span><br>
<span id="email3" class="email"><a href="mailto:apm@purdue.edu">apm@purdue.edu</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="index.html">Titlepage</a></li><li><a href="index.html">1. Computer Basics</a>
<ul class="sectlevel2">
<li><a href="index.html#_problem_buying_a_computer">1.1. Problem: Buying a computer</a></li>
<li><a href="index.html#_concepts_hardware_and_software">1.2. Concepts: Hardware and software</a></li>
<li><a href="index.html#_syntax_data_representation">1.3. Syntax: Data representation</a></li>
<li><a href="index.html#_solution_buying_a_computer">1.4. Solution: Buying a computer</a></li>
<li><a href="index.html#_summary">1.5. Summary</a></li>
<li><a href="index.html#_exercises">1.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap2.html">2. Problem Solving and Programming</a>
<ul class="sectlevel2">
<li><a href="chap2.html#_problem_how_to_solve_problems">2.1. Problem: How to solve problems</a></li>
<li><a href="chap2.html#_concepts_developing_software">2.2. Concepts: Developing software</a></li>
<li><a href="chap2.html#_syntax_java_basics">2.3. Syntax: Java basics</a></li>
<li><a href="chap2.html#_solution_how_to_solve_problems">2.4. Solution: How to solve problems</a></li>
<li><a href="chap2.html#_concurrency_solving_problems_in_parallel">2.5. Concurrency: Solving problems in parallel</a></li>
<li><a href="chap2.html#_summary_2">2.6. Summary</a></li>
<li><a href="chap2.html#_exercises_2">2.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap3.html">3. Primitive Types and Strings</a>
<ul class="sectlevel2">
<li><a href="chap3.html#_problem_college_cost_calculator">3.1. Problem: College cost calculator</a></li>
<li><a href="chap3.html#_concepts_types">3.2. Concepts: Types</a></li>
<li><a href="chap3.html#_syntax_types_in_java">3.3. Syntax: Types in Java</a></li>
<li><a href="chap3.html#_syntax_useful_libraries">3.4. Syntax: Useful libraries</a></li>
<li><a href="chap3.html#_solution_college_cost_calculator">3.5. Solution: College cost calculator</a></li>
<li><a href="chap3.html#_concurrency_expressions">3.6. Concurrency: Expressions</a></li>
<li><a href="chap3.html#_summary_3">3.7. Summary</a></li>
<li><a href="chap3.html#_exercises_3">3.8. Exercises</a></li>
</ul>
</li>
<li><a href="chap4.html">4. Selection</a>
<ul class="sectlevel2">
<li><a href="chap4.html#_problem_monty_hall_simulation">4.1. Problem: Monty Hall simulation</a></li>
<li><a href="chap4.html#_concepts_choosing_between_options">4.2. Concepts: Choosing between options</a></li>
<li><a href="chap4.html#_syntax_selection_in_java">4.3. Syntax: Selection in Java</a></li>
<li><a href="chap4.html#_solution_monty_hall">4.4. Solution: Monty Hall</a></li>
<li><a href="chap4.html#_concurrency_selection">4.5. Concurrency: Selection</a></li>
<li><a href="chap4.html#_exercises_4">4.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap5.html">5. Repetition</a>
<ul class="sectlevel2">
<li><a href="chap5.html#_problem_dna_searching">5.1. Problem: DNA searching</a></li>
<li><a href="chap5.html#_concepts_repetition">5.2. Concepts: Repetition</a></li>
<li><a href="chap5.html#_syntax_loops_in_java">5.3. Syntax: Loops in Java</a></li>
<li><a href="chap5.html#_solution_dna_searching">5.4. Solution: DNA searching</a></li>
<li><a href="chap5.html#_concurrency_loops">5.5. Concurrency: Loops</a></li>
<li><a href="chap5.html#_exercises_5">5.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap6.html">6. Arrays</a>
<ul class="sectlevel2">
<li><a href="chap6.html#_introduction">6.1. Introduction</a></li>
<li><a href="chap6.html#_problem_game_of_life">6.2. Problem: Game of Life</a></li>
<li><a href="chap6.html#_concepts_lists_of_data">6.3. Concepts: Lists of data</a></li>
<li><a href="chap6.html#_syntax_arrays_in_java">6.4. Syntax: Arrays in Java</a></li>
<li><a href="chap6.html#_examples_array_usage">6.5. Examples: Array usage</a></li>
<li><a href="chap6.html#_concepts_multidimensional_lists">6.6. Concepts: Multidimensional lists</a></li>
<li><a href="chap6.html#_syntax_advanced_arrays_in_java">6.7. Syntax: Advanced arrays in Java</a></li>
<li><a href="chap6.html#_examples_two_dimensional_arrays">6.8. Examples: Two-dimensional arrays</a></li>
<li><a href="chap6.html#_advanced_special_array_tools_in_java">6.9. Advanced: Special array tools in Java</a></li>
<li><a href="chap6.html#_solution_game_of_life">6.10. Solution: Game of Life</a></li>
<li><a href="chap6.html#_concurrency_arrays">6.11. Concurrency: Arrays</a></li>
<li><a href="chap6.html#_exercises_6">6.12. Exercises</a></li>
</ul>
</li>
<li><a href="chap7.html">7. Simple Graphical User Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap7.html#_problem_codon_extractor">7.1. Problem: Codon extractor</a></li>
<li><a href="chap7.html#GUIBasicsIntroductionSection">7.2. Concepts: User interaction</a></li>
<li><a href="chap7.html#_syntax_dialogs_and_the_joptionpane_class">7.3. Syntax: Dialogs and the <code>JOptionPane</code> class</a></li>
<li><a href="chap7.html#_solution_codon_extractor">7.4. Solution: Codon extractor</a></li>
<li><a href="chap7.html#_concurrency_simple_guis">7.5. Concurrency: Simple GUIs</a></li>
<li><a href="chap7.html#_summary_4">7.6. Summary</a></li>
<li><a href="chap7.html#_exercises_7">7.7. Exercises</a></li>
</ul>
</li>
<li class="current"><a href="chap8.html">8. Methods</a>
<ul class="sectlevel2">
<li class="current"><a href="chap8.html#_problem_three_card_poker">8.1. Problem: Three card poker</a></li>
<li class="current"><a href="chap8.html#_concepts_dividing_work_into_segments">8.2. Concepts: Dividing work into segments</a></li>
<li class="current"><a href="chap8.html#_syntax_methods">8.3. Syntax: Methods</a></li>
<li class="current"><a href="chap8.html#_examples_defining_methods">8.4. Examples: Defining methods</a></li>
<li class="current"><a href="chap8.html#_solution_three_card_poker">8.5. Solution: Three card poker</a></li>
<li class="current"><a href="chap8.html#_concurrency_methods">8.6. Concurrency: Methods</a></li>
<li class="current"><a href="chap8.html#_exercises_8">8.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap9.html">9. Classes</a>
<ul class="sectlevel2">
<li><a href="chap9.html#_problem_nested_expressions">9.1. Problem: Nested expressions</a></li>
<li><a href="chap9.html#_concepts_object_oriented_programming">9.2. Concepts: Object-oriented programming</a></li>
<li><a href="chap9.html#_syntax_classes_in_java">9.3. Syntax: Classes in Java</a></li>
<li><a href="chap9.html#_advanced_nested_classes">9.4. Advanced: Nested classes</a></li>
<li><a href="chap9.html#_solution_nested_expressions">9.5. Solution: Nested expressions</a></li>
<li><a href="chap9.html#_concurrency_objects">9.6. Concurrency: Objects</a></li>
<li><a href="chap9.html#_exercises_9">9.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap10.html">10. Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap10.html#_problem_sort_it_out">10.1. Problem: Sort it out</a></li>
<li><a href="chap10.html#_concepts_making_a_promise">10.2. Concepts: Making a promise</a></li>
<li><a href="chap10.html#_syntax_interfaces">10.3. Syntax: Interfaces</a></li>
<li><a href="chap10.html#_advanced_local_and_anonymous_classes">10.4. Advanced: Local and anonymous classes</a></li>
<li><a href="chap10.html#_solution_sort_it_out">10.5. Solution: Sort it out</a></li>
<li><a href="chap10.html#_concurrency_interfaces">10.6. Concurrency: Interfaces</a></li>
<li><a href="chap10.html#_exercises_10">10.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap11.html">11. Inheritance</a>
<ul class="sectlevel2">
<li><a href="chap11.html#_problem_boolean_circuits">11.1. Problem: Boolean circuits</a></li>
<li><a href="chap11.html#_concepts_refining_classes">11.2. Concepts: Refining classes</a></li>
<li><a href="chap11.html#_syntax_inheritance_in_java">11.3. Syntax: Inheritance in Java</a></li>
<li><a href="chap11.html#_examples_problem_solving_with_inheritance">11.4. Examples: Problem solving with inheritance</a></li>
<li><a href="chap11.html#_solution_boolean_circuits">11.5. Solution: Boolean circuits</a></li>
<li><a href="chap11.html#_concurrency_inheritance">11.6. Concurrency: Inheritance</a></li>
<li><a href="chap11.html#_exercises_11">11.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap12.html">12. Exceptions</a>
<ul class="sectlevel2">
<li><a href="chap12.html#_problem_bank_burglary">12.1. Problem: Bank burglary</a></li>
<li><a href="chap12.html#_concepts_error_handling">12.2. Concepts: Error handling</a></li>
<li><a href="chap12.html#_syntax_exceptions_in_java">12.3. Syntax: Exceptions in Java</a></li>
<li><a href="chap12.html#_solution_bank_burglary">12.4. Solution: Bank burglary</a></li>
<li><a href="chap12.html#_concurrency_exceptions">12.5. Concurrency: Exceptions</a></li>
<li><a href="chap12.html#_exercises_12">12.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap13.html">13. Concurrent Programming</a>
<ul class="sectlevel2">
<li><a href="chap13.html#_introduction_2">13.1. Introduction</a></li>
<li><a href="chap13.html#_problem_deadly_virus">13.2. Problem: Deadly virus</a></li>
<li><a href="chap13.html#_concepts_splitting_up_work">13.3. Concepts: Splitting up work</a></li>
<li><a href="chap13.html#_syntax_threads_in_java">13.4. Syntax: Threads in Java</a></li>
<li><a href="chap13.html#_examples_concurrency_and_speedup">13.5. Examples: Concurrency and speedup</a></li>
<li><a href="chap13.html#_concepts_thread_scheduling">13.6. Concepts: Thread scheduling</a></li>
<li><a href="chap13.html#_syntax_thread_states">13.7. Syntax: Thread states</a></li>
<li><a href="chap13.html#_solution_deadly_virus">13.8. Solution: Deadly virus</a></li>
<li><a href="chap13.html#_summary_5">13.9. Summary</a></li>
<li><a href="chap13.html#_exercises_13">13.10. Exercises</a></li>
</ul>
</li>
<li><a href="chap14.html">14. Synchronization</a>
<ul class="sectlevel2">
<li><a href="chap14.html#_introduction_3">14.1. Introduction</a></li>
<li><a href="chap14.html#_problem_dining_philosophers">14.2. Problem: Dining philosophers</a></li>
<li><a href="chap14.html#_concepts_thread_interaction">14.3. Concepts: Thread interaction</a></li>
<li><a href="chap14.html#_syntax_thread_synchronization">14.4. Syntax: Thread synchronization</a></li>
<li><a href="chap14.html#_pitfalls_synchronization_challenges">14.5. Pitfalls: Synchronization challenges</a></li>
<li><a href="chap14.html#_solution_dining_philosophers">14.6. Solution: Dining philosophers</a></li>
<li><a href="chap14.html#_exercises_14">14.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap15.html">15. Constructing Graphical User Interfaces</a>
<ul class="sectlevel2">
<li><a href="chap15.html#_problem_math_tutor">15.1. Problem: Math tutor</a></li>
<li><a href="chap15.html#_concepts_graphical_user_interfaces">15.2. Concepts: Graphical user interfaces</a></li>
<li><a href="chap15.html#_syntax_guis_in_java">15.3. Syntax: GUIs in Java</a></li>
<li><a href="chap15.html#_solution_math_tutor">15.4. Solution: Math tutor</a></li>
<li><a href="chap15.html#_concurrency_guis">15.5. Concurrency: GUIs</a></li>
<li><a href="chap15.html#_summary_6">15.6. Summary</a></li>
<li><a href="chap15.html#_exercises_15">15.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap16.html">16. Testing and Debugging</a>
<ul class="sectlevel2">
<li><a href="chap16.html#_fixing_bugs">16.1. Fixing bugs</a></li>
<li><a href="chap16.html#_concepts_approaches_to_debugging">16.2. Concepts: Approaches to debugging</a></li>
<li><a href="chap16.html#_syntax_java_debugging_tools">16.3. Syntax: Java debugging tools</a></li>
<li><a href="chap16.html#_concurrency_parallel_bugs">16.4. Concurrency: Parallel bugs</a></li>
<li><a href="chap16.html#_finding_and_avoiding_bugs">16.5. Finding and avoiding bugs</a></li>
<li><a href="chap16.html#_concepts_design_implementation_and_testing">16.6. Concepts: Design, implementation, and testing</a></li>
<li><a href="chap16.html#_syntax_java_testing_tools">16.7. Syntax: Java testing tools</a></li>
<li><a href="chap16.html#_concurrency_testing_tools">16.8. Concurrency: Testing tools</a></li>
<li><a href="chap16.html#_examples_testing_a_class">16.9. Examples: Testing a class</a></li>
<li><a href="chap16.html#_exercises_16">16.10. Exercises</a></li>
</ul>
</li>
<li><a href="chap17.html">17. Polymorphism</a>
<ul class="sectlevel2">
<li><a href="chap17.html#_problem_banking_account_with_a_vengeance">17.1. Problem: Banking account with a vengeance</a></li>
<li><a href="chap17.html#_concepts_polymorphism">17.2. Concepts: Polymorphism</a></li>
<li><a href="chap17.html#_syntax_inheritance_tools_in_java">17.3. Syntax: Inheritance tools in Java</a></li>
<li><a href="chap17.html#_solution_banking_account_with_a_vengeance">17.4. Solution: Banking account with a vengeance</a></li>
<li><a href="chap17.html#_concurrency_atomic_libraries">17.5. Concurrency: Atomic libraries</a></li>
<li><a href="chap17.html#_exercises_17">17.6. Exercises</a></li>
</ul>
</li>
<li><a href="chap18.html">18. Dynamic Data Structures</a>
<ul class="sectlevel2">
<li><a href="chap18.html#_problem_infix_conversion">18.1. Problem: Infix conversion</a></li>
<li><a href="chap18.html#_concepts_dynamic_data_structures">18.2. Concepts: Dynamic data structures</a></li>
<li><a href="chap18.html#_syntax_dynamic_arrays_and_linked_lists">18.3. Syntax: Dynamic arrays and linked lists</a></li>
<li><a href="chap18.html#_syntax_abstract_data_types_adt">18.4. Syntax: Abstract data types (ADT)</a></li>
<li><a href="chap18.html#_advanced_generic_data_structures">18.5. Advanced: Generic data structures</a></li>
<li><a href="chap18.html#_solution_infix_conversion">18.6. Solution: Infix conversion</a></li>
<li><a href="chap18.html#_concurrency_linked_lists_and_thread_safety">18.7. Concurrency: Linked lists and thread safety</a></li>
<li><a href="chap18.html#_concurrency_thread_safe_libraries">18.8. Concurrency: Thread-safe libraries</a></li>
<li><a href="chap18.html#_exercises_18">18.9. Exercises</a></li>
</ul>
</li>
<li><a href="chap19.html">19. Recursion</a>
<ul class="sectlevel2">
<li><a href="chap19.html#_problem_maze_of_doom">19.1. Problem: Maze of doom</a></li>
<li><a href="chap19.html#_concepts_recursive_problem_solving">19.2. Concepts: Recursive problem solving</a></li>
<li><a href="chap19.html#_syntax_recursive_methods">19.3. Syntax: Recursive methods</a></li>
<li><a href="chap19.html#_syntax_recursive_data_structures">19.4. Syntax: Recursive data structures</a></li>
<li><a href="chap19.html#_solution_maze_of_doom">19.5. Solution: Maze of doom</a></li>
<li><a href="chap19.html#_concurrency_futures">19.6. Concurrency: Futures</a></li>
<li><a href="chap19.html#_exercises_19">19.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap20.html">20. File I/O</a>
<ul class="sectlevel2">
<li><a href="chap20.html#_problem_a_picture_is_worth_1000_bytes">20.1. Problem: A picture is worth 1,000 bytes</a></li>
<li><a href="chap20.html#_concepts_file_io">20.2. Concepts: File I/O</a></li>
<li><a href="chap20.html#_syntax_file_operations_in_java">20.3. Syntax: File operations in Java</a></li>
<li><a href="chap20.html#_examples_file_examples">20.4. Examples: File examples</a></li>
<li><a href="chap20.html#fileChapterSolution">20.5. Solution: A picture is worth 1,000 bytes</a></li>
<li><a href="chap20.html#_concurrency_file_io">20.6. Concurrency: File I/O</a></li>
<li><a href="chap20.html#_exercises_20">20.7. Exercises</a></li>
</ul>
</li>
<li><a href="chap21.html">21. Network Communication</a>
<ul class="sectlevel2">
<li><a href="chap21.html#_problem_web_server">21.1. Problem: Web server</a></li>
<li><a href="chap21.html#_concepts_tcpip_communication">21.2. Concepts: TCP/IP communication</a></li>
<li><a href="chap21.html#_syntax_networking_in_java">21.3. Syntax: Networking in Java</a></li>
<li><a href="chap21.html#_solution_web_server">21.4. Solution: Web server</a></li>
<li><a href="chap21.html#_concurrency_networking">21.5. Concurrency: Networking</a></li>
<li><a href="chap21.html#_exercises_21">21.6. Exercises</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content"><div class="sect1">
<h2 id="ch08-methods">8. Methods</h2>
<div class="sectionbody">
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Polonius (Aside): Though this be madness, yet there is method in ’t.</p>
</div>
</blockquote>
<div class="attribution">
— William Shakespeare
</div>
</div>
<div class="sect2">
<h3 id="_problem_three_card_poker">8.1. Problem: Three card poker</h3>
<div class="paragraph">
<p>Gambling has held a fascination for humankind since its invention. As
long as there have been mathematicians, they have studied the underlying
mechanisms of probability and statistics that drive games of chance. A
classic game of both statistics and strategy is poker. The problem we
want to solve is programming one of the many variations of poker, called
three card poker. Instead of bluffing, a player competes only with the
house according to fixed rules without any room for psychology. A player
is dealt three cards. If the player’s hand contains a pair or better, he
or she wins a payoff greater than or equal to the money bet. If the
player does not have a pair or better, he or she loses the money bet.
Below is a table giving one possible set of payoffs for each possible
hand.</p>
</div>
<table class="tableblock frame-all grid-all fit-content center">
<colgroup>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Hand</th>
<th class="tableblock halign-center valign-top">Payoff</th>
<th class="tableblock halign-center valign-top"></th>
<th class="tableblock halign-center valign-top">Hand</th>
<th class="tableblock halign-center valign-top">Payoff</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Straight Flush</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">40</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Flush</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Three of a Kind</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">30</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Pair</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Straight</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Nothing</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If you’re unfamiliar with poker rules or card games in general, here’s
a quick explanation of the various hands. A traditional English or
American deck of cards is made up of 52 cards, organized into four
suits: spades, hearts, diamonds, and clubs. In each suit, there are 13
ranks: two, three, four, five, six, seven, eight, nine, ten, jack,
queen, king, and ace.</p>
</div>
<div class="paragraph">
<p>In three card poker, a straight is when the three cards can be arranged
so that their ranks (ignoring suit) are in order. For example, a hand
consisting of a Four of Diamonds, a Five of Spades, and a Six of Clubs
would constitute a straight. An ace can serve as either the highest rank
card (coming after a king) or the lowest rank card (coming before a two)
and can help form a straight in either role (but not both at the same
time). A flush is when all three cards have the same suit. For example,
a Three of Hearts, a Seven of Hearts, and a Jack of Hearts would
constitute a flush in three card poker. A straight flush, the highest
hand, is made up of cards that form both a straight (by rank ordering)
and a flush (by uniformity of suit). A three of a kind occurs when all
three cards have the same rank, and a pair occurs when two of the cards
have the same rank. When none of these conditions hold, the hand has no
special designation in three card poker, and the bet is lost.</p>
</div>
<div class="paragraph">
<p>Your task is to write a program that serves as a computerized version of
the game. You must create a deck of 52 cards, thoroughly randomize them
to simulate shuffling, and select the first three cards as a hand. You
must then determine the highest designation that applies to the hand of
cards and the corresponding winnings (if any).</p>
</div>
<div class="paragraph">
<p>Any reasonable solution to this problem uses arrays, discussed in the
previous chapter. Using only that knowledge, you should be able to
create a three card poker game. However, the focus of this chapter is
<em>methods</em>, which can be used to break the solution to a problem into
logical pieces. By dividing the solution in this way, we’ll be able to
solve the three card poker problem in a relatively short, elegant, and
easy to read way.</p>
</div>
</div>
<div class="sect2">
<h3 id="_concepts_dividing_work_into_segments">8.2. Concepts: Dividing work into segments</h3>
<div class="paragraph">
<p>You should notice that the solutions to problems we’ve been working on
have become increasingly complex as the book progresses. This
progression is partly because we want to solve more interesting problems
with more complex solutions but also because we’ve introduced additional Java tools
that make solving these harder problems possible.</p>
</div>
<div class="paragraph">
<p>Surprisingly, the tools we introduce in this chapter do not allow you to solve a
problem you couldn’t solve before. Instead, the tools in this chapter
and in the next make solving a problem easier and less susceptible
to errors. A relatively long, complicated list of Java statements was
necessary to solve problems like the statistics program or Conway’s Game
of Life. Instead of solving those problems as a single monolithic
segment of code, we can break our solutions into units called <em>static
methods</em>.</p>
</div>
<div class="sect3">
<h4 id="_reasons_for_static_methods">8.2.1. Reasons for <code>static</code> methods</h4>
<div class="paragraph">
<p>A static method is a short, named segment of code that’s been packaged
up so that it can be <em>called</em> from other parts of the program. Whenever
the task performed by this method is needed, the execution of the
program jumps to the code in the method, does the work it’s supposed
to, and then returns to whatever it was doing before.</p>
</div>
<div class="paragraph">
<p>The reasons for using static methods can be boiled down to three
essentials:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Modularity</dt>
<dd>
<p>Very little software is written by individuals. Commercial
software can have tens or even hundreds of developers involved in
designing, implementing, testing, and maintaining code. When the code’s
divided into individual methods, those methods can be written and
tested by different people with minimal interference. It’s much
harder to work together on one giant block of code.</p>
</dd>
<dt class="hdlist1">Readability</dt>
<dd>
<p>Methods are <strong>named</strong> segments of code. When a method is called, its
name is used. If a meaningful name is chosen, the line in the code
that calls the method helps document the code by explaining what’s
happening. For example, if a method called <code>sort()</code> is used, a reader
instantly understands that something’s being sorted. If, instead of a
separate <code>sort()</code> method, the code that does sorting was pasted into
the same location, a reader might have to devote a few moments to
understanding the meaning of those lines of code, particularly without
comments.</p>
</dd>
<dt class="hdlist1">Reusability</dt>
<dd>
<p>  The fact that a method can be called from anywhere in the code makes
  it reusable. To use the <code>sort()</code> example again, we might have to sort
  several different arrays in one program. Without methods, we’d
  have to keep copying and pasting code over and over again. With
  methods, the total amount of source code can be smaller. In fact, if
  you find yourself copying and pasting code, it’s often an indication
  that a method would be useful.<br>
<br>
  This idea of reusability stretches beyond individual programs. A
  static method can be called from an entirely different program. If you
  create a method that’s really useful, you’re free to use it in other
  programs you write. By doing so, you only have to makes changes in
  one place if you discover errors or want to increase its
  functionality.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_parallel_to_mathematical_functions">8.2.2. Parallel to mathematical functions</h4>
<div class="paragraph">
<p>We’ve been discussing the usefulness of static methods without saying
exactly what they are. One way to get insight into methods is by
acknowledging their similarity to functions from mathematics. In
procedural (non-object oriented) languages like C, the equivalents of
static methods are usually referred to as functions. Like
functions in mathematics, a static method takes some number of inputs
(possibly as few as zero) and usually produces some output.</p>
</div>
<div class="paragraph">
<p>You’ve already used several static methods from the <code>Math</code> class, such
as <code>Math.sqrt()</code>. Consider the following function.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="chapters/08-methods/images/root.svg" alt="root" width="15%">
</div>
</div>
<div class="paragraph">
<p>This function mirrors the code inside of <code>Math.sqrt()</code>. In math, when you apply <em>f</em>(<em>x</em>) to
a specific value, you might write <em>y</em> = <em>f</em>(5). In Java,
you might type the following.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">double</span> <span class="n">y</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">sqrt</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the statement <em>f</em>(5), the placeholder variable <em>x</em> takes on the value 5.
In the same way, some variable inside of
<code>Math.sqrt()</code> takes on the value <code>5</code> when the method is called.</p>
</div>
<div class="paragraph">
<p>It’s important to understand this similarity between methods and
mathematical functions because the designers of many programming
languages have been directly influenced by the older notation. However,
there are many differences between the two concepts as well.
Mathematical functions can take more than one input, and so can Java
methods. Java methods can also take no input, while the central idea of a
mathematical function is to map some input value(s) to some output
value. Java methods do not necessarily even have output values. They may
just <strong>do</strong> something.</p>
</div>
</div>
<div class="sect3">
<h4 id="_control_flow">8.2.3. Control flow</h4>
<div class="paragraph">
<p>We have discussed selection statements such as <code>if</code> and <code>switch</code> as well
as three different looping structures, <code>for</code>, <code>while</code>, and <code>do</code>-<code>while</code>.
Each of these Java language features is used for control flow. The
selection statements allow your program to choose which code to execute.
The loops allow your code to repeatedly execute certain code. Methods
also affect control flow. When a method is called, the execution of the
program jumps into the method, does all the work it needs to there, and
then returns to the code that called it. Recall the very simple example
from above.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">double</span> <span class="n">y</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">sqrt</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The JVM has allocated a variable of type <code>double</code> and is preparing to
assign a value to it. Suddenly, the execution of the JVM jumps into the
code inside of the <code>Math.sqrt()</code> method. It takes some non-trivial
amount of work to compute the square root of a number. After that
computation is finished, the flow of execution returns to the assignment
that has been waiting all that time. Just like a mathematical function,
we can treat the method call <code>Math.sqrt(5)</code> as if it were “magically”
replaced by a <code>double</code> approximating the square root of 5.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_syntax_methods">8.3. Syntax: Methods</h3>
<div class="paragraph">
<p>By now, you should have a good feel for the concepts behind calling and
even creating static methods and are probably getting impatient to use
them. However, we haven’t yet described all the details of Java method syntax. First, we’ll describe how you can create your own static
methods, then we’ll discuss the finer points of calling static methods, and
finally we’ll explain how <em>class variables</em> can be used from many different
methods.</p>
</div>
<div class="sect3">
<h4 id="_defining_methods">8.3.1. Defining methods</h4>
<div class="paragraph">
<p>A very simple method that the <code>Math</code> class provides is the <code>Math.max()</code>
method. This method selects the larger of the two values provided as
input.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">maximum</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="mi">10</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this case, the value stored into <code>maximum</code> is <code>10</code>. Despite its
simplicity, we demonstrated how useful this method could be in our
solution to Conway’s Game of Life from <a href="chap6.html">Chapter 6</a>. If we
wanted to write this method ourselves, the code would be as follows.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">max</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span><span class="o">(</span><span class="n">a</span> <span class="o">&gt;=</span> <span class="n">b</span><span class="o">)</span>
        <span class="k">return</span> <span class="n">a</span><span class="o">;</span>
    <span class="k">else</span>
        <span class="k">return</span> <span class="n">b</span><span class="o">;</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Even in such a small method, there’s a lot of syntax to
worry about. The first line of this method is called the <em>method
header</em>. The <code>public</code> keyword in this header is used to denote that any
code, even code from a different class, can call this method. We discuss
restricting access to methods and variables more in the later part of
this chapter. For now, assume that every method is <code>public</code>.</p>
</div>
<div class="paragraph">
<p>The keyword <code>static</code> indicates that this method is static. Although we
have used the term <em>static method</em> many times, we have not yet defined
it. A static method is linked to a whole class, not to a specific object
of that class–that is, a static method can be called without referencing
an object of the class. Again, we discuss the finer points of objects
and classes in the next chapter. For now, all methods are <code>static</code>.</p>
</div>
<div class="paragraph">
<p>The third keyword in the method header is the familiar <code>int</code>, giving the
return type of the method. Wherever this method is called, it can be
treated like an <code>int</code> value, because that’s what it gives back. In this
case, the return type is obvious: The maximum of two <code>int</code> values must
also be an <code>int</code> value. Any type can be used as a return value including
all the primitive types and any reference or array types. The only
limitation is that a method can only return a single item, but since
that item can be an array, this limitation is usually not important. It’s
also possible for a method to return nothing. In that case, the
keyword <code>void</code> is used for the return type.</p>
</div>
<div class="paragraph">
<p>Next in the method header is the identifier <code>max</code>, which is the name of
the method. Any legal identifier that you can use for a variable name is
valid for a method name as well. It’s important to pick a name that’s
readable and gives a reader a clear idea about what the method does. A
common convention is to name a method using a verb phrase, indicating
the operation that is being done by that method (e.g., <code>computeTax</code>).
Like variable names, the Java standard is to use camel notation,
starting with a lowercase letter and capitalizing the first letter of
each new word in the name.</p>
</div>
<div class="paragraph">
<p>After the name of the method is the list of <em>parameters</em>, separated
by commas. In this case, each parameter has the <code>int</code> type. You’re free
to name your parameters whatever you want, though they should be
meaningful. You can have as few as zero parameters, but there’s an
upper limit imposed by the JVM, usually 255. The body of the method
follows the header of the method, surrounded by braces (<code>{ }</code>). Unlike
<code>if</code> statements and loops, the braces for methods are <strong>required</strong>.</p>
</div>
<div class="paragraph">
<p>Inside the body of a method, the usual rules for Java control flow
apply. Each line is executed one by one unless there are selection
statements or loops. Calling methods inside of methods is also allowed. In the <code>max()</code> method, we use an <code>if</code>-<code>else</code> construction to find
the larger of <code>a</code> and <code>b</code>. A <code>return</code> statement immediately stops
execution of the method, transfers execution back to the calling code,
and gives back the value that comes after it. In this case, the value of
<code>a</code> is returned if it is equal or larger, and the value of <code>b</code> is
returned otherwise. Because a <code>return</code> statement immediately jumps out
of a method, we could have written the method with one fewer line of
code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">max</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span><span class="o">(</span><span class="n">a</span> <span class="o">&gt;=</span> <span class="n">b</span><span class="o">)</span>
        <span class="k">return</span> <span class="n">a</span><span class="o">;</span>
    <span class="k">return</span> <span class="n">b</span><span class="o">;</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The only way that the line <code>return b;</code> can be reached is if <code>a</code> had not
already been returned.</p>
</div>
<div class="paragraph">
<p>Beginner programmers sometimes ask what to do if <code>a</code> and <code>b</code> are equal.  In our code it’s clear that the value of <code>a</code> will be returned, but it hardly matters: two equal <code>int</code> values are indistinguishable from each other.  Some students imagine handling this special case by printing an error message, but that approach is seldom useful.  When trying to find the larger of two numbers in programming, it’s usually the value we want, not information about which one is actually larger.</p>
</div>
<div class="sect4">
<h5 id="_the_main_method">The <code>main()</code> method</h5>
<div class="paragraph">
<p>If some of this syntax seems eerily familiar, remember that you’ve
been coding static methods since your very first Java program. The
<code>main()</code> method is just another static method, special only because the
JVM chooses to start execution there. Let’s look at the <code>main()</code> method
from a standard Hello, World! program.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hello, world!"</span><span class="o">);</span>
    <span class="k">return</span><span class="o">;</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Just like the <code>max()</code> method, the header for <code>main()</code> starts with
<code>public static</code>. Then, the return type for <code>main()</code> is <code>void</code> because
the JVM is not expecting to get any answer back. The <code>main()</code> method has
a single parameter, an array <code>String</code> values. In this program, we do
not use the <code>args</code> parameter, but it is available. For the <code>main()</code>
method, this declaration is fine, because <code>main()</code> has to be uniform
across all programs. However, when designing your own methods, you
should not include unnecessary parameters.</p>
</div>
<div class="paragraph">
<p>The final executable line in this <code>main()</code> method is a <code>return</code>
statement. Because <code>main()</code> has a <code>void</code> return type, the <code>return</code>
statement has no value to return. For <code>void</code> methods, a <code>return</code>
statement is optional. You can use it to leave a method early if
desired. For a value-returning method, execution <strong>must</strong> reach a <code>return</code>
statement with a valid value no matter what the input of the method is.
If Java finds a way that execution could reach the end of a value
returning method without reaching a <code>return</code> statement, it causes a
compiler error.</p>
</div>
</div>
<div class="sect4">
<h5 id="_overloaded_methods">Overloaded methods</h5>
<div class="paragraph">
<p>Since this declaration is in another class, it’s fine to create a <code>max()</code>
method even though there’s already one in the <code>Math</code> class. However, it’s possible to create more than one method with the same name even in the
same class, provided that their <em>signatures</em> are not the same. Two
methods have the same <em>signature</em> if they have the same name and
parameter types.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">max</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">,</span> <span class="kt">int</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="nf">max</span><span class="o">(</span><span class="n">max</span><span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">),</span> <span class="n">c</span><span class="o">);</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, we’ve created yet another <code>max()</code> method, but this
one takes three parameters instead of two. This method even calls the
two parameter version of <code>max()</code>. Creating more than one method with the
same name is called <em>overloading</em> those methods. Overloading methods is
useful because it allows you to use the same method name for similar
functionality, even when there are some underlying differences in the
implementation. For example, the <code>Math</code> class provides four different,
overloaded versions of the <code>max()</code> method, specialized for <code>int</code>,
<code>long</code>, <code>float</code>, and <code>double</code> values, respectively.</p>
</div>
<div class="paragraph">
<p>There are limitations on creating overloaded methods, of course. The
compiler must be able to determine which method you intend to use. Thus,
the signatures have to vary by type or number of parameters. A different
return type is not enough.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_calling_methods">8.3.2. Calling methods</h4>
<div class="paragraph">
<p>After a method has been defined, it must be called before it does
anything. You have plenty of experience calling static methods like
<code>Math.sqrt()</code> and <code>Math.max()</code>. An example of the appropriate syntax was
given earlier.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">maximum</span> <span class="o">=</span> <span class="nc">Math</span><span class="o">.</span><span class="na">max</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="mi">10</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Formally, the call starts with the name of the class (<code>Math</code>), followed
by a dot, followed by the name of the method (<code>max</code>), followed by the
list of <em>arguments</em> inside parentheses. These arguments are the values
you want to <em>pass</em> into the method. Some books use the term <em>formal
parameters</em> to describe the variables defined in the method signature
and <em>actual parameters</em> to describe the values passed into the methods,
but we stick with the simpler terms parameters and arguments.</p>
</div>
<div class="paragraph">
<p>Of course, the number of arguments must match the number of parameters
defined by the method, and the types must match as well. Java performs
automatic casting when no precision is lost. Thus, you can always supply
an <code>int</code> argument for a <code>double</code> parameter but not the reverse.
Arguments can be literal values, variables, or even other method calls
that return the appropriate type.</p>
</div>
<div class="paragraph">
<p>Using the <code>max()</code> method defined before, we could rewrite our simple
example without a class name.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">maximum</span> <span class="o">=</span> <span class="n">max</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="mi">10</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Whenever you call a static method from code that’s inside the same
class, you can leave out the class name.</p>
</div>
<div class="sect4">
<h5 id="_binding">Binding</h5>
<div class="paragraph">
<p>Many new programmers are confused about the relationship between
arguments and parameters. The process of supplying an argument to be
used as a parameter is called <em>binding</em>. Through binding, a value or
variable from the calling code is given a new name inside of a method.
Consider the following method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">add</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">;</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This absurdly short method adds two numbers together and returns the
result, approximating the functionality of the <code>+</code> operator. We could
call the method in the following context.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">z</span> <span class="o">=</span> <span class="n">add</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Inside the method, the value of <code>x</code> is bound to the variable <code>a</code>, and
the value of <code>y</code> is bound to the variable <code>b</code>. The <code>add()</code> method has
its own <em>scope</em>. Scope means the area where a variable name is visible
(or meaningful). Thus, <code>x</code> and <code>y</code> do not exist inside of the <code>add()</code>
method, only the variables <code>a</code> and <code>b</code> do. Since methods have their own
scope, variables in one method can have the same names as variables in
another method without the compiler (or the programmer!) becoming
confused. Consider the following example.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">a</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">b</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">c</span> <span class="o">=</span> <span class="n">add</span><span class="o">(</span><span class="n">b</span><span class="o">,</span> <span class="n">a</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Here the variables <code>a</code> and <code>b</code> exist in both the calling code and inside
the method, but the names are independent. The value of <code>a</code> in the
calling code happens to be bound to a variable called <code>b</code> inside the
method, but the JVM has no confusion about which <code>a</code> is which. Herein
lies the value of methods: They are largely independent of whatever else
is going on in the code, allowing the programmer to focus on a small,
manageable task.</p>
</div>
<div class="paragraph">
<p>Another important feature of Java is that the process of binding
variables is <em>pass by value</em>, meaning that only the <strong>value</strong> of the
argument is bound to the parameter. Whenever a method is called, the
method creates a new variable for each parameter and copies the value of
its argument into it. In practice, this approach means that a method
cannot directly change the value of an argument. Consider the following
method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">increment</span><span class="o">(</span><span class="kt">int</span> <span class="n">counter</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">counter</span><span class="o">++;</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This method takes the value of its argument and copies it into the new
variable <code>counter</code>. Then, it increments <code>counter</code>, but the original
argument is unchanged. Thus, the following fragment is an infinite loop.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
<span class="k">while</span><span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="o">)</span>
    <span class="n">increment</span><span class="o">(</span><span class="n">i</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The value of <code>i</code> remains fixed at <code>0</code> for the entire program. The copy
of <code>i</code> bound to <code>counter</code> increases to <code>1</code> every time <code>increment()</code> is
called, but <code>i</code> remains unaffected.</p>
</div>
<div class="paragraph">
<p>This is not to say that a method cannot affect the variables outside of
itself. The primary way that it can do so is by using <code>return</code>
statements. We can rewrite <code>increment()</code> to achieve this effect.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">increment</span><span class="o">(</span><span class="kt">int</span> <span class="n">counter</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">counter</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, we need to adjust the loop so that it stores the returned value
instead of dropping it on the floor.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
<span class="k">while</span><span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="mi">100</span><span class="o">)</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">increment</span><span class="o">(</span><span class="n">i</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>A second way that methods can affect the values of outside variables is
more indirect. In Java, every argument is passed by value, even arrays
and objects. Practically, this means that, if a reference to an array is
passed into a method, you cannot change which array it is pointing at.
Since references are not values but names pointing at particular
locations in memory, you can directly change the contents of that memory
with a method, even if you can’t change which locations are being
referenced. For example, the following method does <strong>not</strong> reverse the
order of an array.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">badReverseArray</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">array</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span><span class="o">[]</span> <span class="n">temp</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="n">array</span><span class="o">.</span><span class="na">length</span><span class="o">];</span>
    <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">array</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
        <span class="n">temp</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">array</span><span class="o">[</span><span class="n">array</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">];</span>
    <span class="n">array</span> <span class="o">=</span> <span class="n">temp</span><span class="o">;</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Although this code does store a reversed version of <code>array</code> in <code>temp</code>,
the last line of the method is meaningless: The array passed into the
method still points to the original location in memory. We can rewrite
the method to do the reversal <em>in place</em>, meaning that the values of the
array are shuffled around, but the array still occupies the same memory
locations.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">goodReverseArray</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">array</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">temp</span><span class="o">;</span>
    <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">array</span><span class="o">.</span><span class="na">length</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">array</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
        <span class="n">array</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">array</span><span class="o">[</span><span class="n">array</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">];</span>
        <span class="n">array</span><span class="o">[</span><span class="n">array</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">]</span> <span class="o">=</span> <span class="n">temp</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In this version of the method, we swap the first element of the array
with the last, the second with the second to last, and so on. We only go
up to the halfway point of the array, otherwise we would undo the reversal
process. The values of the array are reversed, but they still occupy the
same chunk of memory. It’s possible to write a correct method more in
the style of <code>badReverseArray()</code> which creates a temporary array, copies
the original values into it, and then copies them back to the original
array in reverse order, but it’s less efficient to create the extra
array and perform two copies.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_class_variables">8.3.3. Class variables</h4>
<div class="paragraph">
<p>According to the rules we’ve given so far, the only legal variables in
the scope of a static method are the parameters and any other <em>local</em>
variables declared inside the method. However, it’s possible to create
a variable that exists outside of static methods yet is visible inside
all of them. These kinds of variables are called <em>class variables</em> (or
sometimes <em>static fields</em> or <em>global variables</em>). These variables
persist <strong>between</strong> method calls. The syntax for creating such a variable
is to declare it outside of all methods (but inside the class) with the keyword <code>static</code> and an access modifier such as <code>public</code> or <code>private</code>.
For example, the following class includes a method called <code>record()</code>
that increases the class variable <code>counter</code> every time it’s called.</p>
</div>
<div id="BookkeeperProgram" class="listingblock">
<div class="title">Program 8.1 Keeps track of the number of times the <code>record()</code> method is called.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Bookkeeper</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">while</span><span class="o">(</span><span class="nc">Math</span><span class="o">.</span><span class="na">random</span><span class="o">()</span> <span class="o">&gt;</span> <span class="mf">0.001</span><span class="o">)</span>
            <span class="n">record</span><span class="o">();</span>

        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Record was called "</span> <span class="o">+</span> <span class="n">counter</span> <span class="o">+</span> <span class="s">" times."</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">record</span><span class="o">()</span> <span class="o">{</span>   
        <span class="n">counter</span><span class="o">++;</span>  
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When run, this program calls the <code>record()</code> method some random number of
times, and the variable <code>counter</code> keeps track of the number. Because <code>counter</code> is static,
it’s accessible to both the <code>main()</code> and <code>record()</code> methods.
Many programmers frown on the use of
class variables precisely because they’re visible to many different
methods. The idea of a method is to isolate pieces of code so that the
complexity of a program can be divided into simple units. In the case of
a public class variable, even code in other classes can modify its
value. If many different pieces of code can modify a variable, it may
be difficult to keep that variable from being changed in unexpected
ways. For example, if another method used the <code>counter</code> variable to record the number
of times it was called, the final value of <code>counter</code> would be the sum of
the number of times the two methods were called. There might be some
reason to keep track of such information, but it would be impossible to
reconstruct what fraction of the value in <code>counter</code> came from one method
and what fraction came from the other.</p>
</div>
<div class="paragraph">
<p>Class variables have their uses, but they should generally be avoided.
The chief exception to this rule is constants. Since a constant never changes,
a class variable is a great place to store it, making the value
available to all code. An example you’ve already used is
<code>Math.PI</code>. As with static methods, a static field from another class can
be accessed by using the class name, then a dot, and then the name of the
static field. Again, when the code using the field is in the same class,
the class name can be dropped. A class constant is declared like a class
variable, but with the addition of the <code>final</code> keyword.</p>
</div>
<div id="gravitationalAttractionExample" class="exampleblock">
<div class="title">Example 8.1 Gravitational attraction</div>
<div class="content">
<div class="paragraph">
<p>The following class allows a user to compute the one-dimensional force due to gravity.
This force <em>F</em> is given by the following equation.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="chapters/08-methods/images/gravitation.svg" alt="gravitation" width="15%">
</div>
</div>
<div class="paragraph">
<p>In this equation, <em>m</em><sub>1</sub> is the mass of one
object, <em>m</em><sub>2</sub> is the mass of another, <em>r</em> is the
distance between their centers, and <em>G</em> is the gravitational
constant, 6.673 × 10<sup>-11</sup> N⋅m<sup>2</sup>⋅kg<sup>-2</sup>.</p>
</div>
<div id="GravityProgram" class="listingblock">
<div class="title">Program 8.2 Calculates the attraction due to gravity between two masses.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kn">import</span> <span class="nn">java.util.Scanner</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Gravity</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">double</span> <span class="no">G</span> <span class="o">=</span> <span class="mf">6.673</span><span class="n">e</span><span class="o">-</span><span class="mi">11</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Scanner</span> <span class="n">in</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Scanner</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">in</span><span class="o">);</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"What is the first mass?"</span><span class="o">);</span>
        <span class="kt">double</span> <span class="n">m1</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"What is the second mass?"</span><span class="o">);</span>
        <span class="kt">double</span> <span class="n">m2</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"What is the distance between them?"</span><span class="o">);</span>
        <span class="kt">double</span> <span class="n">r</span> <span class="o">=</span> <span class="n">in</span><span class="o">.</span><span class="na">nextDouble</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"The force of gravity is "</span> <span class="o">+</span> <span class="n">force</span><span class="o">(</span><span class="n">m1</span><span class="o">,</span> <span class="n">m2</span><span class="o">,</span> <span class="n">r</span><span class="o">)</span> <span class="o">+</span> <span class="s">" N"</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">double</span> <span class="nf">force</span><span class="o">(</span><span class="kt">double</span> <span class="n">m1</span><span class="o">,</span> <span class="kt">double</span> <span class="n">m2</span><span class="o">,</span> <span class="kt">double</span> <span class="n">r</span><span class="o">)</span> <span class="o">{</span>    
        <span class="k">return</span> <span class="no">G</span><span class="o">*</span><span class="n">m1</span><span class="o">*</span><span class="n">m2</span><span class="o">/(</span><span class="n">r</span><span class="o">*</span><span class="n">r</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Use named constants whenever they increase readability. You can use the <code>public</code>
modifier if you want all classes to have access to your constant
(<code>Gravity.G</code> is a good example). You can use the <code>private</code> modifier if
you want the constant to be accessible only inside your class, if it has
no use outside, or if it contains secret information.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_examples_defining_methods">8.4. Examples: Defining methods</h3>
<div class="paragraph">
<p>Any large problem should be broken down into methods. Because the
technique is useful in so many circumstances, it’s difficult to give a
set of examples that covers all cases. Instead, our examples are
short, easy to understand methods, focusing on Euclidean distance,
testing for palindromes, and converting a <code>String</code> representation of an
<code>int</code> to an <code>int</code>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 8.2 Euclidean distance</div>
<div class="content">
<div class="paragraph">
<p>The Euclidean distance between two points is the length of a straight
line connecting them. It plays an important role in 3D graphics and
games and is the basis for many other practical applications involving
spatial relationships.</p>
</div>
<div class="paragraph">
<p>Given two points in 3D space (<em>x</em><sub>1</sub>, <em>y</em><sub>1</sub>, <em>z</em><sub>1</sub>) and
(<em>x</em><sub>2</sub>, <em>y</em><sub>2</sub>, <em>z</em><sub>2</sub>), we can compute the Euclidean distance between them with the following
equation.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="chapters/08-methods/images/distance.svg" alt="distance" width="55%">
</div>
</div>
<div class="paragraph">
<p>The method below applies this equation directly.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">double</span> <span class="nf">distance</span><span class="o">(</span><span class="kt">double</span> <span class="n">x1</span><span class="o">,</span> <span class="kt">double</span> <span class="n">y1</span><span class="o">,</span> <span class="kt">double</span> <span class="n">z1</span><span class="o">,</span>
						<span class="kt">double</span> <span class="n">x2</span><span class="o">,</span> <span class="kt">double</span> <span class="n">y2</span><span class="o">,</span> <span class="kt">double</span> <span class="n">z2</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">double</span> <span class="n">x</span> <span class="o">=</span> <span class="n">x1</span> <span class="o">-</span> <span class="n">x2</span><span class="o">;</span>
    <span class="kt">double</span> <span class="n">y</span> <span class="o">=</span> <span class="n">y1</span> <span class="o">-</span> <span class="n">y2</span><span class="o">;</span>
    <span class="kt">double</span> <span class="n">z</span> <span class="o">=</span> <span class="n">z1</span> <span class="o">-</span> <span class="n">z2</span><span class="o">;</span>
    <span class="k">return</span> <span class="nc">Math</span><span class="o">.</span><span class="na">sqrt</span><span class="o">(</span><span class="n">x</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="o">*</span><span class="n">y</span> <span class="o">+</span> <span class="n">z</span><span class="o">*</span><span class="n">z</span><span class="o">);</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This equation is a good candidate for a static method since it might be
necessary to do this calculation many times and it does not depend on
any other variables or program state.</p>
</div>
</div>
</div>
<div id="palindromeTestingExample" class="exampleblock">
<div class="title">Example 8.3 Palindrome testing</div>
<div class="content">
<div class="paragraph">
<p>A palindrome is a word or phrase (or even a number) that’s the same
spelled forward and backward. “Racecar,” “Madam, I’m Adam,” and
“Satan, oscillate my metallic sonatas” are examples in English.
Typically, spaces and punctuation are ignored. We’re going to write a
function that, given a <code>String</code>, returns <code>true</code> if it’s a palindrome
and <code>false</code> otherwise. To simplify the problem, we’re <strong>not</strong> going to
ignore spaces and punctuation. Thus, with our method, “racecar” counts
as a palindrome, but neither of the other two examples would.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">isPalindrome</span><span class="o">(</span><span class="nc">String</span> <span class="n">text</span><span class="o">)</span> <span class="o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="na">toLowerCase</span><span class="o">();</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">text</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="k">if</span><span class="o">(</span><span class="n">text</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">!=</span> <span class="n">text</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">text</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="o">))</span> <i class="conum" data-value="4"></i><b>(4)</b>
            <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
    <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Because our method returns <code>true</code> or <code>false</code>, its return type must be
<code>boolean</code>. Many methods that return a <code>boolean</code> value have a name
starting with <code>is</code>, like our method.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The first line of the body of our
method changes <code>text</code> to lowercase. The <code>String</code> method <code>toLowerCase()</code>
creates a lowercase copy of the <code>String</code> it’s called on, in this case
<code>text</code>. Then, we point the reference variable <code>text</code> at that new,
lowercase <code>String</code>. On the outside of this function, the <code>String</code> passed in
does not change because the reference <code>text</code> is passed by value.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The loop iterates through the first half of <code>text</code>, comparing it to the
second half. This loop reflects the asymmetry of these kinds of tests:
You can’t be sure that <code>text</code> is a palindrome until you’ve checked the
entire thing, but you immediately know that it’s not if even a single
pair of characters doesn’t match.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>If the test in that <code>if</code> statement
ever shows that the two <code>char</code> values aren’t equal, the <code>return false</code>
statement jumps out of the method without completing the loop.</td>
</tr>
</tbody></table>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap8.html#palindromeExercise">Exercise 8.11</a></p>
</div>
</div>
</div>
<div id="parsingANumberExample" class="exampleblock">
<div class="title">Example 8.4 Parsing a number</div>
<div class="content">
<div class="paragraph">
<p>When you read in a number using an object of the <code>Scanner</code> class, it
converts (or <em>parses</em>) the text entered by the user into the appropriate
type. For example, the <code>nextDouble()</code> method reads in some text and
convert it into a <code>double</code>. When you use a <code>JOptionPane</code> method to read
in input, it comes in as a <code>String</code>. If you want to use that data as a
<code>double</code>, you must convert it using the <code>Double.parseDouble()</code> static
method. Some Java programmer had to write this method. We’re going to
recreate a similar method to convert the <code>String</code> representation of a
floating-point number into a <code>double</code>. Our simple method ignores
scientific notation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">double</span> <span class="nf">parseDouble</span><span class="o">(</span><span class="nc">String</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kt">boolean</span> <span class="n">negative</span> <span class="o">=</span> <span class="kc">false</span><span class="o">;</span>
    <span class="kt">double</span> <span class="n">temp</span> <span class="o">=</span> <span class="mf">0.0</span><span class="o">;</span>
    <span class="kt">double</span> <span class="n">fraction</span> <span class="o">=</span> <span class="mf">10.0</span><span class="o">;</span>
    <span class="k">if</span><span class="o">(</span><span class="n">value</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">==</span> <span class="sc">'-'</span><span class="o">)</span> <span class="o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="n">negative</span> <span class="o">=</span> <span class="kc">true</span><span class="o">;</span>
        <span class="n">i</span><span class="o">++;</span>
    <span class="o">}</span>
    <span class="k">else</span> <span class="nf">if</span><span class="o">(</span><span class="n">value</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">==</span> <span class="sc">'+'</span><span class="o">)</span>
        <span class="n">i</span><span class="o">++;</span>
    <span class="k">while</span><span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">value</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&amp;&amp;</span> <span class="n">value</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">!=</span> <span class="sc">'.'</span><span class="o">)</span> <span class="o">{</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="n">temp</span> <span class="o">*=</span> <span class="mf">10.0</span><span class="o">;</span>
        <span class="n">temp</span> <span class="o">+=</span> <span class="n">value</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">-</span> <span class="sc">'0'</span><span class="o">;</span>
        <span class="n">i</span><span class="o">++;</span>
    <span class="o">}</span>
    <span class="n">i</span><span class="o">++;</span> <span class="c1">//move past decimal point (if there) </span><i class="conum" data-value="3"></i><b>(3)</b>
    <span class="k">while</span><span class="o">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">value</span><span class="o">.</span><span class="na">length</span><span class="o">())</span> <span class="o">{</span> <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="n">temp</span> <span class="o">+=</span> <span class="o">(</span><span class="n">value</span><span class="o">.</span><span class="na">charAt</span><span class="o">(</span><span class="n">i</span><span class="o">)</span> <span class="o">-</span> <span class="sc">'0'</span><span class="o">)</span> <span class="o">/</span> <span class="n">fraction</span><span class="o">;</span>
        <span class="n">fraction</span> <span class="o">*=</span> <span class="mf">10.0</span><span class="o">;</span>
        <span class="n">i</span><span class="o">++;</span>
    <span class="o">}</span>
    <span class="k">if</span><span class="o">(</span><span class="n">negative</span><span class="o">)</span> <i class="conum" data-value="5"></i><b>(5)</b>
        <span class="n">temp</span> <span class="o">=</span> <span class="o">-</span><span class="n">temp</span><span class="o">;</span>
    <span class="k">return</span> <span class="n">temp</span><span class="o">;</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>After declaring a few variables, this method first checks index <code>0</code> in
the input <code>String</code> <code>value</code> to see if it is a <code>'-'</code> or a <code>'+'</code>. If it is
a <code>'-'</code>, it sets <code>negative</code> to <code>true</code> and moves on. If it is a <code>'+'</code>, it
simply moves on.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Then, the method loops through <code>value</code> until it reaches
the end or reaches a decimal point. As it iterates, it multiplies the
current value of <code>temp</code> by <code>10.0</code> and adds in the next digit from <code>value</code>
(after subtracting <code>'0'</code> so that the range is is from 0 to 9). This
repetitive multiplication by <code>10.0</code> accounts for the increasing powers of 10
in the base 10 number system. Since <code>temp</code> starts with a value of <code>0.0</code>,
the first multiplication has no effect, as intended.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>After the first <code>while</code> loop, the index <code>i</code> is incremented once, to skip
the decimal point, if there is one. If there is no decimal point, the
loop must have exited because the end of <code>value</code> had been reached.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The second <code>while</code> loop runs to the end of <code>value</code>, this time adding in each
digit value divided by <code>fraction</code>, which is increased by a factor of <code>10.0</code>
each time. Doing so allows us to add smaller and smaller fractional
digits to the total.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>We set <code>temp</code> to its opposite if the flag
<code>negative</code> was set earlier and finally return <code>temp</code>.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Note that the real <code>Double.parseDouble()</code> method not only
accepts <code>String</code> values in scientific notation but also does a great
deal of error checking. Our code either crashes or gives inaccurate
results on an empty <code>String</code>, a <code>String</code> containing non-numerical
characters, or a <code>String</code> with more than one decimal point. Furthermore,
this code does not use the best approach for minimizing floating-point
precision errors.</p>
</div>
</div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p><a href="chap8.html#scientificNotationExercise">Exercise 8.12</a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_solution_three_card_poker">8.5. Solution: Three card poker</h3>
<div class="paragraph">
<p>Here we present our solution to the three card poker problem. We explain
each method individually.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ThreeCardPoker</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span><span class="o">[]</span> <span class="no">SUITS</span> <span class="o">=</span> <span class="o">{</span><span class="s">"Spades"</span><span class="o">,</span> <span class="s">"Hearts"</span><span class="o">,</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="s">"Diamonds"</span><span class="o">,</span> <span class="s">"Clubs"</span><span class="o">};</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="nc">String</span><span class="o">[]</span> <span class="no">RANKS</span> <span class="o">=</span> <span class="o">{</span><span class="s">"2"</span><span class="o">,</span> <span class="s">"3"</span><span class="o">,</span> <span class="s">"4"</span><span class="o">,</span> <span class="s">"5"</span><span class="o">,</span> <span class="s">"6"</span><span class="o">,</span>
        <span class="s">"7"</span><span class="o">,</span> <span class="s">"8"</span><span class="o">,</span> <span class="s">"9"</span><span class="o">,</span> <span class="s">"10"</span><span class="o">,</span> <span class="s">"Jack"</span><span class="o">,</span> <span class="s">"Queen"</span><span class="o">,</span> <span class="s">"King"</span><span class="o">,</span> <span class="s">"Ace"</span><span class="o">};</span>   
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">STRAIGHT_FLUSH</span> <span class="o">=</span> <span class="mi">40</span><span class="o">;</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">THREE_OF_A_KIND</span> <span class="o">=</span> <span class="mi">30</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">STRAIGHT</span> <span class="o">=</span> <span class="mi">6</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">FLUSH</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>  
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">PAIR</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kd">final</span> <span class="kt">int</span> <span class="no">NOTHING</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Before our <code>main()</code> method begins, we declare a number of
class constants. Two constant arrays of <code>String</code> values provide us with
an easy way to represent suits and ranks.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The remaining six <code>int</code>
constants are used to allocate a winning payoff to each possible
outcome.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>Note that these constants can be declared anywhere inside the
class, provided that they’re outside of methods. However, it’s
typical (and good style) to declare them at the top of the class.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">deck</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">52</span><span class="o">];</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="kt">int</span><span class="o">[]</span> <span class="n">hand</span> <span class="o">=</span> <span class="k">new</span> <span class="kt">int</span><span class="o">[</span><span class="mi">3</span><span class="o">];</span>                
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">deck</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <i class="conum" data-value="2"></i><b>(2)</b>
            <span class="n">deck</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
        <span class="n">shuffle</span><span class="o">(</span><span class="n">deck</span><span class="o">);</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">hand</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <i class="conum" data-value="3"></i><b>(3)</b>
            <span class="n">hand</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">deck</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>      
        <span class="kt">int</span> <span class="n">winnings</span> <span class="o">=</span> <span class="n">score</span><span class="o">(</span><span class="n">hand</span><span class="o">);</span> <i class="conum" data-value="4"></i><b>(4)</b>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Hand: "</span><span class="o">);</span>
        <span class="n">print</span><span class="o">(</span><span class="n">hand</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">winnings</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span> <i class="conum" data-value="5"></i><b>(5)</b>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"You win nothing."</span><span class="o">);</span>
        <span class="k">else</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"You win "</span> <span class="o">+</span> <span class="n">winnings</span> <span class="o">+</span>
            <span class="s">" times your bet."</span><span class="o">);</span>
    <span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>In the <code>main()</code> method, an array representing a deck of 52 cards is
created first, followed by an array representing the 3 cards to be
dealt.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The deck is filled sequentially and then shuffled with a method.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Next, the first 3 cards of the deck are copied into the array
representing the hand of cards.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The score of the hand is determined, and
then the hand is printed out. We print the hand after determining the
score because the hand is sorted in the process of determining the
score, making the output easier to read.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Finally, we print the
appropriate output, depending on the score.</td>
</tr>
</tbody></table>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">shuffle</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">deck</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">index</span><span class="o">,</span> <span class="n">temp</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">deck</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">index</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="o">(</span><span class="kt">int</span><span class="o">)((</span><span class="n">deck</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="n">i</span><span class="o">)*</span><span class="nc">Math</span><span class="o">.</span><span class="na">random</span><span class="o">());</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="n">deck</span><span class="o">[</span><span class="n">index</span><span class="o">];</span>
            <span class="n">deck</span><span class="o">[</span><span class="n">index</span><span class="o">]</span> <span class="o">=</span> <span class="n">deck</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
            <span class="n">deck</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">temp</span><span class="o">;</span>
        <span class="o">}</span>       
    <span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This method shuffles the deck. Its approach is to swap the first element
in the array of cards with one of the elements that follow, chosen
randomly. Then, it swaps the second element in the array with any of the
elements that follow it, and so on. If <code>Math.random()</code> truly gives us a
uniformly generated random number in the range [0,1), the
final shuffled deck should be any one of the 52! possible
decks with equal probability.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">hand</span><span class="o">)</span> <span class="o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">hand</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="no">RANKS</span><span class="o">[</span><span class="n">getRank</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="n">i</span><span class="o">])]</span> <span class="o">+</span> <span class="s">" of "</span>
            <span class="o">+</span> <span class="no">SUITS</span><span class="o">[</span><span class="n">getSuit</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="n">i</span><span class="o">])]);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">getRank</span><span class="o">(</span><span class="kt">int</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span> <span class="k">return</span> <span class="n">value</span> <span class="o">%</span> <span class="mi">13</span><span class="o">;</span> <span class="o">}</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">getSuit</span><span class="o">(</span><span class="kt">int</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span> <span class="k">return</span> <span class="n">value</span> <span class="o">/</span> <span class="mi">13</span><span class="o">;</span> <span class="o">}</span> <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The first of these methods prints out a human readable version of each
card in an array (instead of 0 - 51). It does so using the second and
third methods as helper methods.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Method <code>getRank()</code> computes the rank&nbsp;of
a card from its number.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Method <code>getSuit()</code> computes the suit of a
card from its number.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The indexes obtained from these methods are used
to index into the <code>RANKS</code> and <code>SUITS</code> arrays.</p>
</div>
<div class="paragraph">
<p>In the C language, calling the equivalent of a method from a method defined earlier
requires a special declaration step called <em>prototyping</em> before both
methods. Java does not have this complication, and the <code>getRank()</code> and
<code>getSuit()</code> methods compile and function perfectly if they are written
above <code>print()</code> or below it inside the class definition.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java">    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">score</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">hand</span><span class="o">)</span> <span class="o">{</span>  
        <span class="n">sortByRank</span><span class="o">(</span><span class="n">hand</span><span class="o">);</span> 
        <span class="k">if</span><span class="o">(</span><span class="n">hasStraight</span><span class="o">(</span><span class="n">hand</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">hasFlush</span><span class="o">(</span><span class="n">hand</span><span class="o">))</span>
            <span class="k">return</span> <span class="no">STRAIGHT_FLUSH</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">hasThree</span><span class="o">(</span><span class="n">hand</span><span class="o">))</span>
            <span class="k">return</span> <span class="no">THREE_OF_A_KIND</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">hasStraight</span><span class="o">(</span><span class="n">hand</span><span class="o">))</span>
            <span class="k">return</span> <span class="no">STRAIGHT</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">hasFlush</span><span class="o">(</span><span class="n">hand</span><span class="o">))</span>
            <span class="k">return</span> <span class="no">FLUSH</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="n">hasPair</span><span class="o">(</span><span class="n">hand</span><span class="o">))</span>
            <span class="k">return</span> <span class="no">PAIR</span><span class="o">;</span>        
        <span class="k">return</span> <span class="no">NOTHING</span><span class="o">;</span>
    <span class="o">}</span>   </code></pre>
</div>
</div>
<div class="paragraph">
<p>This method computes the score by first sorting the hand and then
testing progressively worse outcomes, starting with the best, a straight
flush. As it moves down the list of outcomes, it calls appropriate
methods to determine if a hand has a certain characteristic.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java">    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">sortByRank</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">hand</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">smallest</span><span class="o">,</span> <span class="n">temp</span><span class="o">;</span>
        <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">hand</span><span class="o">.</span><span class="na">length</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">smallest</span> <span class="o">=</span> <span class="n">i</span><span class="o">;</span>
            <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">hand</span><span class="o">.</span><span class="na">length</span><span class="o">;</span> <span class="n">j</span><span class="o">++)</span> <span class="o">{</span>
                <span class="k">if</span><span class="o">(</span><span class="n">getRank</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="n">j</span><span class="o">])</span> <span class="o">&lt;</span> <span class="n">getRank</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="n">smallest</span><span class="o">]))</span>
                    <span class="n">smallest</span> <span class="o">=</span> <span class="n">j</span><span class="o">;</span>
            <span class="o">}</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="n">hand</span><span class="o">[</span><span class="n">smallest</span><span class="o">];</span>
            <span class="n">hand</span><span class="o">[</span><span class="n">smallest</span><span class="o">]</span> <span class="o">=</span> <span class="n">hand</span><span class="o">[</span><span class="n">i</span><span class="o">];</span>
            <span class="n">hand</span><span class="o">[</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">temp</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>This code is an implementation of selection sort packaged into a method.
Note that this method <strong>does</strong> change the values inside of the
array <code>hand</code> even though it cannot change the array that <code>hand</code> points
to. The array itself is passed by value, but its contents are
effectively passed by reference.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java">    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">hasPair</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">hand</span><span class="o">)</span> <span class="o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="k">return</span> <span class="nf">getRank</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="mi">0</span><span class="o">])</span> <span class="o">==</span> <span class="n">getRank</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="mi">1</span><span class="o">])</span> <span class="o">||</span>
               <span class="n">getRank</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="mi">1</span><span class="o">])</span> <span class="o">==</span> <span class="n">getRank</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="mi">2</span><span class="o">]);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">hasThree</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">hand</span><span class="o">)</span> <span class="o">{</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="k">return</span> <span class="nf">getRank</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="mi">0</span><span class="o">])</span> <span class="o">==</span> <span class="n">getRank</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="mi">1</span><span class="o">])</span> <span class="o">&amp;&amp;</span>
               <span class="n">getRank</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="mi">1</span><span class="o">])</span> <span class="o">==</span> <span class="n">getRank</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="mi">2</span><span class="o">]);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">hasFlush</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">hand</span><span class="o">)</span> <span class="o">{</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="k">return</span> <span class="nf">getSuit</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="mi">0</span><span class="o">])</span> <span class="o">==</span> <span class="n">getSuit</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="mi">1</span><span class="o">])</span> <span class="o">&amp;&amp;</span>
               <span class="n">getSuit</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="mi">1</span><span class="o">])</span> <span class="o">==</span> <span class="n">getSuit</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="mi">2</span><span class="o">]);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">hasStraight</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">hand</span><span class="o">)</span> <span class="o">{</span> <span class="c1">//&lt;.&gt;    </span>
        <span class="k">return</span> <span class="o">(</span><span class="n">getRank</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="mi">0</span><span class="o">])</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">getRank</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="mi">1</span><span class="o">])</span> <span class="o">==</span> <span class="mi">1</span>
                <span class="o">&amp;&amp;</span> <span class="n">getRank</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="mi">2</span><span class="o">])</span> <span class="o">==</span> <span class="mi">12</span><span class="o">)</span> <span class="o">||</span> <span class="c1">//ace low</span>
               <span class="o">(</span><span class="n">getRank</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="mi">1</span><span class="o">])</span> <span class="o">==</span> <span class="n">getRank</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="mi">0</span><span class="o">])</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&amp;&amp;</span>
                <span class="n">getRank</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="mi">2</span><span class="o">])</span> <span class="o">==</span> <span class="n">getRank</span><span class="o">(</span><span class="n">hand</span><span class="o">[</span><span class="mi">1</span><span class="o">])</span> <span class="o">+</span> <span class="mi">1</span><span class="o">);</span>
    <span class="o">}</span>   
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The code in <code>hasPair()</code> works by
checking to see if the first and second or second and third cards have
the same rank.  An extra condition would be required if the cards weren’t sorted.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The code in <code>hasThree()</code> checks to see if all the ranks
are the same.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The code in <code>hasFlush()</code> is the same as <code>hasThree()</code>
except that it checks for suit instead of rank.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Finally, <code>hasStraight()</code>
checks to see if the ranks come one after the other, with an extra
case to deal with the possibility of the ace counting as low.
This test only works because the cards were sorted previously.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>These four methods would be similar but more complex for five- or
seven-card poker hands.</p>
</div>
</div>
<div class="sect2">
<h3 id="_concurrency_methods">8.6. Concurrency: Methods</h3>
<div class="paragraph">
<p>In Java, it’s impossible to have concurrency without methods. Methods
are the way we break a large program into manageable pieces but are also
part of the syntax that Java uses to create threads of execution. Each
thread of execution is associated with a <code>Thread</code> object; however, creating
the object is not enough to start a new thread of execution running.
Only when the <code>start()</code> method is called on the <code>Thread</code> object does the
new thread start running.</p>
</div>
<div class="paragraph">
<p>Hopefully, you’ve begun to visualize the execution of Java programs as
an arrow that sits next to each line of code as it’s executed. This
arrow can jump to a choice and skip over other code using <code>if</code> and
<code>switch</code> statements. Using loops, the arrow can jump backward and
repeatedly execute code it’s just executed. As we discussed in
this chapter, the arrow can jump into a method, execute the code in that
method, and then return to its caller, going back right to where it left
off before the call.</p>
</div>
<div class="paragraph">
<p>When the <code>start()</code> method is called on a <code>Thread</code> object, however, the
arrow returns to the caller, but it also splits itself into a second
arrow that then executes the corresponding <code>run()</code> method and any other
methods it calls. Note that we’re talking about a method called on a
<code>Thread</code> object, not a static method called on the class as a whole.
Calling <code>start()</code> is an instance method, which we discuss in
<a href="chap9.html">Chapter 9</a>. Unlike the static methods in this chapter,
an instance method is tied to a particular object, but
most of what you’ve learned about methods still applies.</p>
</div>
<div class="paragraph">
<p>Methods are supposed to make programming easier by breaking programs
into chunks small enough to think about. One of the only real dangers of
methods is using class variables, as mentioned in
<a href="chap8.html#_class_variables">Section 8.3.3</a>. This problem becomes worse with
multiple threads. With a single thread, two or more different methods
can all affect the same class variable, perhaps in conflicting ways.
With multiple threads, even the <strong>same</strong> method can interfere with itself.</p>
</div>
<div class="exampleblock">
<div class="title">Example 8.5 LCG without thread safety</div>
<div class="content">
<div class="paragraph">
<p>A linear congruential generator (LCG) allows you to create a sequence of
pseudorandom numbers using the equation
<em>x</em><sub>i</sub> = (<em>ax</em><sub><em>i</em>-1</sub> + <em>b</em>) mod <em>m</em>, deriving the next number from the
previous one, and so on.</p>
</div>
<div id="UnsafeRandomProgram" class="listingblock">
<div class="title">Program 8.3 Implements an LCG similar to one sometimes used in the function <code>rand()</code> used in the C language.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">UnsafeRandom</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">next</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="kt">int</span> <span class="no">A</span> <span class="o">=</span> <span class="mi">1103515245</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="kt">int</span> <span class="no">B</span> <span class="o">=</span> <span class="mi">12345</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="kt">int</span> <span class="no">M</span> <span class="o">=</span> <span class="mi">32768</span><span class="o">;</span>
    
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">nextInt</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">next</span> <span class="o">=</span> <span class="o">(</span><span class="no">A</span><span class="o">*</span><span class="n">next</span> <span class="o">+</span> <span class="no">B</span><span class="o">)</span> <span class="o">%</span> <span class="no">M</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>UnsafeRandom</code> program listed above always generates the same
sequence of pseudorandom numbers, which can be useful for debugging
a program. However, if two or more threads call <code>nextInt()</code>, they’ll
probably get different sequences. One thread will pick up some of
the numbers, and the other will pick up the missing numbers in between. If
each thread wants to generate the same sequence of numbers, the method
should be rewritten so that it takes in the <strong>previous</strong> number in the
sequence. In that way, there’s no shared state. Remember that using a
(non-final) class variable should be avoided whenever
possible.</p>
</div>
<div id="SafeRandomProgram" class="listingblock">
<div class="title">Program 8.4 Implements the same LCG safely by requiring the caller to supply the previous random number.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SafeRandom</span> <span class="o">{</span>   
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="kt">int</span> <span class="no">A</span> <span class="o">=</span> <span class="mi">1103515245</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="kt">int</span> <span class="no">B</span> <span class="o">=</span> <span class="mi">12345</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="kt">int</span> <span class="no">M</span> <span class="o">=</span> <span class="mi">32768</span><span class="o">;</span>
    
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">nextInt</span><span class="o">(</span><span class="kt">int</span> <span class="n">previous</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="no">A</span><span class="o">*</span><span class="n">previous</span> <span class="o">+</span> <span class="no">B</span><span class="o">)</span> <span class="o">%</span> <span class="no">M</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 8.6 Unpredictable methods</div>
<div class="content">
<div class="paragraph">
<p>By forcing each thread to carry its own state, we fixed the previous
problem. In <a href="chap14.html">Chapter 14</a> we’ll talk about the much
nastier problem of two threads executing a method at exactly the same
time. When that happens, very curious effects are possible. Consider the
following program.</p>
</div>
<div id="AlwaysEvenProgram" class="listingblock">
<div class="title">Program 8.5 The <code>print()</code> method always prints <code>"Even"</code> when run with a single thread but can sometimes print <code>"Odd"</code> if called repeatedly with multiple threads.</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">AlwaysEven</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>        
        <span class="n">value</span><span class="o">++;</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="k">if</span><span class="o">(</span><span class="n">value</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Even"</span><span class="o">);</span>
        <span class="k">else</span>
            <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Odd"</span><span class="o">);</span>
        <span class="n">value</span><span class="o">++;</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tbody><tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>With a single thread running, <code>value</code> always goes up to an even number
before printing.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Afterward, it increments to the next odd number.</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>If two or more threads call the <code>print()</code> method, <code>value</code> could
be changed by one right before the other executes the <code>if</code> statements.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_exercises_8">8.7. Exercises</h3>
<div class="paragraph">
<p><strong>Conceptual Problems</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Describe three advantages of dividing long segments of code into
static methods.</p>
</li>
<li>
<p>Can you think of any disadvantages of dividing code into methods?
Are there situations in which using a method is unwise?</p>
</li>
<li>
<p>If you wanted to declare a static method that would compute the
mean, median, and standard deviation of an input array of <code>double</code>
values, how would you return those three answers?</p>
</li>
<li>
<p>Consider the following method definition.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">twice</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">i</span><span class="o">;</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>How many times does the following loop run, and why?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
<span class="k">while</span><span class="o">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">128</span><span class="o">)</span>
    <span class="n">twice</span><span class="o">(</span><span class="n">x</span><span class="o">);</span></code></pre>
</div>
</div>
</li>
<li>
<p>Consider the following signatures of two overloaded methods.</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">magic</span><span class="o">(</span><span class="kt">int</span> <span class="n">rabbit</span><span class="o">,</span> <span class="kt">double</span> <span class="n">hat</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">magic</span><span class="o">(</span><span class="kt">double</span> <span class="n">wand</span><span class="o">,</span> <span class="kt">int</span> <span class="n">spell</span><span class="o">)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Which method would be invoked by the following call?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">magic</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">16</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>What about the following?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">magic</span><span class="o">(</span><span class="mf">3.2</span><span class="o">,</span> <span class="mf">16.4</span><span class="o">);</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Use a compiler to check your answers.</p>
</div>
</li>
<li>
<p>The following class generates a sequence of even numbers. Each time
the <code>next()</code> method is called, the next even number in the sequence is
returned. What’s the design problem with using a static field to keep
track of the next value in the sequence?</p>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">EvenNumbers</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="kd">static</span> <span class="kt">int</span> <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">next</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">counter</span> <span class="o">+=</span> <span class="mi">2</span><span class="o">;</span>
        <span class="k">return</span> <span class="n">counter</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Programming Practice</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>Write a static method called <code>cube()</code> that takes a single <code>double</code>
value as a parameter and returns its value cubed. Do not use the
<code>Math.pow()</code> method.</p>
</li>
<li>
<p>Implement a static method that takes a single <code>int</code> value as a
parameter and prints its digits in reverse. For example, if <code>103</code> was
passed into this method, it would print <code>301</code> to the screen.</p>
<div class="paragraph">
<p>You can find out what digit is in the ones place of a number by taking
its remainder modulus 10. Then, you can remove the digit in the ones
place by dividing by 10. Do not convert the <code>int</code> value into a <code>String</code>.</p>
</div>
</li>
<li>
<p>Write a static method that takes an array of <code>int</code> values as a
parameter and returns <code>true</code> if the array is in ascending order and
<code>false</code> otherwise. Compare each element of the array to the next element
of the array. If the current element is ever larger than the next
element, the array is not sorted in ascending order. Note that you can
only be sure that the array is in ascending order after you have checked
all neighboring pairs.</p>
</li>
<li>
<p>Write a static method that finds the
⌊log<sub>2</sub> <em>n</em>⌋  of an integer <em>n</em>.
Note that if log<sub>2</sub> <em>n</em> = <em>x</em>, it’s also true that
<em>n</em> = 2<sup><em>x</em></sup>. In other words, the log<sub>2</sub> operator
tells you what power of 2 a number is. One way to define
the log<sub>2</sub> <em>n</em> is the number of times you have to divide
<em>n</em> by 2 to get 1. Use this
definition to make a loop that finds the value without using any calls
to the <code>Math</code> library.</p>
<div class="paragraph">
<p>Here are some examples of the return values your method should give for
various input values of <em>n</em>.</p>
</div>
<table class="tableblock frame-all grid-all fit-content center">
<colgroup>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><em>n</em></th>
<th class="tableblock halign-center valign-top">Return Value</th>
<th class="tableblock halign-center valign-top"></th>
<th class="tableblock halign-center valign-top"><em>n</em></th>
<th class="tableblock halign-center valign-top">Return Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">512</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1024</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">10</p></td>
</tr>
</tbody>
</table>
</li>
<li>
<p><a id="palindromeExercise"></a> Write a method that tests palindromes like
the method from <a href="chap8.html#palindromeTestingExample">Example 8.3</a> but also ignores
punctuation and spaces. Thus, <code>"A man, a plan, a canal: Panama"</code> should
be counted as a palindrome by this new method.</p>
</li>
<li>
<p><a id="scientificNotationExercise"></a> Add to the <code>parseDouble()</code> method from
<a href="chap8.html#parsingANumberExample">Example 8.4</a> so that it can also handle numbers in standard Java
scientific notation, such as <code>7.239e-14</code>.  Note that the <code>e</code> can be uppercase
or lowercase, and the exponent can begin with a minus sign (<code>-</code>), a plus sign (<code>+</code>),
or neither.</p>
</li>
<li>
<p>Re-implement the solution from <a href="chap8.html#_solution_three_card_poker">Section 8.5</a>
so that it uses a GUI constructed with <code>JOptionPane</code> to display the hand
and the winnings.</p>
</li>
<li>
<p>Five card poker is a much more common version of poker than the
three card version we discussed in <a href="chap8.html#_problem_three_card_poker">Section 8.1</a>.
Using static methods, implement a two-player game of poker in which the
deck is shuffled and then dealt into two hands of five cards each. Then,
state which player’s hand wins. With five cards, determining which hand
wins is a more complicated process. The rankings of the various possible
hands from best to worst are as follows.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Straight Flush</dt>
<dd>
<p>All five cards belong to the same suit and have ranks in sequential
order (with either ace high or low). If two people both have straight
flushes, the higher ranked one wins. If they both have the same ranks,
it is a tie.</p>
</dd>
<dt class="hdlist1">Four of a Kind</dt>
<dd>
<p>Four of the five cards have the same rank. If two people have four
of a kind, the higher rank set of four wins.</p>
</dd>
<dt class="hdlist1">Full House</dt>
<dd>
<p>Three of the five cards have the same rank and the other two share
another rank. If two people have a full house, the higher ranked set of
three wins.</p>
</dd>
<dt class="hdlist1">Flush</dt>
<dd>
<p>All five cards have the same suit. If two people have flushes, the
one with the highest card wins. If the highest card is a tie, the next
highest is the tie breaker, and so on. If the two flushes have exactly
the same ranks, the two flushes tie.</p>
</dd>
<dt class="hdlist1">Straight</dt>
<dd>
<p>All five cards have ranks in sequential order (with either ace high
or low). If two people both have straight, the higher ranked one
wins. If they both have the same ranks, it is a tie.</p>
</dd>
<dt class="hdlist1">Three of a Kind</dt>
<dd>
<p>Three of the cards have the same rank. If two people have three of a
kind, the higher ranked set of three wins.</p>
</dd>
<dt class="hdlist1">Two Pair</dt>
<dd>
<p>A pair of cards have the same rank and another pair of cards share
another rank. If two people both have two pairs, the higher ranked pair
is a tiebreaker. If the higher ranked pair is the same, the lower ranked
pair is a tiebreaker. If the lower ranked pair is the same, the final
unpaired card is the tiebreaker. If all the ranks of both hands match,
it is a tie.</p>
</dd>
<dt class="hdlist1">Pair</dt>
<dd>
<p>A pair of cards has the same rank. If two people have pairs, the
rank of the pair is a tiebreaker. If the pairs have the same rank, the
remaining cards in each hand are tiebreakers, in descending rank order.</p>
</dd>
<dt class="hdlist1">High Card</dt>
<dd>
<p>If none of the other cases hold, the high card determines the value
of the hand. If two people have the same highest card, the remaining
cards in each hand are used as tiebreakers, in descending rank order.</p>
</dd>
</dl>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Experiments</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="15">
<li>
<p>In terms of time, there’s a small overhead associated with calling
a method and returning a value, but it’s very hard to measure. Write a
program with two <code>int</code> variables, <code>a</code> and <code>b</code>, where <code>a</code> starts with a
value of <code>1</code> and <code>b</code> starts with a value of <code>2</code>. Run a <code>for</code> loop
100,000,000 times. On each iteration first increase the value of <code>a</code> by
the value of <code>b</code> and then increase the value of <code>b</code> by <code>a</code>. Time this
loop with <code>System.nanoTime()</code>, and then print out the time taken and the
value of <code>a</code>. The value of <code>a</code> is not important, but the compiler will
optimize away the math done with <code>a</code> and <code>b</code> unless we output the value.
We recommend that you run this program repeatedly to get a sense of the
average running time.</p>
<div class="paragraph">
<p>Now, instead of using the <code>+</code> operator to add <code>a</code> and <code>b</code>, use the
following method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">add</span><span class="o">(</span><span class="kt">int</span> <span class="n">a</span><span class="o">,</span> <span class="kt">int</span> <span class="n">b</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">;</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Again, run your program repeatedly with this modification. What’s the
difference in running time between the version that uses a method and
the version that does addition directly?</p>
</div>
<div class="paragraph">
<p>Depending on your JVM, it’s quite possible that there’s almost no
difference. The JVM does a lot of optimizations including <em>inlining</em>,
which replaces a call to a short method with the actual code inside the
method.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
</div></div>

<nav>
  <a rel="prev" href="chap7.html" class="nav nav-prev" title="Previous page" aria-label="Previous page" aria-keyshortcuts="Left">
        <i class="fa fa-angle-left"></i>
     </a>
  <a rel="next" href="chap9.html" class="nav nav-next" title="Next page" aria-label="Next page" aria-keyshortcuts="Right">
        <i class="fa fa-angle-right"></i>
     </a>
  <div style="clear: both"></div>
</nav>
<div id="footer">
<div id="footer-text">
Last updated 2019-10-17 14:40:34 -0400
</div>
</div>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-129929421-1','auto');
ga('send','pageview');
</script>

</body>
  <script>
  function isInViewport(ele) {
    const rect = ele.getBoundingClientRect();
    return (
        rect.top >= 0 &&
        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight)
    );
  }
  function yPosition (ele) {
    const rect = ele.getBoundingClientRect();
    return (rect.top - 20); // 20px above
  }
  let curr = document.getElementsByClassName('current');
  if (!isInViewport(curr[curr.length - 1])) {
    document.getElementById('toc').scrollTo({
      top: yPosition(curr[0]),
      left: 0,
      behavior: 'smooth'
    });
  }

  /* For page navigation */
  function gotoPage(selector) {
    const button = document.querySelector(selector);
    if (button)
      window.location.href = button.href;
  }
  document.addEventListener('keydown', e => {
    switch (e.key) {
      case 'ArrowRight':
        e.preventDefault();
        gotoPage('.nav-next');
        break;
      case 'ArrowLeft':
        e.preventDefault();
        gotoPage('.nav-prev');
        break;
    }
  });
  </script>
  </html>